{"version":3,"sources":["webpack://x_data_spreadsheet/webpack/universalModuleDefinition","webpack://x_data_spreadsheet/webpack/bootstrap","webpack://x_data_spreadsheet/./src/component/element.js","webpack://x_data_spreadsheet/./src/config.js","webpack://x_data_spreadsheet/./src/locale/locale.js","webpack://x_data_spreadsheet/./src/locale/en.js","webpack://x_data_spreadsheet/./src/component/event.js","webpack://x_data_spreadsheet/./src/component/icon.js","webpack://x_data_spreadsheet/./assets/undo.svg","webpack://x_data_spreadsheet/./assets/redo.svg","webpack://x_data_spreadsheet/./assets/print.svg","webpack://x_data_spreadsheet/./assets/paintformat.svg","webpack://x_data_spreadsheet/./assets/clearformat.svg","webpack://x_data_spreadsheet/./assets/bold.svg","webpack://x_data_spreadsheet/./assets/font-italic.svg","webpack://x_data_spreadsheet/./assets/underline.svg","webpack://x_data_spreadsheet/./assets/strikeout.svg","webpack://x_data_spreadsheet/./assets/color.svg","webpack://x_data_spreadsheet/./assets/bgcolor.svg","webpack://x_data_spreadsheet/./assets/merge.svg","webpack://x_data_spreadsheet/./assets/align-left.svg","webpack://x_data_spreadsheet/./assets/align-center.svg","webpack://x_data_spreadsheet/./assets/align-right.svg","webpack://x_data_spreadsheet/./assets/align-top.svg","webpack://x_data_spreadsheet/./assets/align-middle.svg","webpack://x_data_spreadsheet/./assets/align-bottom.svg","webpack://x_data_spreadsheet/./assets/textwrap.svg","webpack://x_data_spreadsheet/./assets/filter.svg","webpack://x_data_spreadsheet/./assets/formulas.svg","webpack://x_data_spreadsheet/./assets/arrow-down.svg","webpack://x_data_spreadsheet/./assets/arrow-right.svg","webpack://x_data_spreadsheet/./assets/link.svg","webpack://x_data_spreadsheet/./assets/graph.svg","webpack://x_data_spreadsheet/./assets/freeze.svg","webpack://x_data_spreadsheet/./assets/ellipsis.svg","webpack://x_data_spreadsheet/./assets/add.svg","webpack://x_data_spreadsheet/./assets/border-all.svg","webpack://x_data_spreadsheet/./assets/border-inside.svg","webpack://x_data_spreadsheet/./assets/border-horizontal.svg","webpack://x_data_spreadsheet/./assets/border-vertical.svg","webpack://x_data_spreadsheet/./assets/border-outside.svg","webpack://x_data_spreadsheet/./assets/border-left.svg","webpack://x_data_spreadsheet/./assets/border-top.svg","webpack://x_data_spreadsheet/./assets/border-right.svg","webpack://x_data_spreadsheet/./assets/border-bottom.svg","webpack://x_data_spreadsheet/./assets/border-none.svg","webpack://x_data_spreadsheet/./assets/line-color.svg","webpack://x_data_spreadsheet/./assets/line-type.svg","webpack://x_data_spreadsheet/./assets/chevron-left.svg","webpack://x_data_spreadsheet/./assets/chevron-right.svg","webpack://x_data_spreadsheet/./assets/close.svg","webpack://x_data_spreadsheet/./src/core/helper.js","webpack://x_data_spreadsheet/./src/core/alphabet.js","webpack://x_data_spreadsheet/./src/core/cell_range.js","webpack://x_data_spreadsheet/./src/component/dropdown.js","webpack://x_data_spreadsheet/./node_modules/numfmt/index.js","webpack://x_data_spreadsheet/./src/core/font.js","webpack://x_data_spreadsheet/./src/canvas/draw.js","webpack://x_data_spreadsheet/./src/component/form_input.js","webpack://x_data_spreadsheet/./src/core/format.js","webpack://x_data_spreadsheet/./src/core/formula.js","webpack://x_data_spreadsheet/./src/component/table.js","webpack://x_data_spreadsheet/(webpack)/buildin/global.js","webpack://x_data_spreadsheet/./src/core/cell.js","webpack://x_data_spreadsheet/./src/component/bottombar.js","webpack://x_data_spreadsheet/./src/component/resizer.js","webpack://x_data_spreadsheet/./src/component/scrollbar.js","webpack://x_data_spreadsheet/./src/component/selector.js","webpack://x_data_spreadsheet/./src/component/suggest.js","webpack://x_data_spreadsheet/./src/component/calendar.js","webpack://x_data_spreadsheet/./src/component/datepicker.js","webpack://x_data_spreadsheet/./src/component/editor.js","webpack://x_data_spreadsheet/./src/component/button.js","webpack://x_data_spreadsheet/./src/component/print.js","webpack://x_data_spreadsheet/./src/component/contextmenu.js","webpack://x_data_spreadsheet/./src/component/toolbar/item.js","webpack://x_data_spreadsheet/./src/component/tooltip.js","webpack://x_data_spreadsheet/./src/component/toolbar/dropdown_item.js","webpack://x_data_spreadsheet/./src/component/dropdown_align.js","webpack://x_data_spreadsheet/./src/component/toolbar/align.js","webpack://x_data_spreadsheet/./src/component/toolbar/valign.js","webpack://x_data_spreadsheet/./src/component/toolbar/toggle_item.js","webpack://x_data_spreadsheet/./src/component/toolbar/autofilter.js","webpack://x_data_spreadsheet/./src/component/toolbar/bold.js","webpack://x_data_spreadsheet/./src/component/toolbar/italic.js","webpack://x_data_spreadsheet/./src/component/toolbar/strike.js","webpack://x_data_spreadsheet/./src/component/toolbar/underline.js","webpack://x_data_spreadsheet/./src/component/color_palette.js","webpack://x_data_spreadsheet/./src/component/dropdown_color.js","webpack://x_data_spreadsheet/./src/component/dropdown_linetype.js","webpack://x_data_spreadsheet/./src/component/border_palette.js","webpack://x_data_spreadsheet/./src/component/dropdown_border.js","webpack://x_data_spreadsheet/./src/component/toolbar/border.js","webpack://x_data_spreadsheet/./src/component/toolbar/icon_item.js","webpack://x_data_spreadsheet/./src/component/toolbar/clearformat.js","webpack://x_data_spreadsheet/./src/component/toolbar/paintformat.js","webpack://x_data_spreadsheet/./src/component/toolbar/text_color.js","webpack://x_data_spreadsheet/./src/component/toolbar/fill_color.js","webpack://x_data_spreadsheet/./src/component/dropdown_fontsize.js","webpack://x_data_spreadsheet/./src/component/toolbar/font_size.js","webpack://x_data_spreadsheet/./src/component/dropdown_font.js","webpack://x_data_spreadsheet/./src/component/toolbar/font.js","webpack://x_data_spreadsheet/./src/component/dropdown_format.js","webpack://x_data_spreadsheet/./src/component/toolbar/format.js","webpack://x_data_spreadsheet/./src/component/dropdown_formula.js","webpack://x_data_spreadsheet/./src/component/toolbar/formula.js","webpack://x_data_spreadsheet/./src/component/toolbar/freeze.js","webpack://x_data_spreadsheet/./src/component/toolbar/merge.js","webpack://x_data_spreadsheet/./src/component/toolbar/redo.js","webpack://x_data_spreadsheet/./src/component/toolbar/undo.js","webpack://x_data_spreadsheet/./src/component/toolbar/print.js","webpack://x_data_spreadsheet/./src/component/toolbar/textwrap.js","webpack://x_data_spreadsheet/./src/component/toolbar/more.js","webpack://x_data_spreadsheet/./src/component/toolbar/index.js","webpack://x_data_spreadsheet/./src/component/modal.js","webpack://x_data_spreadsheet/./src/component/form_select.js","webpack://x_data_spreadsheet/./src/component/form_field.js","webpack://x_data_spreadsheet/./src/component/modal_validation.js","webpack://x_data_spreadsheet/./src/component/sort_filter.js","webpack://x_data_spreadsheet/./src/component/message.js","webpack://x_data_spreadsheet/./src/component/sheet.js","webpack://x_data_spreadsheet/./src/core/selector.js","webpack://x_data_spreadsheet/./src/core/scroll.js","webpack://x_data_spreadsheet/./src/core/history.js","webpack://x_data_spreadsheet/./src/core/clipboard.js","webpack://x_data_spreadsheet/./src/core/auto_filter.js","webpack://x_data_spreadsheet/./src/core/merge.js","webpack://x_data_spreadsheet/./src/core/row.js","webpack://x_data_spreadsheet/./src/core/col.js","webpack://x_data_spreadsheet/./src/core/validator.js","webpack://x_data_spreadsheet/./src/core/validation.js","webpack://x_data_spreadsheet/./src/core/data_proxy.js","webpack://x_data_spreadsheet/./src/index.js","webpack://x_data_spreadsheet/./node_modules/numfmt/numfmt.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Element","tag","className","arguments","length","undefined","_classCallCheck","this","el","document","createElement","data","eventNames","handler","_eventNames$split2","_toArray","split","fen","oen","slice","eventName","test","navigator","userAgent","addEventListener","evt","k","button","stopPropagation","_this","keys","forEach","css","concat","_this$el","top","offsetTop","left","offsetLeft","height","offsetHeight","width","offsetWidth","v","scrollLeft","scrollTop","getBoundingClientRect","parentNode","_this2","_len","eles","Array","_key","childNodes","ele","child","removeChild","arg","createTextNode","appendChild","contains","classList","add","remove","cls","toggleClass","toggle","flag","addClass","removeClass","active","_this3","setAttribute","getAttribute","removeAttribute","content","innerHTML","focus","_this4","_len2","_key2","style","removeProperty","_this5","getComputedStyle","h","__webpack_exports__","cssPrefix","devicePixelRatio","locale","tf","$languages","$messages","en","toolbar","undo","redo","print","paintformat","clearformat","format","fontName","fontSize","fontBold","fontItalic","underline","strike","color","bgcolor","border","merge","align","valign","textwrap","freeze","autofilter","formula","more","contextmenu","copy","cut","paste","pasteValue","pasteFormat","hide","insertRow","insertColumn","deleteSheet","deleteRow","deleteColumn","deleteCell","deleteCellText","validation","cellprintable","cellnonprintable","celleditable","cellnoneditable","size","orientation","orientations","general","text","number","percent","rmb","usd","eur","date","time","datetime","duration","longdate","dateformat","sum","average","max","min","_if","and","or","product","count","mod","power","ceiling","floor","len","replace","substitute","vlookup","required","notMatch","between","notBetween","notIn","equal","notEqual","lessThan","lessThanEqual","greaterThan","greaterThanEqual","error","pasteForMergedCell","calendar","weeks","months","next","cancel","save","ok","sort","desc","asc","filter","empty","dataValidation","range","criteria","modeType","cell","column","row","type","list","phone","email","operator","be","nbe","lt","lte","gt","gte","eq","neq","translate","messages","_i","_$languages","lang","message","match","x_spreadsheet","unshift","target","fn","unbind","removeEventListener","unbindClickoutside","xclickoutside","body","bindClickoutside","cb","detail","mouseMoveUp","movefunc","upfunc","xEvtUp","calTouchDirection","spanx","spany","Math","abs","bindTouch","_ref","move","end","startx","starty","_evt$touches$","touches","pageX","pageY","_evt$changedTouches$","changedTouches","preventDefault","_evt$changedTouches$2","createEventEmitter","listeners","Map","on","callback","currentListener","has","isArray","push","set","removeListener","idx","indexOf","splice","current","once","execCalllback","args","apply","fire","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","_toConsumableArray","err","exec","removeAllListeners","clear","icons","font-bold","font-italic","align-left","align-center","align-right","align-top","align-middle","align-bottom","arrow-down","arrow-right","link","graph","ellipsis","border-all","border-inside","border-horizontal","border-vertical","border-outside","border-left","border-top","border-right","border-bottom","border-none","line-color","line-type","chevron-left","chevron-right","close","buildSVG","console","log","Icon","_possibleConstructorReturn","_getPrototypeOf","svg","iconNameEl","firstChild","numberCalc","mergeDeep","sources","source","digits","a","ret","charAt","a1","a2","Number","isNaN","al1","al2","num1","num2","toFixed","cloneDeep","obj","JSON","parse","stringify","equals","obj1","obj2","v1","v2","ai","arrayEquals","objOrAry","total","rangeEach","rangeSum","getv","rangeReduceIf","inits","initv","ifv","deleteProperty","oldv","alphabets","stringAt","index","str","cindex","parseInt","last","indexAt","charCodeAt","expr2xy","src","x","y","xlock","ylock","xy2expr","y$","expr2expr","xn","yn","condition","_expr2xy2","_slicedToArray","CellRange","sri","sci","eri","eci","w","ref","refs","_expr2xy4","_expr2xy6","ri","ci","_expr2xy","rowFilter","j","other","addRet","dsr","dsc","der","dec","multiple","Dropdown","title","showArrow","placement","classname","change","headerClick","contentEl","children","setContentChildren","headerEl","show","_this$contentEl","html","parent","fontSizes","baseFonts","getFontSizePxByPt","pt","px","dpr","thinLineWidth","npx","npxLine","DrawBox","padding","borderTop","borderRight","borderBottom","borderLeft","bottom","right","drawFontLine","tx","ty","blheight","blwidth","floffset","line","Draw","ctx","getContext","resize","scale","clearRect","options","assign","beginPath","restore","fillRect","fillText","mtxt","box","attr","textWrap","font","textx","textAlign","textBaseline","italic","bold","fillStyle","strokeStyle","txts","biw","innerWidth","ntxts","it","txtWidth","measureText","textLine","start","substr","txtHeight","texty","txt","lineWidth","setLineDash","_ref2","_ref3","moveTo","_ref4","_ref5","x1","y1","lineTo","stroke","topxys","rightxys","bottomxys","leftxys","sx","sy","closePath","fill","dtextcb","rect","clip","FormInput","hint","vchange","input","setTimeout","val","dateFmt","baseFormats","numfmt","render","label","formatm","f","numfmtCache","cellText","parseValue","isNumber","parseFloat","isFinite","baseFormulas","ary","flat","reduce","b","map","_ref7","_ref8","_ref9","every","_ref11","some","_ref13","join","_ref15","_ref17","_ref18","_ref19","_ref20","pow","_ref21","_ref22","ceil","_ref23","_ref25","String","_ref27","_ref28","oldText","startNum","numChars","newText","zstart","_ref29","_ref30","replaceAll","_ref31","_ref32","lookupValue","table","colIndex","rangeLookup","findIndex","formulas","formulam","cellPaddingWidth","getDrawBox","rindex","yoffset","_data$cellRect","cellRect","getFillStyle","draw","global","canvas","getPropertyValue","getStrokeStyle","getTextStyle","getAccent","alpha","accent_h","accent_s","accent_l","renderCell","sortedRowMap","rows","cols","isHide","nrindex","getCell","frozen","editable","getCellStyleOrDefault","dbox","setBorders","strokeBorders","settings","evalPaused","_cell","getCellTextOrDefault","validations","getError","renderContent","viewRange","fw","fh","exceptRowSet","exceptRowTotalHeight","each","getHeight","filteredTranslateFunc","rset","Set","eachMergesInView","sumHeight","autoFilter","afRange","hrange","intersects","dropdown","renderSelectedHeaderCell","renderFixedHeaders","sumWidth","nty","ntx","_data$selector$range","selector","textColor","rowEach","rowHeight","ii","colEach","colWidth","renderContentGrid","showGrid","ch","cw","Table","viewWidth","viewHeight","indexWidth","freezeTotalWidth","freezeTotalHeight","_data$scroll","scroll","_data$freeze","fri","fci","vr","clone","freezeViewRange","ftw","fth","twidth","theight","g","Function","e","buildRange","stack","pop","ex","ey","items","infixExprToSuffixExpr","operatorStack","subStrs","fnArgType","fnArgOperator","fnArgsLen","oldc","locked","toUpperCase","c1","nc","evalSubExpr","subExpr","cellRender","fl","expr","substring","evalSuffixExpr","srcStack","formulaMap","cellList","fc","params","reverse","includes","getCellText","DropdownMore","click","icon","contentClick","menuItems","buildMenu","item","itemClick","ContextMenu","_h$css","offset","Bottombar","addFunc","swapFunc","deleteFunc","updateFunc","dataNames","activeEl","deleteEl","moreEl","clickSwap2","contextMenu","menuEl","_this6","_evt$target","setOffset","nindex","renameItem","clickSwap","reset","_this7","Resizer","vertical","minDistance","moving","unhideHoverEl","mousedblclickHandler","hoverEl","mousedownHandler","lineEl","cRect","finishedFn","unhideFn","unhideIndex","hideUnhide","startEvt","distance","buttons","movementX","movementY","Scrollbar","scrollbar_classCallCheck","moveFn","contentDistance","cssKey","startZIndex","SelectorElement","useHideInput","autoFocus","selector_classCallCheck","inputChange","cornerEl","areaEl","clipboardEl","autofillEl","hideInput","hideInputDiv","of","calBRAreaOffset","ftwidth","ftheight","left0","top0","calTAreaOffset","calLAreaOffset","setBRAreaOffset","br","setAreaOffset","setTAreaOffset","setLAreaOffset","setLClipboardOffset","setClipboardOffset","setBRClipboardOffset","setTClipboardOffset","setAllAreaOffset","tl","setAllClipboardOffset","Selector","areaOffset","indexes","arange","lastri","lastci","resetAreaOffset","freezeHeight","freezeWidth","getSelectedRect","coffset","getClipboardRect","resetOffset","indexesUpdated","cellRange","calSelectedRangeByStart","cri","cci","setIndexes","moveIndexes","calSelectedRangeByEnd","_this$data$selector$r","setEnd","_this$range","nri","nci","srn","ern","ecn","getRect","showAutofill","hideAutofill","showClipboard","hideClipboard","inputEnter","filterItems","itemIndex","Suggest","suggest_classCallCheck","cssRemoveKeys","word","_el$html","startsWith","keyCode","ctrlKey","addMonth","step","setMonth","getMonth","weekday","Date","setDate","getDay","Calendar","_h","calendar_classCallCheck","cvalue","headerLeftEl","bodyEl","buildAll","prev","calendar_toConsumableArray","week","selectChange","buildHeaderLeft","buildBody","getFullYear","_bodyEl$html","trs","year","month","cdate","startDate","datess","disabled","getDate","monthDays","_h2","tds","it1","toString","Datepicker","datepicker_classCallCheck","setValue","RegExp","resetTextareaSize","inputText","textlineEl","textEl","maxTxtSize","editor_toConsumableArray","fontWidth","tlineWidth","maxWidth","viewFn","h1","keydownEventHandler","altKey","itxt","selectionEnd","ntxt","setSelectionRange","setText","position","blur","Editor","editor_classCallCheck","suggest","validator","lastIndexOf","sit","eit","datepicker","dateFormat","search","bindInputEvents","setItems","suggestPosition","elOffset","sOffset","values","Button","button_classCallCheck","PAGER_SIZES","PAGER_ORIENTATIONS","inches2px","inc","btnClick","toPrint","Print","print_classCallCheck","paper","print_toConsumableArray","ps","preview","iwidth","iheight","cr","contentRange","pages","canvases","mViewRange","_loop","th","yo","wrap","rh","yof","contentWindow","idoc","head","cn","cloneNode","drawImage","bi","showValidation","valIndex","contextmenu_classCallCheck","contextmenu_toConsumableArray","setMode","hideEl","view","vhf","Item","shortcut","item_classCallCheck","tip","element","_target$getBoundingCl","where","parentElement","elBox","wherebox","tooltipLeft","tooltiptop","tooltip","DropdownItem","dd","getValue","_get","dropdown_item_getPrototypeOf","setTitle","DropdownAlign","aligns","_getPrototypeOf2","dropdown_align_classCallCheck","naligns","iconName","dropdown_align_possibleConstructorReturn","dropdown_align_getPrototypeOf","dropdown_align_toConsumableArray","setName","Align","align_classCallCheck","align_possibleConstructorReturn","align_getPrototypeOf","Valign","valign_classCallCheck","valign_possibleConstructorReturn","valign_getPrototypeOf","ToggleItem","toggle_item_get","toggle_item_getPrototypeOf","hasClass","Autofilter","autofilter_classCallCheck","autofilter_possibleConstructorReturn","autofilter_getPrototypeOf","Bold","bold_classCallCheck","bold_possibleConstructorReturn","bold_getPrototypeOf","Italic","italic_classCallCheck","italic_possibleConstructorReturn","italic_getPrototypeOf","Strike","strike_classCallCheck","strike_possibleConstructorReturn","strike_getPrototypeOf","Underline","underline_classCallCheck","underline_possibleConstructorReturn","underline_getPrototypeOf","themeColorPlaceHolders","themeColors","standardColors","buildTd","ColorPalette","_h4","color_palette_classCallCheck","color_palette_toConsumableArray","_h3","DropdownColor","dropdown_color_classCallCheck","colorPalette","dropdown_color_possibleConstructorReturn","dropdown_color_getPrototypeOf","lineTypes","DropdownLineType","dropdown_linetype_classCallCheck","beforei","lineTypeEls","iti","dropdown_linetype_possibleConstructorReturn","dropdown_linetype_getPrototypeOf","dropdown_linetype_toConsumableArray","buildTable","BorderPalette","border_palette_classCallCheck","ddColor","ddType","border_palette_toConsumableArray","DropdownBorder","dropdown_border_classCallCheck","borderPalette","dropdown_border_possibleConstructorReturn","dropdown_border_getPrototypeOf","Border","border_classCallCheck","border_possibleConstructorReturn","border_getPrototypeOf","IconItem","icon_item_get","icon_item_getPrototypeOf","Clearformat","clearformat_classCallCheck","clearformat_possibleConstructorReturn","clearformat_getPrototypeOf","Paintformat","paintformat_classCallCheck","paintformat_possibleConstructorReturn","paintformat_getPrototypeOf","TextColor","text_color_classCallCheck","text_color_possibleConstructorReturn","text_color_getPrototypeOf","FillColor","fill_color_classCallCheck","fill_color_possibleConstructorReturn","fill_color_getPrototypeOf","DropdownFontSize","dropdown_fontsize_classCallCheck","nfontSizes","dropdown_fontsize_possibleConstructorReturn","dropdown_fontsize_getPrototypeOf","dropdown_fontsize_toConsumableArray","Format","font_size_classCallCheck","font_size_possibleConstructorReturn","font_size_getPrototypeOf","DropdownFontsize","DropdownFont","dropdown_font_classCallCheck","nfonts","dropdown_font_possibleConstructorReturn","dropdown_font_getPrototypeOf","dropdown_font_toConsumableArray","Font","font_classCallCheck","font_possibleConstructorReturn","font_getPrototypeOf","DropdownFormat","dropdown_format_classCallCheck","nformats","dropdown_format_possibleConstructorReturn","dropdown_format_getPrototypeOf","dropdown_format_toConsumableArray","format_classCallCheck","format_possibleConstructorReturn","format_getPrototypeOf","DropdownFormula","dropdown_formula_classCallCheck","nformulas","dropdown_formula_possibleConstructorReturn","dropdown_formula_getPrototypeOf","dropdown_formula_toConsumableArray","formula_classCallCheck","formula_possibleConstructorReturn","formula_getPrototypeOf","Freeze","freeze_classCallCheck","freeze_possibleConstructorReturn","freeze_getPrototypeOf","Merge","merge_classCallCheck","merge_possibleConstructorReturn","merge_getPrototypeOf","Redo","redo_classCallCheck","redo_possibleConstructorReturn","redo_getPrototypeOf","Undo","undo_classCallCheck","undo_possibleConstructorReturn","undo_getPrototypeOf","toolbar_print_classCallCheck","print_possibleConstructorReturn","print_getPrototypeOf","Textwrap","textwrap_classCallCheck","textwrap_possibleConstructorReturn","textwrap_getPrototypeOf","more_classCallCheck","moreBtns","more_possibleConstructorReturn","more_getPrototypeOf","More","buildDivider","moreResize","_btns$html","_moreBtns$html","btns","btns2","_moreEl$dd","widthFn","sumWidth2","list1","list2","toolbar_slicedToArray","genBtn","btn","onClick","getData","Toolbar","toolbar_classCallCheck","defaultStyle","undoEl","redoEl","showPrint","paintformatEl","clearformatEl","formatEl","fontEl","fontSizeEl","FontSize","boldEl","italicEl","underlineEl","strikeEl","textColorEl","fillColorEl","borderEl","mergeEl","alignEl","valignEl","textwrapEl","freezeEl","autofilterEl","formulaEl","Formula","_data$settings$extend","extendToolbar","_el$computedStyle","computedStyle","marginLeft","marginRight","_it$computedStyle","getSelectedCellStyle","setState","canUndo","canRedo","canUnmerge","canAutofilter","freezeIsActive","Modal","modal_classCallCheck","modal_toConsumableArray","dimmer","_this$el$show$box","_document$documentEle","documentElement","clientHeight","clientWidth","xkeydownEsc","FormSelect","getTitle","form_select_classCallCheck","itemEl","patterns","FormField","rule","labelWidth","form_field_classCallCheck","validate","pattern","fieldLabelWidth","ModalValidation","modal_validation_classCallCheck","mf","rf","cf","criteriaSelected","criteriaOperatorSelected","minvf","maxvf","svf","vf","modal_validation_possibleConstructorReturn","modal_validation_getPrototypeOf","action","attrs","field","isShow","clsName","buildSortItem","resetFilterHeader","filterhEl","filterValues","checked","SortFilter","sort_filter_classCallCheck","filterbEl","filterClick","sortAscEl","sortDescEl","sortDesc","from","order","cnt","tindex","xtoast","_el$box","throttle","func","wait","timeout","that","selectorSet","trigger","selectorMove","direction","_selector$indexes","sheet_slicedToArray","_selector$range","_selector$moveIndexes","verticalScrollbar","horizontalScrollbar","_data$getSelectedRect","tableOffset","getTableOffset","fsw","fsh","verticalScrollbarSet","erth","totalHeight","horizontalScrollbarSet","totalWidth","sheetReset","tableEl","overlayerEl","overlayerCEl","tOffset","vRect","editor","fwidth","fheight","setFreezeLengths","clearClipboard","copyToSystemClipboard","what","clipboard","isClear","pasteFromSystemClipboard","msg","cdata","clipboardData","pasteFromText","unhideRowsOrCols","overlayerMousedown","sortFilter","offsetX","offsetY","isAutofillEl","getCellRectByXY","getFilter","getSort","shiftKey","_data$getCellRectByXY","autofill","paintformatActive","paintformatToggle","editorSetOffset","sPosition","editorSet","setCell","getSelectedCell","getSelectedValidator","dataSetCellText","state","setSelectedCellText","_data$selector","insertDeleteRowColumn","insert","setSelectedCellAttr","toolbarChange","_data$selector2","sheetInitEvents","rowResizer","colResizer","modalValidation","tRect","showUnhide","xyInSelectedRect","setPosition","deltaY","deltaX","loopValue","vFunc","moveY","tempY","tempX","temp","horizontal","getWidth","moveX","setAutoFilter","_selector$range2","setHeight","_selector$range3","col","setWidth","scrolly","resetBRLAreaOffset","scrollx","resetBRTAreaOffset","itext","_this6$data","addValidation","removeValidation","getSelectedValidation","hideRowsOrCols","reload","focusing","which","metaKey","Sheet","targetEl","sheet_classCallCheck","eventMap","_data$settings","showToolbar","showContextmenu","minWidth","_len3","_key3","resetData","setData","setFreeze","_this$data","_this$getRect","Scroll","scroll_classCallCheck","History","history_classCallCheck","undoItems","redoItems","currentd","Clipboard","clipboard_classCallCheck","Filter","auto_filter_classCallCheck","Sort","AutoFilter","filters","fset","ctext","_this$range2","valueOf","Merges","_","within","union","deleteWithin","cbWithin","rn","merges","Rows","row_classCallCheck","getOrNew","setHide","exceptSet","helper","cells","getCellOrNew","srcCellRange","dstCellRange","dsri","dsci","deri","deci","_srcCellRange$size","_srcCellRange$size2","_dstCellRange$size","_dstCellRange$size2","drn","dcn","isAdd","dn","jj","ncell","result","ncellmm","eachCells","setCellText","ndata","rndata","_this8","ks","entries","Cols","col_classCallCheck","rules","returnMessage","Validator","validator_classCallCheck","_value","validator_slicedToArray","_value2","Validation","validation_classCallCheck","nrefs","difference","Validations","errors","_v$validator$validate2","validation_slicedToArray","getByValidator","addRef","defaultSettings","showBottomBar","autoFillOnCopy","canPaste","dst","_src$size2","data_proxy_slicedToArray","scn","_dst$size2","copyPaste","deleteCells","_cell$merge","cutPaste","setStyleBorder","bss","styles","cstyle","addStyle","DataProxy","data_proxy_classCallCheck","hyperlinks","comments","history","unsortedRowMap","changeData","_this$selector","_this$selector2","copyText","_this$selector$range","clearData","writeText","then","isCopy","isCut","resetSheet","eventTrigger","readText","contentToPaste","parseClipboardContent","startRow","startColumn","cellContent","clipboardContent","parsedData","lines","srcRange","getFirstIncludes","_this9","unmerge","isSingleSelected","mergeIndexes","_merges$ii","mri","mci","_cell$merge2","mrl","mcl","getCellMerge","_selector$size2","nfont","oldCell","vIndex","_this$selector3","_this$getSelectedRect","_getCellRowByY$call","scrollOffsety","frset","_getCellColByX$call","scrollOffsetx","_helper$rangeReduceIf2","_this$cellRect","_this$selector$range2","_cell$merge3","_this$selector$range3","_cell$merge4","_this10","_selector$size4","_this11","_selector$range4","_this12","addFilter","setSort","resetAutoFilter","_this13","_autoFilter$filteredR","filteredRows","fary","oldAry","_this14","_this15","_this15$selector$rang","si","shift","_this16","_selector$range5","_selector$range$size2","rsize","csize","_helper$rangeReduceIf4","_helper$rangeReduceIf6","_cell$merge5","cellStyle","_this$selector4","_this$freeze","_this17","_this18","_this19","_this$settings","_this$freeze2","_rows$maxCell2","maxCell","exceptRows","exceptRowTH","filterIntersects","_selector$size6","rlen","clen","_selector$range6","unhide","frary","nstyle","_this20","Spreadsheet","selectors","_objectSpread","sheetIndex","datas","querySelector","bottombar","addSheet","sheet","rootEl","bgColor","_this2$sheet","addItem","_this$bottombar$delet2","deleteItem","oldIndex","ds","nd","getCellStyle","self","default","he","1078","1052","1118","5121","15361","3073","2049","11265","13313","12289","4097","6145","8193","16385","1025","10241","7169","14337","9217","1067","1101","2092","1068","1069","1059","2117","1093","5146","1026","1109","1027","2052","3076","5124","4100","1028","1050","1029","1030","1125","2067","1043","1126","3081","10249","4105","9225","2057","16393","6153","8201","5129","13321","7177","11273","1033","12297","1061","1071","1080","1065","1124","1035","2060","11276","3084","9228","12300","1036","5132","13324","6156","14348","10252","4108","7180","1122","2108","1084","1110","1079","3079","1031","5127","4103","2055","1032","1140","1095","1279","1037","1081","1038","1039","1136","1057","1040","2064","1041","1099","1120","1087","1107","1111","1042","1088","1108","1142","1062","1063","2110","1086","1100","1082","1112","1153","1102","1104","2128","1121","1044","2068","1096","1045","1046","2070","1094","1047","2072","1048","1049","2073","1083","1103","3098","2074","1072","1074","1113","1115","1051","1060","1143","1070","11274","16394","13322","9226","5130","7178","12298","17418","4106","18442","2058","19466","6154","15370","10250","20490","1034","14346","8202","1089","2077","1053","1114","1064","1097","1092","1098","1054","1105","1073","1055","1090","1058","1056","2115","1091","1075","1066","1106","1076","1085","1077","group","decimal","positive","negative","exponent","nan","infinity","ampm","mmmm6","mmm6","mmmm","mmm","dddd","ddd","SyntaxError","language","territory","codeset","modifier","u","round","isDefault","overflow","dateErrorThrows","dateErrorNumber","dateSpanLarge","leap1900","nbsp","throws","invalid","ignoreTimezone","#","0","?","@","-","+","M","F","z","repeat","D","S","date_eval","date_system","sec_decimals","clock","int_pattern","frac_pattern","man_pattern","den_pattern","num_pattern","tokens","num","fractions","dec_fractions","toLowerCase","raw","pad","used","indeterminate","short","decimals","exponential","exp_plus","plus","parens","grouping","group_pri","group_sec","int_padding","man_padding","num_padding","den_padding","denominator","integer","C","volatile","E","Error","generated","partitions","A","Y","P","N","T","I","O","J","UTC","setUTCFullYear","setUTCHours","getHours","getMinutes","getSeconds","getMilliseconds","L","nativeDate","U","R","G","H","currency","grouped","scientific","fraction","B","$","sign","period","int","frac","W","Z","log10","toPrecision","K","q","man","den","V","Q","int_max","frac_max","num_max","den_max","num_min","den_min","padStart","X","ee","te","ne","ae","re","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","ie","january","february","march","april","june","july","august","september","october","november","december","se","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sun","mon","tue","wed","thu","sat","oe","getUTCFullYear","le","de","path","day","_mon","ue","me","trim","ce","pe","ge","isDate","isText","isPercent","maxDecimals","parentheses","_partitions","find","code","level","info","dateInfo","hours","minutes","seconds","clockType","fe","getInfo","getDateInfo","dateToSerial","dateFromSerial","dec2frac","codeToLocale","parseLocale","getLocale","addLocale","is_date","parseNumber","parseDate","parseTime","parseBool"],"mappings":"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AuBnB,EAAvBvR,OAAA2S,cAAAL,GAAAG,EAAAC,EAAA/F,QAAAiG,MAAAN,GAAA,OAAWhB,EAAXmB,EAAAvS,MAAwCoR,EAASlS,KAATgT,MAAAd,EAAQ,CAAM,MAANpO,OAAA2P,EAAeV,MAF9C,MAAAW,GAAAP,GAAA,EAAAC,EAAAM,EAAA,YAAAR,GAAA,MAAAI,EAAA,QAAAA,EAAA,oBAAAH,EAAA,MAAAC,IAMZO,IAqCPnB,iBACAoB,mBAZF,WACE7B,EAAU8B,imCCzFd,IAAMC,EAAQ,CACZlM,KCnDa,wcDoDbC,KEpDa,qeFqDbC,MGrDa,2cHsDbC,YItDa,+WJuDbC,YKvDa,oYLwDb+L,YMxDa,0gBNyDbC,cOzDa,4RP0Db1L,UQ1Da,2WR2DbC,OS3Da,2uET4DbC,MU5Da,6TV6DbC,QW7Da,qjBX8DbE,MY9Da,obZ+DbsL,aa/Da,qUbgEbC,echEa,sUdiEbC,cejEa,sUfkEbC,YgBlEa,uShBmEbC,eiBnEa,6WjBoEbC,ekBpEa,kTlBqEbxL,SmBrEa,ybnBsEbE,WoBtEa,0RpBuEbC,QqBvEa,qRrBwEbsL,asBxEa,oMtByEbC,cuBzEa,4MvB0EbC,KwB1Ea,qhBxB2EbC,MyB3Ea,ydzB4Eb3L,O0B5Ea,8W1B6Eb4L,S2B7Ea,ojB3B8EbhP,I4B9Ea,iR5B+EbiP,a6B/Ea,8X7BgFbC,gB8BhFa,otB9BiFbC,oB+BjFa,0zB/BkFbC,kBgClFa,wzBhCmFbC,iBiCnFa,gcjCoFbC,ckCpFa,wzBlCqFbC,amCrFa,8zBnCsFbC,eoCtFa,kyBpCuFbC,gBqCvFa,gyBrCwFbC,csCxFa,s8BtCyFbC,auCzFa,uYvC0FbC,YwC1Fa,0ZxC2FbC,eyC3Fa,sMzC4FbC,gB0C5Fa,qN1C6FbC,M2C7Fa,iU3C2GFC,EAAW,SAACvV,GACvB,OAAG0T,EAAM1T,GACA0T,EAAM1T,IAEbwV,QAAQC,IAAR,QAAA/R,OAAoB1D,EAApB,eAEK,KAGY0V,cACnB,SAAAA,EAAY1V,GAAM,IAAAsD,+FAAAvB,CAAAC,KAAA0T,GAChBpS,EAAAqS,EAAA3T,KAAA4T,EAAAF,GAAA9V,KAAAoC,KAAM,MAAN,GAAA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AAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,MAAAC,KAAA,KAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,MAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,MAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,MAAA,QAAAC,MAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,MAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,MAA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","file":"xspreadsheet.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"x_data_spreadsheet\"] = factory();\n\telse\n\t\troot[\"x_data_spreadsheet\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n","/* global document */\n/* global window */\nclass Element {\n  constructor(tag, className = '') {\n    if (typeof tag === 'string') {\n      this.el = document.createElement(tag);\n      this.el.className = className;\n    } else {\n      this.el = tag;\n    }\n    this.data = {};\n  }\n\n  data(key, value) {\n    if (value !== undefined) {\n      this.data[key] = value;\n      return this;\n    }\n    return this.data[key];\n  }\n\n  on(eventNames, handler) {\n    const [fen, ...oen] = eventNames.split('.');\n    let eventName = fen;\n    if (eventName === 'mousewheel' && /Firefox/i.test(window.navigator.userAgent)) {\n      eventName = 'DOMMouseScroll';\n    }\n    this.el.addEventListener(eventName, (evt) => {\n      handler(evt);\n      for (let i = 0; i < oen.length; i += 1) {\n        const k = oen[i];\n        if (k === 'left' && evt.button !== 0) {\n          return;\n        }\n        if (k === 'right' && evt.button !== 2) {\n          return;\n        }\n        if (k === 'stop') {\n          evt.stopPropagation();\n        }\n      }\n    });\n    return this;\n  }\n\n  offset(value) {\n    if (value !== undefined) {\n      Object.keys(value).forEach((k) => {\n        this.css(k, `${value[k]}px`);\n      });\n      return this;\n    }\n    const {\n      offsetTop, offsetLeft, offsetHeight, offsetWidth,\n    } = this.el;\n    return {\n      top: offsetTop,\n      left: offsetLeft,\n      height: offsetHeight,\n      width: offsetWidth,\n    };\n  }\n\n  scroll(v) {\n    const { el } = this;\n    if (v !== undefined) {\n      if (v.left !== undefined) {\n        el.scrollLeft = v.left;\n      }\n      if (v.top !== undefined) {\n        el.scrollTop = v.top;\n      }\n    }\n    return { left: el.scrollLeft, top: el.scrollTop };\n  }\n\n  box() {\n    return this.el.getBoundingClientRect();\n  }\n\n  parent() {\n    return new Element(this.el.parentNode);\n  }\n\n  children(...eles) {\n    if (arguments.length === 0) {\n      return this.el.childNodes;\n    }\n    eles.forEach(ele => this.child(ele));\n    return this;\n  }\n\n  removeChild(el) {\n    this.el.removeChild(el);\n  }\n\n  /*\n  first() {\n    return this.el.firstChild;\n  }\n\n  last() {\n    return this.el.lastChild;\n  }\n\n  remove(ele) {\n    return this.el.removeChild(ele);\n  }\n\n  prepend(ele) {\n    const { el } = this;\n    if (el.children.length > 0) {\n      el.insertBefore(ele, el.firstChild);\n    } else {\n      el.appendChild(ele);\n    }\n    return this;\n  }\n\n  prev() {\n    return this.el.previousSibling;\n  }\n\n  next() {\n    return this.el.nextSibling;\n  }\n  */\n\n  child(arg) {\n    let ele = arg;\n    if (typeof arg === 'string') {\n      ele = document.createTextNode(arg);\n    } else if (arg instanceof Element) {\n      ele = arg.el;\n    }\n    this.el.appendChild(ele);\n    return this;\n  }\n\n  contains(ele) {\n    return this.el.contains(ele);\n  }\n\n  className(v) {\n    if (v !== undefined) {\n      this.el.className = v;\n      return this;\n    }\n    return this.el.className;\n  }\n\n  addClass(name) {\n    this.el.classList.add(name);\n    return this;\n  }\n\n  hasClass(name) {\n    return this.el.classList.contains(name);\n  }\n\n  removeClass(name) {\n    this.el.classList.remove(name);\n    return this;\n  }\n\n  toggle(cls = 'active') {\n    return this.toggleClass(cls);\n  }\n\n  toggleClass(name) {\n    return this.el.classList.toggle(name);\n  }\n\n  active(flag = true, cls = 'active') {\n    if (flag) this.addClass(cls);\n    else this.removeClass(cls);\n    return this;\n  }\n\n  checked(flag = true) {\n    this.active(flag, 'checked');\n    return this;\n  }\n\n  disabled(flag = true) {\n    if (flag) this.addClass('disabled');\n    else this.removeClass('disabled');\n    return this;\n  }\n\n  // key, value\n  // key\n  // {k, v}...\n  attr(key, value) {\n    if (value !== undefined) {\n      this.el.setAttribute(key, value);\n    } else {\n      if (typeof key === 'string') {\n        return this.el.getAttribute(key);\n      }\n      Object.keys(key).forEach((k) => {\n        this.el.setAttribute(k, key[k]);\n      });\n    }\n    return this;\n  }\n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n    return this;\n  }\n\n  html(content) {\n    if (content !== undefined) {\n      this.el.innerHTML = content;\n      return this;\n    }\n    return this.el.innerHTML;\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.el.value = v;\n      return this;\n    }\n    return this.el.value;\n  }\n\n  focus() {\n    this.el.focus();\n  }\n\n  cssRemoveKeys(...keys) {\n    keys.forEach(k => this.el.style.removeProperty(k));\n    return this;\n  }\n\n  // css( propertyName )\n  // css( propertyName, value )\n  // css( properties )\n  css(name, value) {\n    if (value === undefined && typeof name !== 'string') {\n      Object.keys(name).forEach((k) => {\n        this.el.style[k] = name[k];\n      });\n      return this;\n    }\n    if (value !== undefined) {\n      this.el.style[name] = value;\n      return this;\n    }\n    return this.el.style[name];\n  }\n\n  computedStyle() {\n    return window.getComputedStyle(this.el, null);\n  }\n\n  show() {\n    this.css('display', 'block');\n    return this;\n  }\n\n  hide() {\n    this.css('display', 'none');\n    return this;\n  }\n}\n\nconst h = (tag, className = '') => new Element(tag, className);\n\nexport {\n  Element,\n  h,\n};\n","/* global window */\nexport const cssPrefix = 'x-spreadsheet';\nexport const dpr = window.devicePixelRatio || 1;\nexport default {\n  cssPrefix,\n  dpr,\n};\n","/* global window */\nimport en from './en';\n\n// Defines the fallback language as English\nlet $languages = ['en'];\nconst $messages = {\n  en,\n};\n\nfunction translate(key, messages) {\n  if (messages) {\n    // Return the translation from the first language in the languages array\n    // that has a value for the provided key.\n    for (const lang of $languages) {\n      if (!messages[lang]) break;\n\n      let message = messages[lang];\n\n      // Splits the key at '.' except where escaped as '\\.'\n      const keys = key.match(/(?:\\\\.|[^.])+/g);\n\n      for (let i = 0; i < keys.length; i += 1) {\n        const property = keys[i];\n        const value = message[property];\n\n        // If value doesn't exist, try next language\n        if (!value) break;\n\n        if (i === keys.length - 1) return value;\n\n        // Move down to the next level of the messages object\n        message = value;\n      }\n    }\n  }\n\n  return undefined;\n}\n\nfunction t(key) {\n  let v = translate(key, $messages);\n  if (!v && window && window.x_spreadsheet && window.x_spreadsheet.$messages) {\n    v = translate(key, window.x_spreadsheet.$messages);\n  }\n  return v || key;\n}\n\nfunction tf(key) {\n  return () => t(key);\n}\n\n// If clearLangList is set to false, lang will be added to the front of the\n// languages array. The languages in the language array are searched in order\n// to find a translation. This allows the use of other languages as a fallback\n// if lang is missing some keys. The language array is preloaded with English.\n// To set the languages array to only include lang, set clearLangList to true.\nfunction locale(lang, message, clearLangList = false) {\n  if (clearLangList) {\n    $languages = [lang];\n  } else {\n    // Append to front of array.\n    // Translation method will use the first language in the list that has a\n    // matching key.\n    $languages.unshift(lang);\n  }\n\n  if (message) {\n    $messages[lang] = message;\n  }\n}\n\nexport default {\n  t,\n};\n\nexport {\n  locale,\n  t,\n  tf,\n};\n","export default {\n  toolbar: {\n    undo: 'Undo',\n    redo: 'Redo',\n    print: 'Print',\n    paintformat: 'Paint format',\n    clearformat: 'Clear format',\n    format: 'Format',\n    fontName: 'Font',\n    fontSize: 'Font size',\n    fontBold: 'Font bold',\n    fontItalic: 'Font italic',\n    underline: 'Underline',\n    strike: 'Strike',\n    color: 'Text color',\n    bgcolor: 'Fill color',\n    border: 'Borders',\n    merge: 'Merge cells',\n    align: 'Horizontal align',\n    valign: 'Vertical align',\n    textwrap: 'Text wrapping',\n    freeze: 'Freeze cell',\n    autofilter: 'Filter',\n    formula: 'Functions',\n    more: 'More',\n  },\n  contextmenu: {\n    copy: 'Copy',\n    cut: 'Cut',\n    paste: 'Paste',\n    pasteValue: 'Paste values only',\n    pasteFormat: 'Paste format only',\n    hide: 'Hide',\n    insertRow: 'Insert row',\n    insertColumn: 'Insert column',\n    deleteSheet: 'Delete',\n    deleteRow: 'Delete row',\n    deleteColumn: 'Delete column',\n    deleteCell: 'Delete cell',\n    deleteCellText: 'Delete cell text',\n    validation: 'Data validations',\n    cellprintable: 'Enable export',\n    cellnonprintable: 'Disable export',\n    celleditable: 'Enable editing',\n    cellnoneditable: 'Disable editing',\n  },\n  print: {\n    size: 'Paper size',\n    orientation: 'Page orientation',\n    orientations: ['Landscape', 'Portrait'],\n  },\n  format: {\n    general: 'General',\n    text: 'Plain Text',\n    number: 'Number',\n    percent: 'Percent',\n    rmb: 'RMB',\n    usd: 'USD',\n    eur: 'EUR',\n    date: 'Date',\n    time: 'Time',\n    datetime: 'Date time',\n    duration: 'Duration',\n    longdate: 'Long Date',\n    dateformat: 'mm/dd/yyyy',\n  },\n  formula: {\n    sum: 'Sum',\n    average: 'Average',\n    max: 'Max',\n    min: 'Min',\n    _if: 'IF',\n    and: 'AND',\n    or: 'OR',\n    concat: 'Concat',\n    product: 'Product',\n    count: 'Count',\n    mod: 'Mod',\n    power: 'Power',\n    ceiling: 'Ceiling',\n    floor: 'Floor',\n    len: 'Length',\n    replace: 'Replace',\n    substitute: 'Substitute',\n    vlookup: 'Vertical Lookup',\n  },\n  validation: {\n    required: 'it must be required',\n    notMatch: 'it not match its validation rule',\n    between: 'it is between {} and {}',\n    notBetween: 'it is not between {} and {}',\n    notIn: 'it is not in list',\n    equal: 'it equal to {}',\n    notEqual: 'it not equal to {}',\n    lessThan: 'it less than {}',\n    lessThanEqual: 'it less than or equal to {}',\n    greaterThan: 'it greater than {}',\n    greaterThanEqual: 'it greater than or equal to {}',\n  },\n  error: {\n    pasteForMergedCell: 'Unable to do this for merged cells',\n  },\n  calendar: {\n    weeks: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n  },\n  button: {\n    next: 'Next',\n    cancel: 'Cancel',\n    remove: 'Remove',\n    save: 'Save',\n    ok: 'OK',\n  },\n  sort: {\n    desc: 'Sort Z -> A',\n    asc: 'Sort A -> Z',\n  },\n  filter: {\n    empty: 'empty',\n  },\n  dataValidation: {\n    mode: 'Mode',\n    range: 'Cell Range',\n    criteria: 'Criteria',\n    modeType: {\n      cell: 'Cell',\n      column: 'Colun',\n      row: 'Row',\n    },\n    type: {\n      list: 'List',\n      number: 'Number',\n      date: 'Date',\n      phone: 'Phone',\n      email: 'Email',\n    },\n    operator: {\n      be: 'between',\n      nbe: 'not betwwen',\n      lt: 'less than',\n      lte: 'less than or equal to',\n      gt: 'greater than',\n      gte: 'greater than or equal to',\n      eq: 'equal to',\n      neq: 'not equal to',\n    },\n  },\n};\n","/* global window */\nexport function bind(target, name, fn) {\n  target.addEventListener(name, fn);\n}\nexport function unbind(target, name, fn) {\n  target.removeEventListener(name, fn);\n}\nexport function unbindClickoutside(el) {\n  if (el.xclickoutside) {\n    unbind(window.document.body, 'click', el.xclickoutside);\n    delete el.xclickoutside;\n  }\n}\n\n// the left mouse button: mousedown  mouseup  click\n// the right mouse button: mousedown  contenxtmenu  mouseup\n// the right mouse button in firefox(>65.0): mousedown  contenxtmenu  mouseup  click on window\nexport function bindClickoutside(el, cb) {\n  el.xclickoutside = (evt) => {\n    // ignore double click\n    // console.log('evt:', evt);\n    if (evt.detail === 2 || el.contains(evt.target)) return;\n    if (cb) cb(el);\n    else {\n      el.hide();\n      unbindClickoutside(el);\n    }\n  };\n  bind(window.document.body, 'click', el.xclickoutside);\n}\nexport function mouseMoveUp(target, movefunc, upfunc) {\n  bind(target, 'mousemove', movefunc);\n  const t = target;\n  t.xEvtUp = (evt) => {\n    // console.log('mouseup>>>');\n    unbind(target, 'mousemove', movefunc);\n    unbind(target, 'mouseup', target.xEvtUp);\n    upfunc(evt);\n  };\n  bind(target, 'mouseup', target.xEvtUp);\n}\n\nfunction calTouchDirection(spanx, spany, evt, cb) {\n  let direction = '';\n  // console.log('spanx:', spanx, ', spany:', spany);\n  if (Math.abs(spanx) > Math.abs(spany)) {\n    // horizontal\n    direction = spanx > 0 ? 'right' : 'left';\n    cb(direction, spanx, evt);\n  } else {\n    // vertical\n    direction = spany > 0 ? 'down' : 'up';\n    cb(direction, spany, evt);\n  }\n}\n// cb = (direction, distance) => {}\nexport function bindTouch(target, { move, end }) {\n  let startx = 0;\n  let starty = 0;\n  bind(target, 'touchstart', (evt) => {\n    const { pageX, pageY } = evt.touches[0];\n    startx = pageX;\n    starty = pageY;\n  });\n  bind(target, 'touchmove', (evt) => {\n    if (!move) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    if (Math.abs(spanx) > 10 || Math.abs(spany) > 10) {\n      // console.log('spanx:', spanx, ', spany:', spany);\n      calTouchDirection(spanx, spany, evt, move);\n      startx = pageX;\n      starty = pageY;\n    }\n    evt.preventDefault();\n  });\n  bind(target, 'touchend', (evt) => {\n    if (!end) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    calTouchDirection(spanx, spany, evt, end);\n  });\n}\n\n// eventemiter\nexport function createEventEmitter() {\n  const listeners = new Map();\n\n  function on(eventName, callback) {\n    const push = () => {\n      const currentListener = listeners.get(eventName);\n      return (Array.isArray(currentListener)\n          && currentListener.push(callback))\n          || false;\n    };\n\n    const create = () => listeners.set(eventName, [].concat(callback));\n\n    return (listeners.has(eventName)\n        && push())\n        || create();\n  }\n\n  function fire(eventName, args) {\n    const exec = () => {\n      const currentListener = listeners.get(eventName);\n      for (const callback of currentListener) callback.call(null, ...args);\n    };\n\n    return listeners.has(eventName)\n        && exec();\n  }\n\n  function removeListener(eventName, callback) {\n    const remove = () => {\n      const currentListener = listeners.get(eventName);\n      const idx = currentListener.indexOf(callback);\n      return (idx >= 0)\n          && currentListener.splice(idx, 1)\n          && listeners.get(eventName).length === 0\n          && listeners.delete(eventName);\n    };\n\n    return listeners.has(eventName)\n        && remove();\n  }\n\n  function once(eventName, callback) {\n    const execCalllback = (...args) => {\n      callback.call(null, ...args);\n      removeListener(eventName, execCalllback);\n    };\n\n    return on(eventName, execCalllback);\n  }\n\n  function removeAllListeners() {\n    listeners.clear();\n  }\n\n  return {\n    get current() {\n      return listeners;\n    },\n    on,\n    once,\n    fire,\n    removeListener,\n    removeAllListeners,\n  };\n}\n","import { Element, h } from './element';\nimport { cssPrefix } from '../config';\n\n\n// import * as undo from '../../assets/undo.svg';\n// const undo = require('raw-loader!../../assets/undo.svg');\nimport * as undo from '!!raw-loader!../../assets/undo.svg';\nimport * as redo from '!!raw-loader!../../assets/redo.svg';\nimport * as print from '!!raw-loader!../../assets/print.svg';\nimport * as paintformat from '!!raw-loader!../../assets/paintformat.svg';\nimport * as clearformat from '!!raw-loader!../../assets/clearformat.svg';\nimport * as bold from '!!raw-loader!../../assets/bold.svg';\nimport * as fontitalic from '!!raw-loader!../../assets/font-italic.svg';\nimport * as underline from '!!raw-loader!../../assets/underline.svg';\nimport * as strikeout from '!!raw-loader!../../assets/strikeout.svg';\nimport * as color from '!!raw-loader!../../assets/color.svg';\nimport * as bgcolor from '!!raw-loader!../../assets/bgcolor.svg';\nimport * as merge from '!!raw-loader!../../assets/merge.svg';\nimport * as alignleft from '!!raw-loader!../../assets/align-left.svg';\nimport * as aligncenter from '!!raw-loader!../../assets/align-center.svg';\nimport * as alignright from '!!raw-loader!../../assets/align-right.svg';\nimport * as aligntop from '!!raw-loader!../../assets/align-top.svg';\nimport * as alignmiddle from '!!raw-loader!../../assets/align-middle.svg';\nimport * as alignbottom from '!!raw-loader!../../assets/align-bottom.svg';\nimport * as textwrap from '!!raw-loader!../../assets/textwrap.svg';\nimport * as filter from '!!raw-loader!../../assets/filter.svg';\nimport * as formula from '!!raw-loader!../../assets/formulas.svg';\nimport * as arrowDown from '!!raw-loader!../../assets/arrow-down.svg';\nimport * as arrowRight from '!!raw-loader!../../assets/arrow-right.svg';\nimport * as link from '!!raw-loader!../../assets/link.svg';\nimport * as graph from '!!raw-loader!../../assets/graph.svg';\nimport * as freeze from '!!raw-loader!../../assets/freeze.svg';\nimport * as ellipsis from '!!raw-loader!../../assets/ellipsis.svg';\nimport * as add from '!!raw-loader!../../assets/add.svg';\nimport * as borderall from '!!raw-loader!../../assets/border-all.svg';\nimport * as borderinside from '!!raw-loader!../../assets/border-inside.svg';\nimport * as borderhorizontal from '!!raw-loader!../../assets/border-horizontal.svg';\nimport * as bordervertical from '!!raw-loader!../../assets/border-vertical.svg';\nimport * as borderoutside from '!!raw-loader!../../assets/border-outside.svg';\nimport * as borderleft from '!!raw-loader!../../assets/border-left.svg';\nimport * as bordertop from '!!raw-loader!../../assets/border-top.svg';\nimport * as borderright from '!!raw-loader!../../assets/border-right.svg';\nimport * as borderbottom from '!!raw-loader!../../assets/border-bottom.svg';\nimport * as bordernone from '!!raw-loader!../../assets/border-none.svg';\nimport * as linecolor from '!!raw-loader!../../assets/line-color.svg';\nimport * as linetype from '!!raw-loader!../../assets/line-type.svg';\nimport * as chevronleft from '!!raw-loader!../../assets/chevron-left.svg';\nimport * as chevronright from '!!raw-loader!../../assets/chevron-right.svg';\nimport * as close from '!!raw-loader!../../assets/close.svg';\n\nconst icons = {\n  undo: undo.default,\n  redo: redo.default,\n  print: print.default,\n  paintformat: paintformat.default,\n  clearformat: clearformat.default,\n  'font-bold': bold.default,\n  'font-italic': fontitalic.default,\n  underline: underline.default,\n  strike: strikeout.default,\n  color: color.default,\n  bgcolor: bgcolor.default,\n  merge: merge.default,\n  'align-left': alignleft.default,\n  'align-center': aligncenter.default,\n  'align-right': alignright.default,\n  'align-top': aligntop.default,\n  'align-middle': alignmiddle.default,\n  'align-bottom': alignbottom.default,\n  textwrap: textwrap.default,\n  autofilter: filter.default,\n  formula: formula.default,\n  'arrow-down': arrowDown.default,\n  'arrow-right': arrowRight.default,\n  link: link.default,\n  graph: graph.default,\n  freeze: freeze.default,\n  ellipsis: ellipsis.default,\n  add: add.default,\n  'border-all': borderall.default,\n  'border-inside': borderinside.default,\n  'border-horizontal': borderhorizontal.default,\n  'border-vertical': bordervertical.default,\n  'border-outside': borderoutside.default,\n  'border-left': borderleft.default,\n  'border-top': bordertop.default,\n  'border-right': borderright.default,\n  'border-bottom': borderbottom.default,\n  'border-none': bordernone.default,\n  'line-color': linecolor.default,\n  'line-type': linetype.default,\n  'chevron-left': chevronleft.default,\n  'chevron-right': chevronright.default,\n  close: close.default,\n};\n\n\nexport const buildImg = (name) => {\n  const icon = h('img');\n  if(icons[name]) {\n    icon.attr('src', icons[name])\n  } else {\n    console.log(`icon ${name} not found`);\n  }\n  return icon;\n}\n\nexport const buildSVG = (name) => {\n  if(icons[name]) {\n    return icons[name];\n  } else {\n    console.log(`icon ${name} not found`);\n  }\n  return \"\";\n}\n\nexport default class Icon extends Element {\n  constructor(name) {\n    super('div', `${cssPrefix}-icon icon-${name}`);\n    // const icon = buildImg(name);\n    const svg = buildSVG(name);\n    // icon.attr('src', undo);\n    // this.iconNameEl = h('img');\n    // this.iconNameEl.attr('src', undo);\n    // this.iconNameEl = h('div', `${cssPrefix}-icon-img ${name}`);\n    // this.iconNameEl = icon;\n    // this.child(undo);\n    // this.iconNameEl = this.child.appendChild(svg);\n    // this.child(this.iconNameEl);\n    this.el.innerHTML += svg;\n    this.iconNameEl = this.el.firstChild;\n  }\n\n  setName(name) {\n    this.className(` icon-${name}`);\n  }\n}\n","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g><path  fill-rule=\\\"evenodd\\\" d=\\\"M11.5656391,4.43436088 L9,7 L16,7 L16,0 L13.0418424,2.95815758 C11.5936787,1.73635959 9.72260775,1 7.67955083,1 C4.22126258,1 1.25575599,3.10984908 0,6 L2,7 C2.93658775,4.60974406 5.12943697,3.08011229 7.67955083,3 C9.14881247,3.0528747 10.4994783,3.57862053 11.5656391,4.43436088 Z\\\" transform=\\\"matrix(-1 0 0 1 17 5)\\\"/>\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M11.5656391,4.43436088 L9,7 L16,7 L16,0 L13.0418424,2.95815758 C11.5936787,1.73635959 9.72260775,1 7.67955083,1 C4.22126258,1 1.25575599,3.10984908 0,6 L2,7 C2.93658775,4.60974406 5.12943697,3.08011229 7.67955083,3 C9.14881247,3.0528747 10.4994783,3.57862053 11.5656391,4.43436088 Z\\\"\\n            transform=\\\"translate(1 5)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M13,14 L3,14 L3,11 L0,11 L0,6.00591905 C0,4.89808055 0.894513756,4 1.99406028,4 L14.0059397,4 C15.1072288,4 16,4.88655484 16,6.00591905 L16,11 L13,11 L13,14 Z M5,9 L11,9 L11,12 L5,12 L5,9 Z M3,0 L13,0 L13,3 L3,3 L3,0 Z M12,6 L14,6 L14,8 L12,8 L12,6 Z\\\"\\n            transform=\\\"translate(1 2)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9,0 L1,0 C0.45,0 0,0.45 0,1 L0,4 C0,4.55 0.45,5 1,5 L9,5 C9.55,5 10,4.55 10,4 L10,3 L11,3 L11,6 L4,6 L4,14 L6,14 L6,8 L13,8 L13,2 L10,2 L10,1 C10,0.45 9.55,0 9,0 Z\\\"\\n            transform=\\\"translate(3 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0.27,1.55 L5.43,6.7 L3,12 L5.5,12 L7.14,8.42 L11.73,13 L13,11.73 L1.55,0.27 L0.27,1.55 L0.27,1.55 Z M3.82,0 L5.82,2 L7.58,2 L7.03,3.21 L8.74,4.92 L10.08,2 L14,2 L14,0 L3.82,0 L3.82,0 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9,3.5 C9,1.57 7.43,0 5.5,0 L1.77635684e-15,0 L1.77635684e-15,12 L6.25,12 C8.04,12 9.5,10.54 9.5,8.75 C9.5,7.45 8.73,6.34 7.63,5.82 C8.46,5.24 9,4.38 9,3.5 Z M5,2 C5.82999992,2 6.5,2.67 6.5,3.5 C6.5,4.33 5.82999992,5 5,5 L3,5 L3,2 L5,2 Z M3,10 L3,7 L5.5,7 C6.32999992,7 7,7.67 7,8.5 C7,9.33 6.32999992,10 5.5,10 L3,10 Z\\\"\\n            transform=\\\"translate(4 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\"\\n            points=\\\"4 0 4 2 6.58 2 2.92 10 0 10 0 12 8 12 8 10 5.42 10 9.08 2 12 2 12 0\\\"\\n            transform=\\\"translate(3 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path\\n            d=\\\"M6,12 C8.76,12 11,9.76 11,7 L11,0 L9,0 L9,7 C9,8.75029916 7.49912807,10 6,10 C4.50087193,10 3,8.75837486 3,7 L3,0 L1,0 L1,7 C1,9.76 3.24,12 6,12 Z M0,13 L0,15 L12,15 L12,13 L0,13 Z\\\"\\n            transform=\\\"translate(3 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M2.8875,3.06 C2.8875,2.6025 2.985,2.18625 3.18375,1.8075 C3.3825,1.42875 3.66,1.10625 4.02,0.84 C4.38,0.57375 4.80375,0.3675 5.29875,0.22125 C5.79375,0.075 6.33375,0 6.92625,0 C7.53375,0 8.085,0.0825 8.58,0.25125 C9.075,0.42 9.49875,0.6525 9.85125,0.95625 C10.20375,1.25625 10.47375,1.6125 10.665,2.02875 C10.85625,2.44125 10.95,2.895 10.95,3.38625 L8.6925,3.38625 C8.6925,3.1575 8.655,2.94375 8.58375,2.74875 C8.5125,2.55 8.4,2.38125 8.25,2.2425 C8.1,2.10375 7.9125,1.99125 7.6875,1.91625 C7.4625,1.8375 7.19625,1.8 6.88875,1.8 C6.5925,1.8 6.3375,1.83375 6.11625,1.8975 C5.89875,1.96125 5.71875,2.05125 5.57625,2.1675 C5.43375,2.28375 5.325,2.41875 5.25375,2.5725 C5.1825,2.72625 5.145,2.895 5.145,3.0675 C5.145,3.4275 5.32875,3.73125 5.69625,3.975 C5.71780203,3.98908066 5.73942012,4.00311728 5.76118357,4.01733315 C6.02342923,4.18863185 6.5,4.5 7,5 L4,5 C4,5 3.21375,4.37625 3.17625,4.30875 C2.985,3.9525 2.8875,3.53625 2.8875,3.06 Z M14,6 L0,6 L0,8 L7.21875,8 C7.35375,8.0525 7.51875,8.105 7.63125,8.15375 C7.90875,8.2775 8.12625,8.40875 8.28375,8.53625 C8.44125,8.6675 8.54625,8.81 8.6025,8.96 C8.65875,9.11375 8.685,9.28625 8.685,9.47375 C8.685,9.65 8.65125,9.815 8.58375,9.965 C8.51625,10.11875 8.41125,10.25 8.2725,10.35875 C8.13375,10.4675 7.95375,10.55375 7.74,10.6175 C7.5225,10.68125 7.27125,10.71125 6.97875,10.71125 C6.6525,10.71125 6.35625,10.6775 6.09,10.61375 C5.82375,10.55 5.59875,10.445 5.41125,10.3025 C5.22375,10.16 5.0775,9.9725 4.9725,9.74375 C4.8675,9.515 4.78125,9.17 4.78125,9 L2.55,9 C2.55,9.2525 2.61,9.6875 2.72625,10.025 C2.8425,10.3625 3.0075,10.66625 3.21375,10.9325 C3.42,11.19875 3.6675,11.4275 3.94875,11.6225 C4.23,11.8175 4.53375,11.9825 4.86375,12.11 C5.19375,12.24125 5.535,12.33875 5.89875,12.39875 C6.25875,12.4625 6.6225,12.4925 6.9825,12.4925 C7.5825,12.4925 8.13,12.425 8.6175,12.28625 C9.105,12.1475 9.525,11.94875 9.87,11.69375 C10.215,11.435 10.48125,11.12 10.6725,10.74125 C10.86375,10.3625 10.95375,9.935 10.95375,9.455 C10.95375,9.005 10.875,8.6 10.72125,8.24375 C10.68375,8.1575 10.6425,8.075 10.59375,7.9925 L14,8 L14,6 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M7,0 L5,0 L0.5,12 L2.5,12 L3.62,9 L8.37,9 L9.49,12 L11.49,12 L7,0 L7,0 Z M4.38,7 L6,2.67 L7.62,7 L4.38,7 L4.38,7 Z\\\"\\n            transform=\\\"translate(3 1)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g fill-rule=\\\"evenodd\\\">\\n        <path\\n            d=\\\"M14.5,8.87 C14.5,8.87 13,10.49 13,11.49 C13,12.32 13.67,12.99 14.5,12.99 C15.33,12.99 16,12.32 16,11.49 C16,10.5 14.5,8.87 14.5,8.87 L14.5,8.87 Z M12.71,6.79 L5.91,0 L4.85,1.06 L6.44,2.65 L2.29,6.79 C1.9,7.18 1.9,7.81 2.29,8.2 L6.79,12.7 C6.99,12.9 7.24,13 7.5,13 C7.76,13 8.01,12.9 8.21,12.71 L12.71,8.21 C13.1,7.82 13.1,7.18 12.71,6.79 L12.71,6.79 Z M4.21,7 L7.5,3.71 L10.79,7 L4.21,7 L4.21,7 Z\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M3,6 L1,6 L1,2 L8,2 L8,4 L3,4 L3,6 Z M10,4 L10,2 L17,2 L17,6 L15,6 L15,4 L10,4 Z M10,14 L15,14 L15,12 L17,12 L17,16 L10,16 L10,14 Z M1,12 L3,12 L3,14 L8,14 L8,16 L1,16 L1,12 Z M1,8 L5,8 L5,6 L8,9 L5,12 L5,10 L1,10 L1,8 Z M10,9 L13,6 L13,8 L17,8 L17,10 L13,10 L13,12 L10,9 Z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,14 L10,14 L10,12 L0,12 L0,14 Z M10,4 L0,4 L0,6 L10,6 L10,4 Z M0,0 L0,2 L14,2 L14,0 L0,0 Z M0,10 L14,10 L14,8 L0,8 L0,10 Z\\\"\\n            transform=\\\"translate(2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M2,12 L2,14 L12,14 L12,12 L2,12 Z M2,4 L2,6 L12,6 L12,4 L2,4 Z M0,10 L14,10 L14,8 L0,8 L0,10 Z M0,0 L0,2 L14,2 L14,0 L0,0 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M4,14 L14,14 L14,12 L4,12 L4,14 Z M0,10 L14,10 L14,8 L0,8 L0,10 Z M0,0 L0,2 L14,2 L14,0 L0,0 Z M4,6 L14,6 L14,4 L4,4 L4,6 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L0,2 L12,2 L12,0 L0,0 L0,0 Z M2.5,7 L5,7 L5,14 L7,14 L7,7 L9.5,7 L6,3.5 L2.5,7 L2.5,7 Z\\\"\\n            transform=\\\"translate(3 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"18\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9.5,3 L7,3 L7,0 L5,0 L5,3 L2.5,3 L6,6.5 L9.5,3 L9.5,3 Z M0,8 L0,10 L12,10 L12,8 L0,8 L0,8 Z M2.5,15 L5,15 L5,18 L7,18 L7,15 L9.5,15 L6,11.5 L2.5,15 L2.5,15 Z\\\"\\n            transform=\\\"translate(3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9.5,7 L7,7 L7,0 L5,0 L5,7 L2.5,7 L6,10.5 L9.5,7 L9.5,7 Z M0,12 L0,14 L12,14 L12,12 L0,12 L0,12 Z\\\"\\n            transform=\\\"translate(3 2)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M14,0 L0,0 L0,2 L14,2 L14,0 Z M0,12 L4,12 L4,10 L0,10 L0,12 Z M11.5,5 L0,5 L0,7 L11.75,7 C12.58,7 13.25,7.67 13.25,8.5 C13.25,9.33 12.58,10 11.75,10 L9,10 L9,8 L6,11 L9,14 L9,12 L11.5,12 C13.43,12 15,10.43 15,8.5 C15,6.57 13.43,5 11.5,5 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L0,1 L6,7 L6,12 L8,11 L8,7 L14,1 L14,0 L0,0 Z M4,3 L10,3 L7,6 L4,3 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\"\\n            points=\\\"10 0 0 0 0 1.8 5.5 7 0 12.2 0 14 10 14 10 12 3.1 12 8 7 3.1 2 10 2\\\"\\n            transform=\\\"translate(4 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\" points=\\\"0 0 4 4 8 0\\\" transform=\\\"translate(0 7)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\" points=\\\"-2 2 2 6 6 2\\\" transform=\\\"rotate(-90 8 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M1.9,4 C1.9,2.84 2.84,1.9 4,1.9 L8,1.9 L8,0 L4,0 C1.79,0 0,1.79 0,4 C0,6.21 1.79,8 4,8 L8,8 L8,6.1 L4,6.1 C2.84,6.1 1.9,5.16 1.9,4 L1.9,4 Z M14,0 L10,0 L10,1.9 L14,1.9 C15.16,1.9 16.1,2.84 16.1,4 C16.1,5.16 15.16,6.1 14,6.1 L10,6.1 L10,8 L14,8 C16.21,8 18,6.21 18,4 C18,1.79 16.21,0 14,0 L14,0 Z M6,5 L12,5 L12,3 L6,3 L6,5 L6,5 Z\\\"\\n            transform=\\\"translate(-1 5)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M15,0 C15.55,0 16,0.45 16,1 L16,15 C16,15.55 15.55,16 15,16 L1,16 C0.45,16 0,15.55 0,15 L0,1 C0,0.45 0.45,0 1,0 L15,0 Z M2,2 L2,14 L14,14 L14,2 L2,2 Z M6,12 L4,12 L4,7 L6,7 L6,12 L6,12 Z M9,12 L7,12 L7,4 L9,4 L9,12 L9,12 Z M12,12 L10,12 L10,8 L12,8 L12,12 L12,12 Z\\\"\\n            transform=\\\"translate(1 1)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <path stroke=\\\"#000000\\\" d=\\\"M1.5 3.5H16.5V15.5H1.5z\\\" />\\n        <path fill=\\\"#000000\\\" d=\\\"M6 8H7V15H6z\\\" />\\n        <path fill=\\\"#D8D8D8\\\" d=\\\"M2 4H16V7H2z\\\" />\\n        <path fill=\\\"#000000\\\" d=\\\"M2 7H16V8H2zM2 11H16V12H2z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M2,0.5 C1.17,0.5 0.5,1.17 0.5,2 C0.5,2.83 1.17,3.5 2,3.5 C2.83,3.5 3.5,2.83 3.5,2 C3.5,1.17 2.83,0.5 2,0.5 L2,0.5 Z M12,0.5 C11.17,0.5 10.5,1.17 10.5,2 C10.5,2.83 11.17,3.5 12,3.5 C12.83,3.5 13.5,2.83 13.5,2 C13.5,1.17 12.83,0.5 12,0.5 L12,0.5 Z M7,0.5 C6.17,0.5 5.5,1.17 5.5,2 C5.5,2.83 6.17,3.5 7,3.5 C7.83,3.5 8.5,2.83 8.5,2 C8.5,1.17 7.83,0.5 7,0.5 L7,0.5 Z\\\"\\n            transform=\\\"translate(2 7)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M6,4 L6,0 L4,0 L4,4 L0,4 L0,6 L4,6 L4,10 L6,10 L6,6 L10,6 L10,4 L6,4 Z\\\"\\n            transform=\\\"translate(4 4)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L0,14 L14,14 L14,0 L0,0 L0,0 Z M6,12 L2,12 L2,8 L6,8 L6,12 L6,12 Z M6,6 L2,6 L2,2 L6,2 L6,6 L6,6 Z M12,12 L8,12 L8,8 L12,8 L12,12 L12,12 Z M12,6 L8,6 L8,2 L12,2 L12,6 L12,6 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M2,3 L0,3 L0,5 L2,5 L2,3 L2,3 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M11,0 L9,0 L9,2 L11,2 L11,0 L11,0 Z M2,0 L0,0 L0,2 L2,2 L2,0 L2,0 Z M5,0 L3,0 L3,2 L5,2 L5,0 L5,0 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"8 0 6 0 6 6 0 6 0 8 6 8 6 14 8 14 8 8 14 8 14 6 8 6\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 8 14 8 14 6 0 6\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"6 14 8 14 8 0 6 0\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M8,3 L6,3 L6,5 L8,5 L8,3 L8,3 Z M11,6 L9,6 L9,8 L11,8 L11,6 L11,6 Z M8,6 L6,6 L6,8 L8,8 L8,6 L8,6 Z M8,9 L6,9 L6,11 L8,11 L8,9 L8,9 Z M5,6 L3,6 L3,8 L5,8 L5,6 L5,6 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <path d=\\\"M0,0 L14,0 L14,14 L0,14 L0,0 Z M12,12 L12,2 L2,2 L2,12 L12,12 Z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 14 2 14 2 0 0 0\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 0 0 2 14 2 14 0\\\" />\\n    </g>\\n</svg>\\n  \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"12 0 12 14 14 14 14 0\\\" />\\n    </g>\\n</svg>\\n  \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M5,0 L3,0 L3,2 L5,2 L5,0 L5,0 Z M8,6 L6,6 L6,8 L8,8 L8,6 L8,6 Z M8,9 L6,9 L6,11 L8,11 L8,9 L8,9 Z M11,6 L9,6 L9,8 L11,8 L11,6 L11,6 Z M5,6 L3,6 L3,8 L5,8 L5,6 L5,6 Z M11,0 L9,0 L9,2 L11,2 L11,0 L11,0 Z M8,3 L6,3 L6,5 L8,5 L8,3 L8,3 Z M8,0 L6,0 L6,2 L8,2 L8,0 L8,0 Z M2,9 L0,9 L0,11 L2,11 L2,9 L2,9 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M2,0 L0,0 L0,2 L2,2 L2,0 L2,0 Z M2,3 L0,3 L0,5 L2,5 L2,3 L2,3 Z M2,6 L0,6 L0,8 L2,8 L2,6 L2,6 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 14 14 14 14 12 0 12\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z\\\"\\n            transform=\\\"translate(2 2)\\\" opacity=\\\".54\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M6.5,3.62 L0,10.12 L0,13 L2.88,13 L9.38,6.5 L6.5,3.62 Z M11.85,4.02 C12.05,3.82 12.05,3.51 11.85,3.31 L9.68,1.14 C9.48,0.94 9.17,0.94 8.97,1.14 L7.62,2.5 L10.5,5.38 L11.85,4.02 L11.85,4.02 Z\\\"\\n            transform=\\\"translate(4)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L14,0 L14,2 L0,2 L0,0 Z M0,4 L6,4 L6,6 L0,6 L0,4 Z M0,8 L2,8 L2,10 L0,10 L0,8 Z M8,4 L14,4 L14,6 L8,6 L8,4 Z M4,8 L6,8 L6,10 L4,10 L4,8 Z M8,8 L10,8 L10,10 L8,10 L8,8 Z M12,8 L14,8 L14,10 L12,10 L12,8 Z\\\"\\n            transform=\\\"translate(2 4)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\" points=\\\"-2 2 2 6 6 2\\\" transform=\\\"rotate(90 3 10)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill=\\\"#000000\\\" fill-rule=\\\"evenodd\\\" points=\\\"-2 2 2 6 6 2\\\" transform=\\\"rotate(-90 8 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\"\\n            points=\\\"7.53 1.53 6.47 .47 4 2.94 1.53 .47 .47 1.53 2.94 4 .47 6.47 1.53 7.53 4 5.06 6.47 7.53 7.53 6.47 5.06 4\\\"\\n            transform=\\\"translate(5 5)\\\" />\\n    </g>\\n</svg>\\n    \";","/* eslint-disable no-param-reassign */\nfunction cloneDeep(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nconst mergeDeep = (object = {}, ...sources) => {\n  sources.forEach((source) => {\n    Object.keys(source).forEach((key) => {\n      const v = source[key];\n      // console.log('k:', key, ', v:', source[key], typeof v, v instanceof Object);\n      if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {\n        object[key] = v;\n      } else if (typeof v !== 'function' && !Array.isArray(v) && v instanceof Object) {\n        object[key] = object[key] || {};\n        mergeDeep(object[key], v);\n      } else {\n        object[key] = v;\n      }\n    });\n  });\n  // console.log('::', object);\n  return object;\n};\n\nfunction equals(obj1, obj2) {\n  const keys = Object.keys(obj1);\n  if (keys.length !== Object.keys(obj2).length) return false;\n  for (let i = 0; i < keys.length; i += 1) {\n    const k = keys[i];\n    const v1 = obj1[k];\n    const v2 = obj2[k];\n    if (v2 === undefined) return false;\n    if (typeof v1 === 'string' || typeof v1 === 'number' || typeof v1 === 'boolean') {\n      if (v1 !== v2) return false;\n    } else if (Array.isArray(v1)) {\n      if (v1.length !== v2.length) return false;\n      for (let ai = 0; ai < v1.length; ai += 1) {\n        if (!equals(v1[ai], v2[ai])) return false;\n      }\n    } else if (typeof v1 !== 'function' && !Array.isArray(v1) && v1 instanceof Object) {\n      if (!equals(v1, v2)) return false;\n    }\n  }\n  return true;\n}\n\n/*\n  objOrAry: obejct or Array\n  cb: (value, index | key) => { return value }\n*/\nconst sum = (objOrAry, cb = value => value) => {\n  let total = 0;\n  let size = 0;\n  Object.keys(objOrAry).forEach((key) => {\n    total += cb(objOrAry[key], key);\n    size += 1;\n  });\n  return [total, size];\n};\n\nfunction deleteProperty(obj, property) {\n  const oldv = obj[`${property}`];\n  delete obj[`${property}`];\n  return oldv;\n}\n\nfunction rangeReduceIf(min, max, inits, initv, ifv, getv) {\n  let s = inits;\n  let v = initv;\n  let i = min;\n  for (; i < max; i += 1) {\n    if (s > ifv) break;\n    v = getv(i);\n    s += v;\n  }\n  return [i, s - v, v];\n}\n\nfunction rangeSum(min, max, getv) {\n  let s = 0;\n  for (let i = min; i < max; i += 1) {\n    s += getv(i);\n  }\n  return s;\n}\n\nfunction rangeEach(min, max, cb) {\n  for (let i = min; i < max; i += 1) {\n    cb(i);\n  }\n}\n\nfunction arrayEquals(a1, a2) {\n  if (a1.length === a2.length) {\n    for (let i = 0; i < a1.length; i += 1) {\n      if (a1[i] !== a2[i]) return false;\n    }\n  } else return false;\n  return true;\n}\n\nfunction digits(a) {\n  const v = `${a}`;\n  let ret = 0;\n  let flag = false;\n  for (let i = 0; i < v.length; i += 1) {\n    if (flag === true) ret += 1;\n    if (v.charAt(i) === '.') flag = true;\n  }\n  return ret;\n}\n\nexport function numberCalc(type, a1, a2) {\n  if (Number.isNaN(a1) || Number.isNaN(a2)) {\n    return a1 + type + a2;\n  }\n  const al1 = digits(a1);\n  const al2 = digits(a2);\n  const num1 = Number(a1);\n  const num2 = Number(a2);\n  let ret = 0;\n  if (type === '-') {\n    ret = num1 - num2;\n  } else if (type === '+') {\n    ret = num1 + num2;\n  } else if (type === '*') {\n    ret = num1 * num2;\n  } else if (type === '/') {\n    ret = num1 / num2;\n    if (digits(ret) > 5) return ret.toFixed(2);\n    return ret;\n  }\n  return ret.toFixed(Math.max(al1, al2));\n}\n\nexport default {\n  cloneDeep,\n  merge: (...sources) => mergeDeep({}, ...sources),\n  equals,\n  arrayEquals,\n  sum,\n  rangeEach,\n  rangeSum,\n  rangeReduceIf,\n  deleteProperty,\n  numberCalc,\n};\n","import './_.prototypes';\n\nconst alphabets = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\n/** index number 2 letters\n * @example stringAt(26) ==> 'AA'\n * @date 2019-10-10\n * @export\n * @param {number} index\n * @returns {string}\n */\nexport function stringAt(index) {\n  let str = '';\n  let cindex = index;\n  while (cindex >= alphabets.length) {\n    cindex /= alphabets.length;\n    cindex -= 1;\n    str += alphabets[parseInt(cindex, 10) % alphabets.length];\n  }\n  const last = index % alphabets.length;\n  str += alphabets[last];\n  return str;\n}\n\n/** translate letter in A1-tag to number\n * @date 2019-10-10\n * @export\n * @param {string} str \"AA\" in A1-tag \"AA1\"\n * @returns {number}\n */\nexport function indexAt(str) {\n  let ret = 0;\n  for(let i = 0; i !== str.length; ++i) ret = 26 * ret + str.charCodeAt(i) - 64;\n  return ret - 1;\n}\n\n\n// B10 => x,y\n/** translate A1-tag to XY-tag\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @returns {tagXY}\n */\nexport function expr2xy(src) {\n  let x = '';\n  let y = '';\n  let xlock = false;\n  let ylock = false;\n  for (let i = 0; i < src.length; i += 1) {\n    if(src.charAt(i) === '$') {\n      if(x.length > 0) ylock = true\n      else xlock = true\n    } else  if (src.charAt(i) >= '0' && src.charAt(i) <= '9') {\n      y += src.charAt(i);\n    } else {\n      x += src.charAt(i);\n    }\n  }\n\n  return [indexAt(x), parseInt(y, 10) - 1, xlock, ylock];\n}\n\n/** translate XY-tag to A1-tag\n * @example x,y => B10\n * @date 2019-10-10\n * @export\n * @param {number} x\n * @param {number} y\n * @returns {tagA1}\n */\nexport function xy2expr(x, y, xlock, ylock) {\n  const x$ = xlock ? '$' : '';\n  const y$ = ylock ? '$' : '';\n  return `${x$}${stringAt(x)}${y$}${y + 1}`;\n}\n\n/** translate A1-tag src by (xn, yn)\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @param {number} xn\n * @param {number} yn\n * @returns {tagA1}\n */\nexport function expr2expr(src, xn, yn, condition = () => true) {\n  if (xn === 0 && yn === 0) return src;\n  const [x, y, xlock, ylock] = expr2xy(src);\n  if (!condition(x, y)) return src;\n  return xy2expr(x + (xlock ? 0 : xn), y + (ylock ? 0 : yn), xlock, ylock);\n}\n\nexport default {\n  stringAt,\n  indexAt,\n  expr2xy,\n  xy2expr,\n  expr2expr,\n};\n","import { xy2expr, expr2xy } from './alphabet';\n\nclass CellRange {\n  constructor(sri, sci, eri, eci, w = 0, h = 0) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n    this.w = w;\n    this.h = h;\n  }\n\n  set(sri, sci, eri, eci) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n  }\n\n  multiple() {\n    return this.eri - this.sri > 0 || this.eci - this.sci > 0;\n  }\n\n  // cell-index: ri, ci\n  // cell-ref: A10\n  includes(...args) {\n    let [ri, ci] = [0, 0];\n    if (args.length === 1) {\n      [ci, ri] = expr2xy(args[0]);\n    } else if (args.length === 2) {\n      [ri, ci] = args;\n    }\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return sri <= ri && ri <= eri && sci <= ci && ci <= eci;\n  }\n\n  each(cb, rowFilter = () => true) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    for (let i = sri; i <= eri; i += 1) {\n      if (rowFilter(i)) {\n        for (let j = sci; j <= eci; j += 1) {\n          cb(i, j);\n        }\n      }\n    }\n  }\n\n  contains(other) {\n    return this.sri <= other.sri\n      && this.sci <= other.sci\n      && this.eri >= other.eri\n      && this.eci >= other.eci;\n  }\n\n  // within\n  within(other) {\n    return this.sri >= other.sri\n      && this.sci >= other.sci\n      && this.eri <= other.eri\n      && this.eci <= other.eci;\n  }\n\n  // disjoint\n  disjoint(other) {\n    return this.sri > other.eri\n      || this.sci > other.eci\n      || other.sri > this.eri\n      || other.sci > this.eci;\n  }\n\n  // intersects\n  intersects(other) {\n    return this.sri <= other.eri\n      && this.sci <= other.eci\n      && other.sri <= this.eri\n      && other.sci <= this.eci;\n  }\n\n  // union\n  union(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return new CellRange(\n      other.sri < sri ? other.sri : sri,\n      other.sci < sci ? other.sci : sci,\n      other.eri > eri ? other.eri : eri,\n      other.eci > eci ? other.eci : eci,\n    );\n  }\n\n  // intersection\n  // intersection(other) {}\n\n  // Returns Array<CellRange> that represents that part of this that does not intersect with other\n  // difference\n  difference(other) {\n    const ret = [];\n    const addRet = (sri, sci, eri, eci) => {\n      ret.push(new CellRange(sri, sci, eri, eci));\n    };\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    const dsr = other.sri - sri;\n    const dsc = other.sci - sci;\n    const der = eri - other.eri;\n    const dec = eci - other.eci;\n    if (dsr > 0) {\n      addRet(sri, sci, other.sri - 1, eci);\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, eci);\n        if (dsc > 0) {\n          addRet(other.sri, sci, other.eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, other.eri, eci);\n        }\n      } else {\n        if (dsc > 0) {\n          addRet(other.sri, sci, eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, eri, eci);\n        }\n      }\n    } else if (der > 0) {\n      addRet(other.eri + 1, sci, eri, eci);\n      if (dsc > 0) {\n        addRet(sri, sci, other.eri, other.sci - 1);\n      }\n      if (dec > 0) {\n        addRet(sri, other.eci + 1, other.eri, eci);\n      }\n    }\n    if (dsc > 0) {\n      addRet(sri, sci, eri, other.sci - 1);\n      if (dec > 0) {\n        addRet(sri, other.eri + 1, eri, eci);\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, other.eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, other.eci);\n        }\n      } else {\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, eci);\n        }\n      }\n    } else if (dec > 0) {\n      addRet(eri, other.eci + 1, eri, eci);\n      if (dsr > 0) {\n        addRet(sri, sci, other.sri - 1, other.eci);\n      }\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, other.eci);\n      }\n    }\n    return ret;\n  }\n\n  size() {\n    return [\n      this.eri - this.sri + 1,\n      this.eci - this.sci + 1,\n    ];\n  }\n\n  toString() {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    let ref = xy2expr(sci, sri);\n    if (this.multiple()) {\n      ref = `${ref}:${xy2expr(eci, eri)}`;\n    }\n    return ref;\n  }\n\n  clone() {\n    const {\n      sri, sci, eri, eci, w, h,\n    } = this;\n    return new CellRange(sri, sci, eri, eci, w, h);\n  }\n\n  /*\n  toJSON() {\n    return this.toString();\n  }\n  */\n\n  equals(other) {\n    return this.eri === other.eri\n      && this.eci === other.eci\n      && this.sri === other.sri\n      && this.sci === other.sci;\n  }\n\n  static valueOf(ref) {\n    // B1:B8, B1 => 1 x 1 cell range\n    const refs = ref.split(':');\n    const [sci, sri] = expr2xy(refs[0]);\n    let [eri, eci] = [sri, sci];\n    if (refs.length > 1) {\n      [eci, eri] = expr2xy(refs[1]);\n    }\n    return new CellRange(sri, sci, eri, eci);\n  }\n}\n\nexport default CellRange;\n\nexport {\n  CellRange,\n};\n","import { Element, h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { buildImg, default as Icon } from './icon';\n\nexport default class Dropdown extends Element {\n  constructor(title, width, showArrow, placement, classname, ...children) {\n    super('div', `${cssPrefix}-dropdown ${placement} ${classname||''}`);\n    this.title = title;\n    this.change = () => {};\n    this.headerClick = () => {};\n    if (typeof title === 'string') {\n      this.title = h('div', `${cssPrefix}-dropdown-title`).child(title);\n    } else if (showArrow) {\n      this.title.addClass('arrow-left');\n    }\n    this.contentEl = h('div', `${cssPrefix}-dropdown-content`)\n      .css('width', width)\n      .hide();\n\n    this.setContentChildren(...children);\n\n    this.headerEl = h('div', `${cssPrefix}-dropdown-header`);\n    this.headerEl.on('click', () => {\n      if (this.contentEl.css('display') !== 'block') {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }).children(\n      this.title,\n      showArrow ? h('div', `${cssPrefix}-icon arrow-right`).child(\n        // h('div', `${cssPrefix}-icon-img arrow-down`),\n        // buildImg('arrow-down') \n        new Icon('arrow-down')\n      ) : '',\n    );\n    this.children(this.headerEl, this.contentEl);\n  }\n\n  setContentChildren(...children) {\n    this.contentEl.html('');\n    if (children.length > 0) {\n      this.contentEl.children(...children);\n    }\n  }\n\n  setTitle(title) {\n    this.title.html(title);\n    this.hide();\n  }\n\n  show() {\n    const { contentEl } = this;\n    contentEl.show();\n    this.parent().active();\n    bindClickoutside(this.parent(), () => {\n      this.hide();\n    });\n  }\n\n  hide() {\n    this.parent().active(false);\n    this.contentEl.hide();\n    unbindClickoutside(this.parent());\n  }\n}\n","module.exports = require('./numfmt');\n","// docs\nimport './_.prototypes';\n\n/** default font list\n * @type {BaseFont[]}\n */\nconst baseFonts = [\n  { key: 'Arial', title: 'Arial' },\n  { key: 'Helvetica', title: 'Helvetica' },\n  { key: 'Source Sans Pro', title: 'Source Sans Pro' },\n  { key: 'Comic Sans MS', title: 'Comic Sans MS' },\n  { key: 'Courier New', title: 'Courier New' },\n  { key: 'Verdana', title: 'Verdana' },\n  { key: 'Lato', title: 'Lato' },\n];\n\n/** default fontSize list\n * @type {FontSize[]}\n */\nconst fontSizes = [\n  { pt: 7.5, px: 10 },\n  { pt: 8, px: 11 },\n  { pt: 9, px: 12 },\n  { pt: 10, px: 13 },\n  { pt: 10.5, px: 14 },\n  { pt: 11, px: 15 },\n  { pt: 12, px: 16 },\n  { pt: 14, px: 18.7 },\n  { pt: 15, px: 20 },\n  { pt: 16, px: 21.3 },\n  { pt: 18, px: 24 },\n  { pt: 22, px: 29.3 },\n  { pt: 24, px: 32 },\n  { pt: 26, px: 34.7 },\n  { pt: 36, px: 48 },\n  { pt: 42, px: 56 },\n  // { pt: 54, px: 71.7 },\n  // { pt: 63, px: 83.7 },\n  // { pt: 72, px: 95.6 },\n];\n\n/** map pt to px\n * @date 2019-10-10\n * @param {fontsizePT} pt\n * @returns {fontsizePX}\n */\nfunction getFontSizePxByPt(pt) {\n  for (let i = 0; i < fontSizes.length; i += 1) {\n    const fontSize = fontSizes[i];\n    if (fontSize.pt === pt) {\n      return fontSize.px;\n    }\n  }\n  return pt;\n}\n\n/** transform baseFonts to map\n * @date 2019-10-10\n * @param {BaseFont[]} [ary=[]]\n * @returns {object}\n */\nfunction fonts(ary = []) {\n  const map = {};\n  baseFonts.concat(ary).forEach((f) => {\n    map[f.key] = f;\n  });\n  return map;\n}\n\nexport default {};\nexport {\n  fontSizes,\n  fonts,\n  baseFonts,\n  getFontSizePxByPt,\n};\n","/* global window */\nfunction dpr() {\n  return window.devicePixelRatio || 1;\n}\n\nfunction thinLineWidth() {\n  return dpr() - 0.5;\n}\n\nfunction npx(px) {\n  return parseInt(px * dpr(), 10);\n}\n\nfunction npxLine(px) {\n  const n = npx(px);\n  return n > 0 ? n - 0.5 : 0.5;\n}\n\nclass DrawBox {\n  constructor(x, y, w, h, padding = 0) {\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n    this.padding = padding;\n    this.bgcolor = '#ffffff';\n    // border: [width, style, color]\n    this.borderTop = null;\n    this.borderRight = null;\n    this.borderBottom = null;\n    this.borderLeft = null;\n  }\n\n  setBorders({\n    top, bottom, left, right,\n  }) {\n    if (top) this.borderTop = top;\n    if (right) this.borderRight = right;\n    if (bottom) this.borderBottom = bottom;\n    if (left) this.borderLeft = left;\n  }\n\n  innerWidth() {\n    return this.width - (this.padding * 2) - 2;\n  }\n\n  innerHeight() {\n    return this.height - (this.padding * 2) - 2;\n  }\n\n  textx(align) {\n    const { width, padding } = this;\n    let { x } = this;\n    if (align === 'left') {\n      x += padding;\n    } else if (align === 'center') {\n      x += width / 2;\n    } else if (align === 'right') {\n      x += width - padding;\n    }\n    return x;\n  }\n\n  texty(align, h) {\n    const { height, padding } = this;\n    let { y } = this;\n    if (align === 'top') {\n      y += padding;\n    } else if (align === 'middle') {\n      y += height / 2 - h / 2;\n    } else if (align === 'bottom') {\n      y += height - padding - h;\n    }\n    return y;\n  }\n\n  topxys() {\n    const { x, y, width } = this;\n    return [[x, y], [x + width, y]];\n  }\n\n  rightxys() {\n    const {\n      x, y, width, height,\n    } = this;\n    return [[x + width, y], [x + width, y + height]];\n  }\n\n  bottomxys() {\n    const {\n      x, y, width, height,\n    } = this;\n    return [[x, y + height], [x + width, y + height]];\n  }\n\n  leftxys() {\n    const {\n      x, y, height,\n    } = this;\n    return [[x, y], [x, y + height]];\n  }\n}\n\nfunction drawFontLine(type, tx, ty, align, valign, blheight, blwidth) {\n  const floffset = { x: 0, y: 0 };\n  if (type === 'underline') {\n    if (valign === 'bottom') {\n      floffset.y = 0;\n    } else if (valign === 'top') {\n      floffset.y = -(blheight + 2);\n    } else {\n      floffset.y = -blheight / 2;\n    }\n  } else if (type === 'strike') {\n    if (valign === 'bottom') {\n      floffset.y = blheight / 2;\n    } else if (valign === 'top') {\n      floffset.y = -((blheight / 2) + 2);\n    }\n  }\n\n  if (align === 'center') {\n    floffset.x = blwidth / 2;\n  } else if (align === 'right') {\n    floffset.x = blwidth;\n  }\n  this.line(\n    [tx - floffset.x, ty - floffset.y],\n    [tx - floffset.x + blwidth, ty - floffset.y],\n  );\n}\n\nclass Draw {\n  constructor(el, width, height) {\n    this.el = el;\n    this.ctx = el.getContext('2d');\n    this.resize(width, height);\n    this.ctx.scale(dpr(), dpr());\n  }\n\n  resize(width, height) {\n    // console.log('dpr:', dpr);\n    this.el.style.width = `${width}px`;\n    this.el.style.height = `${height}px`;\n    this.el.width = npx(width);\n    this.el.height = npx(height);\n  }\n\n  clear() {\n    const { width, height } = this.el;\n    this.ctx.clearRect(0, 0, width, height);\n    return this;\n  }\n\n  attr(options) {\n    Object.assign(this.ctx, options);\n    return this;\n  }\n\n  save() {\n    this.ctx.save();\n    this.ctx.beginPath();\n    return this;\n  }\n\n  restore() {\n    this.ctx.restore();\n    return this;\n  }\n\n  beginPath() {\n    this.ctx.beginPath();\n    return this;\n  }\n\n  translate(x, y) {\n    this.ctx.translate(npx(x), npx(y));\n    return this;\n  }\n\n  scale(x, y) {\n    this.ctx.scale(x, y);\n    return this;\n  }\n\n  clearRect(x, y, w, h) {\n    this.ctx.clearRect(x, y, w, h);\n    return this;\n  }\n\n  fillRect(x, y, w, h) {\n    this.ctx.fillRect(npx(x) - 0.5, npx(y) - 0.5, npx(w), npx(h));\n    return this;\n  }\n\n  fillText(text, x, y) {\n    this.ctx.fillText(text, npx(x), npx(y));\n    return this;\n  }\n\n  /*\n    txt: render text\n    box: DrawBox\n    attr: {\n      align: left | center | right\n      valign: top | middle | bottom\n      color: '#333333',\n      strike: false,\n      font: {\n        name: 'Arial',\n        size: 14,\n        bold: false,\n        italic: false,\n      }\n    }\n    textWrap: text wrapping\n  */\n  text(mtxt, box, attr = {}, textWrap = true) {\n    const { ctx } = this;\n    const {\n      align, valign, font, color, strike, underline,\n    } = attr;\n    const tx = box.textx(align);\n    ctx.save();\n    ctx.beginPath();\n    this.attr({\n      textAlign: align,\n      textBaseline: valign,\n      font: `${font.italic ? 'italic' : ''} ${font.bold ? 'bold' : ''} ${npx(font.size)}px ${font.name}`,\n      fillStyle: color,\n      strokeStyle: color,\n    });\n    const txts = `${mtxt}`.split('\\n');\n    const biw = box.innerWidth();\n    const ntxts = [];\n    txts.forEach((it) => {\n      const txtWidth = ctx.measureText(it).width;\n      if (textWrap && txtWidth > npx(biw)) {\n        let textLine = { w: 0, len: 0, start: 0 };\n        for (let i = 0; i < it.length; i += 1) {\n          if (textLine.w >= npx(biw)) {\n            ntxts.push(it.substr(textLine.start, textLine.len));\n            textLine = { w: 0, len: 0, start: i };\n          }\n          textLine.len += 1;\n          textLine.w += ctx.measureText(it[i]).width + 1;\n        }\n        if (textLine.len > 0) {\n          ntxts.push(it.substr(textLine.start, textLine.len));\n        }\n      } else {\n        ntxts.push(it);\n      }\n    });\n    const txtHeight = (ntxts.length - 1) * (font.size + 2);\n    let ty = box.texty(valign, txtHeight);\n    ntxts.forEach((txt) => {\n      const txtWidth = ctx.measureText(txt).width;\n      this.fillText(txt, tx, ty);\n      if (strike) {\n        drawFontLine.call(this, 'strike', tx, ty, align, valign, font.size, txtWidth);\n      }\n      if (underline) {\n        drawFontLine.call(this, 'underline', tx, ty, align, valign, font.size, txtWidth);\n      }\n      ty += font.size + 2;\n    });\n    ctx.restore();\n    return this;\n  }\n\n  border(style, color) {\n    const { ctx } = this;\n    ctx.lineWidth = thinLineWidth;\n    ctx.strokeStyle = color;\n    // console.log('style:', style);\n    if (style === 'medium') {\n      ctx.lineWidth = npx(2) - 0.5;\n    } else if (style === 'thick') {\n      ctx.lineWidth = npx(3);\n    } else if (style === 'dashed') {\n      ctx.setLineDash([npx(3), npx(2)]);\n    } else if (style === 'dotted') {\n      ctx.setLineDash([npx(1), npx(1)]);\n    } else if (style === 'double') {\n      ctx.setLineDash([npx(2), 0]);\n    }\n    return this;\n  }\n\n  line(...xys) {\n    const { ctx } = this;\n    if (xys.length > 1) {\n      ctx.beginPath();\n      const [x, y] = xys[0];\n      ctx.moveTo(npxLine(x), npxLine(y));\n      for (let i = 1; i < xys.length; i += 1) {\n        const [x1, y1] = xys[i];\n        ctx.lineTo(npxLine(x1), npxLine(y1));\n      }\n      ctx.stroke();\n    }\n    return this;\n  }\n\n  strokeBorders(box) {\n    const { ctx } = this;\n    ctx.save();\n    // border\n    const {\n      borderTop, borderRight, borderBottom, borderLeft,\n    } = box;\n    if (borderTop) {\n      this.border(...borderTop);\n      // console.log('box.topxys:', box.topxys());\n      this.line(...box.topxys());\n    }\n    if (borderRight) {\n      this.border(...borderRight);\n      this.line(...box.rightxys());\n    }\n    if (borderBottom) {\n      this.border(...borderBottom);\n      this.line(...box.bottomxys());\n    }\n    if (borderLeft) {\n      this.border(...borderLeft);\n      this.line(...box.leftxys());\n    }\n    ctx.restore();\n  }\n\n  dropdown(box) {\n    const { ctx } = this;\n    const {\n      x, y, width, height,\n    } = box;\n    const sx = x + width - 15;\n    const sy = y + height - 15;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx), npx(sy));\n    ctx.lineTo(npx(sx + 8), npx(sy));\n    ctx.lineTo(npx(sx + 4), npx(sy + 6));\n    ctx.closePath();\n    ctx.fillStyle = box.color || 'rgba(0, 0, 0, .45)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  error(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(255, 0, 0, .65)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  frozen(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(0, 255, 0, .85)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  rect(box, dtextcb) {\n    const { ctx } = this;\n    const {\n      x, y, width, height, bgcolor,\n    } = box;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = bgcolor || '#fff';\n    ctx.rect(npxLine(x + 1), npxLine(y + 1), npx(width - 2), npx(height - 2));\n    ctx.clip();\n    ctx.fill();\n    dtextcb();\n    ctx.restore();\n  }\n}\n\nexport default {};\nexport {\n  Draw,\n  DrawBox,\n  thinLineWidth,\n  npx,\n};\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class FormInput {\n  constructor(width, hint) {\n    this.vchange = () => {};\n    this.el = h('div', `${cssPrefix}-form-input`);\n    this.input = h('input', '').css('width', width)\n      .on('input', evt => this.vchange(evt))\n      .attr('placeholder', hint);\n    this.el.child(this.input);\n  }\n\n  focus() {\n    setTimeout(() => {\n      this.input.el.focus();\n    }, 10);\n  }\n\n  hint(v) {\n    this.input.attr('placeholder', v);\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n}\n","import numfmt from 'numfmt';\nimport { tf } from '../locale/locale';\n\n// eslint-disable-next-line no-unused-vars\nconst formatStringRender = v => v;\n\n// eslint-disable-next-line no-unused-vars\nconst formatNumberRender = (v) => {\n  // match \"-12.1\" or \"12\" or \"12.1\"\n  if (/^(-?\\d*.?\\d*)$/.test(v)) {\n    const v1 = Number(v).toFixed(2).toString();\n    const [first, ...parts] = v1.split('\\\\.');\n    return [first.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,'), ...parts];\n  }\n  return v;\n};\n\nconst generalFmt = ``;\nconst textFmt = '@';\nconst numericFmt = '#,##0.00';\nconst percentFmt = '#,##0.00%';\nconst rmbFmt = '#,##0.00';\nconst usdFmt = '$#,##0.00';\nconst eurFmt = '#,##0.00';\n// TODO: take from locale\nconst dateFmt = tf('format.dateformat')() || 'yyyy-mm-dd';\nconst timeFmt = '[$-F400]h:mm:ss AM/PM';\nconst longdateFmt = '[$-F800]dddd, mmmm dd, yyyy';\n\n\nconst baseFormats = [\n  {\n    // key: 'general',\n    numfmt: generalFmt,\n    title: tf('format.general'),\n    type: 'string',\n    render: numfmt(generalFmt),\n  },\n  {\n    // key: 'text',\n    numfmt: textFmt,\n    title: tf('format.text'),\n    type: 'string',\n    render: numfmt(textFmt),\n  },\n  {\n    // key: 'number',\n    numfmt: numericFmt,\n    title: tf('format.number'),\n    type: 'number',\n    label: '1,000.12',\n    render: numfmt(numericFmt),\n  },\n  {\n    // key: 'percent',\n    numfmt: percentFmt,\n    title: tf('format.percent'),\n    type: 'number',\n    label: '10.12%',\n    render: numfmt(percentFmt),\n  },\n  {\n    // key: 'rmb',\n    numfmt: rmbFmt,\n    title: tf('format.rmb'),\n    type: 'number',\n    label: '10.00',\n    render: numfmt(rmbFmt),\n  },\n  {\n    // key: 'usd',\n    numfmt: usdFmt,\n    title: tf('format.usd'),\n    type: 'number',\n    label: '$10.00',\n    render: numfmt(usdFmt),\n  },\n  {\n    // key: 'eur',\n    numfmt: eurFmt,\n    title: tf('format.eur'),\n    type: 'number',\n    label: '10.00',\n    render: numfmt(eurFmt),\n  },\n  {\n    // key: 'date',\n    numfmt: dateFmt,\n    title: tf('format.date'),\n    type: 'date',\n    label: '26/09/2008',\n    render: numfmt(dateFmt),\n  },\n  {\n    // key: 'time',\n    numfmt: timeFmt,\n    title: tf('format.time'),\n    type: 'date',\n    label: '15:59:00',\n    render: numfmt(timeFmt),\n  },\n  // {\n  //   key: 'datetime',\n  //   title: tf('format.datetime'),\n  //   type: 'date',\n  //   label: '26/09/2008 15:59:00',\n  //   render: timeFmt,\n  // },\n  {\n    // key: 'longdate',\n    numfmt: longdateFmt,\n    title: tf('format.longdate'),\n    type: 'date',\n    label: '24:01:00',\n    render: numfmt(longdateFmt),\n  },\n\n];\n\n// const formats = (ary = []) => {\n//   const map = {};\n//   baseFormats.concat(ary).forEach((f) => {\n//     map[f.key] = f;\n//   });\n//   return map;\n// };\nconst formatm = {};\nbaseFormats.forEach((f) => {\n  formatm[f.key] = f;\n});\n\nconst numfmtCache = new Map();\n\nformatm.render = (format, cellText) => {\n  const p = numfmt.parseValue(cellText);\n\n  const v = (p && p.v) || cellText;\n  // if (p) {\n  //   const { v } = p;\n  //   // console.log(data.formatm, '>>', cell.format);\n  //   cellText = formatm[style.format].render(v);\n  // }\n  let f;\n  if (formatm[format]) {\n    f = formatm[format].render;\n  } else if (numfmtCache.has(format)) {\n    f = numfmtCache.get(format);\n  } else {\n    f = numfmt(format);\n    numfmtCache.set(format, f);\n  }\n  return f(v);\n};\n\nexport default {\n};\nexport {\n  formatm,\n  baseFormats,\n};\n","/**\n  formula:\n    key\n    title\n    render\n*/\n/**\n * @typedef {object} Formula\n * @property {string} key\n * @property {function} title\n * @property {function} render\n */\nimport { tf } from '../locale/locale';\nimport { numberCalc } from './helper';\n\nfunction isNumber(str) {\n  // eslint-disable-next-line no-restricted-globals\n  return !Number.isNaN(parseFloat(str)) && isFinite(str);\n}\n\n\n\n\n/** @type {Formula[]} */\nconst baseFormulas = [\n  {\n    key: 'SUM',\n    title: tf('formula.sum'),\n    render: ary => ary.flat().flat().filter(isNumber).reduce((a, b) => numberCalc('+', a, b), 0),\n  },\n  {\n    key: 'AVERAGE',\n    title: tf('formula.average'),\n    render: ([...ary]) => ary.flat().flat().filter(isNumber).reduce((a, b) => Number(a) + Number(b), 0) / ary.flat().length,\n  },\n  {\n    key: 'MAX',\n    title: tf('formula.max'),\n    render: ([...ary]) => Math.max(...ary.flat().flat().filter(isNumber).map(v => Number(v))),\n  },\n  {\n    key: 'MIN',\n    title: tf('formula.min'),\n    render: ([...ary]) => Math.min(...ary.flat().flat().filter(isNumber).map(v => Number(v))),\n  },\n  {\n    key: 'IF',\n    title: tf('formula._if'),\n    render: ([b, t, f]) => (b ? t : f),\n  },\n  {\n    key: 'AND',\n    title: tf('formula.and'),\n    render: ([...ary]) => ary.flat().flat().every(it => it),\n  },\n  {\n    key: 'OR',\n    title: tf('formula.or'),\n    render: ([...ary]) => ary.flat().flat().some(it => it),\n  },\n  {\n    key: 'CONCAT',\n    title: tf('formula.concat'),\n    render: ([...ary]) => ary.flat().flat().join(''),\n  },\n  {\n    key: 'PRODUCT',\n    title: tf('formula.product'),\n    render: ([...ary]) => ary.flat().flat().filter(isNumber).reduce((a, b) => Number(a) * Number(b),1),\n  },\n  {\n    key: 'COUNT',\n    title: tf('formula.count'),\n    render: ary => ary.flat().flat().filter(isNumber).length,\n  },\n  {\n    key: 'MOD',\n    title: tf('formula.mod'),\n    render: ([a,b]) => Number(a) % Number(b),\n  },\n  {\n    key: 'POWER',\n    title: tf('formula.power'),\n    render: ([a,b]) => Number(a) ** Number(b),\n  },\n  {\n    key: 'CEILING',\n    title: tf('formula.ceiling'),\n    render: ([a, significance]) => Math.ceil(Number(a)),\n  }, \n  {\n    key: 'FLOOR',\n    title: tf('formula.floor'),\n    render: ([a]) => Math.floor(Number(a)),\n  },\n  {\n    key: 'LEN',\n    title: tf('formula.len'),\n    render: ([a]) => String(a).length,\n  },\n  {\n    key: 'REPLACE',\n    title: tf('formula.replace'),\n    render: ([oldText, startNum, numChars, newText]) => {\n      // Adjust the startNum from 1-based index to 0-based index for JavaScript\n      const zstart = startNum - 1;\n\n      // Get the parts of the old text to keep\n      const beginning = oldText.slice(0, zstart);\n      const ending = oldText.slice(zstart + numChars);\n\n      // Build and return the final string\n      return beginning + newText + ending;\n    }\n  },\n  {\n    key: 'SUBSTITUTE',\n    title: tf('formula.substitute'),\n    render: ([text, oldText, newText]) => String(text).replaceAll(oldText, newText)\n  },\n  {\n    key: 'VLOOKUP',\n    title: tf('formula.vlookup'),\n    render: ([lookupValue, table, colIndex, rangeLookup]) => {\n      console.log(lookupValue, table, colIndex, rangeLookup);\n      const index = table[0].findIndex(s => s == lookupValue);\n      if(index >= 0 && colIndex <= table.length) {\n        const lookup = table[colIndex-1];\n        const value = lookup[index];\n        return value;\n      }\n      return \"#N/A\";\n    },\n\n  }\n  /* support:  1 + A1 + B2 * 3\n  {\n    key: 'DIVIDE',\n    title: tf('formula.divide'),\n    render: ary => ary.reduce((a, b) => Number(a) / Number(b)),\n  },\n  {\n    key: 'PRODUCT',\n    title: tf('formula.product'),\n    render: ary => ary.reduce((a, b) => Number(a) * Number(b),1),\n  },\n  {\n    key: 'SUBTRACT',\n    title: tf('formula.subtract'),\n    render: ary => ary.reduce((a, b) => Number(a) - Number(b)),\n  },\n  */\n];\n\nconst formulas = baseFormulas;\n\n// const formulas = (formulaAry = []) => {\n//   const formulaMap = {};\n//   baseFormulas.concat(formulaAry).forEach((f) => {\n//     formulaMap[f.key] = f;\n//   });\n//   return formulaMap;\n// };\nconst formulam = {};\nbaseFormulas.forEach((f) => {\n  formulam[f.key] = f;\n});\n\nexport default {\n};\n\nexport {\n  formulam,\n  formulas,\n  baseFormulas,\n};\n","/* eslint-disable camelcase */\nimport { stringAt } from '../core/alphabet';\nimport { getFontSizePxByPt } from '../core/font';\nimport _cell from '../core/cell';\nimport { formulam } from '../core/formula';\nimport { formatm } from '../core/format';\n\nimport {\n  Draw, DrawBox, thinLineWidth, npx,\n} from '../canvas/draw';\n\n// gobal var\nconst cellPaddingWidth = 5;\n// const tableFixedHeaderCleanStyle= { fillStyle: '#f4f5f8'  };\n// const tableGridStyle = {\n//   fillStyle: '#fff',\n//   lineWidth: thinLineWidth,\n//   strokeStyle: '#e6e6e6',\n// };\n\nfunction tableFixedHeaderStyle() {\n  return {\n    textAlign: 'center',\n    textBaseline: 'middle',\n    font: `500 ${npx(12)}px Source Sans Pro`,\n    fillStyle: '#585757',\n    lineWidth: thinLineWidth(),\n    strokeStyle: '#e6e6e6',\n  };\n}\n\nfunction getDrawBox(data, rindex, cindex, yoffset = 0) {\n  const {\n    left, top, width, height,\n  } = data.cellRect(rindex, cindex);\n  const dbox = new DrawBox(left, top + yoffset, width, height, cellPaddingWidth);\n\n  return dbox;\n}\n\nfunction getFillStyle(draw) {\n  return global.getComputedStyle(draw.ctx.canvas)\n    .getPropertyValue('--table-header') || 'hsl(360deg 0% 88%)';\n}\n\nfunction getStrokeStyle(draw) {\n  return global.getComputedStyle(draw.ctx.canvas)\n    .getPropertyValue('--table-stroke') || 'hsl(220, 6%, 51%)';\n}\n\nfunction getTextStyle(draw) {\n  return global.getComputedStyle(draw.ctx.canvas)\n    .getPropertyValue('--table-header-text') || 'hsl(359deg 100% 0% / .6)';\n}\n\nfunction getAccent(draw, alpha) {\n  const accent_h = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--ss-accent-h') || '218';\n  const accent_s = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--ss-accent-s') || '100%';\n  const accent_l = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--ss-accent-l') || '65%';\n\n  const color = `hsl( ${accent_h}, ${accent_s}, ${accent_l}, ${alpha})`;\n  return color;\n}\n/*\nfunction renderCellBorders(bboxes, translateFunc) {\n  const { draw } = this;\n  if (bboxes) {\n    const rset = new Set();\n    // console.log('bboxes:', bboxes);\n    bboxes.forEach(({ ri, ci, box }) => {\n      if (!rset.has(ri)) {\n        rset.add(ri);\n        translateFunc(ri);\n      }\n      draw.strokeBorders(box);\n    });\n  }\n}\n*/\n\nexport function renderCell(draw, data, rindex, cindex, yoffset = 0) {\n  const { sortedRowMap, rows, cols } = data;\n  if (rows.isHide(rindex) || cols.isHide(cindex)) return;\n  let nrindex = rindex;\n  if (sortedRowMap.has(rindex)) {\n    nrindex = sortedRowMap.get(rindex);\n  }\n\n  const cell = data.getCell(nrindex, cindex);\n  if (cell === null) return;\n  let frozen = false;\n  if ('editable' in cell && cell.editable === false) {\n    frozen = true;\n  }\n\n  const style = data.getCellStyleOrDefault(nrindex, cindex);\n  const dbox = getDrawBox(data, rindex, cindex, yoffset);\n  dbox.bgcolor = style.bgcolor;\n  if (style.border !== undefined) {\n    dbox.setBorders(style.border);\n    // bboxes.push({ ri: rindex, ci: cindex, box: dbox });\n    draw.strokeBorders(dbox);\n  }\n  draw.rect(dbox, () => {\n    // render text\n    let cellText = '';\n    if (!data.settings.evalPaused) {\n      cellText = _cell.render(cell.text || '', formulam, (y, x) => (data.getCellTextOrDefault(x, y)));\n    } else {\n      cellText = cell.text || '';\n    }\n    if ((typeof (style.format) !== 'undefined')\n      && ((typeof (cellText) === 'string') || (typeof (cellText) === 'number'))\n    ) {\n      cellText = formatm.render(style.format, cellText);\n    }\n    const font = Object.assign({}, style.font);\n    font.size = getFontSizePxByPt(font.size);\n    // console.log('style:', style);\n    draw.text(cellText, dbox, {\n      align: style.align,\n      valign: style.valign,\n      font,\n      color: style.color,\n      strike: style.strike,\n      underline: style.underline,\n    }, style.textwrap);\n    // error\n    const error = data.validations.getError(rindex, cindex);\n    if (error) {\n      // console.log('error:', rindex, cindex, error);\n      draw.error(dbox);\n    }\n    if (frozen) {\n      draw.frozen(dbox);\n    }\n  });\n}\n\nfunction renderAutofilter(viewRange) {\n  const { data, draw } = this;\n  if (viewRange) {\n    const { autoFilter } = data;\n    if (!autoFilter.active()) return;\n    const afRange = autoFilter.hrange();\n    if (viewRange.intersects(afRange)) {\n      afRange.each((ri, ci) => {\n        const dbox = getDrawBox(data, ri, ci);\n        dbox.color = getTextStyle(draw);\n        draw.dropdown(dbox);\n      });\n    }\n  }\n}\n\nfunction renderContent(viewRange, fw, fh, tx, ty) {\n  const { draw, data } = this;\n  draw.save();\n  draw.translate(fw, fh)\n    .translate(tx, ty);\n\n  const { exceptRowSet } = data;\n  // const exceptRows = Array.from(exceptRowSet);\n  const filteredTranslateFunc = (ri) => {\n    const ret = exceptRowSet.has(ri);\n    if (ret) {\n      const height = data.rows.getHeight(ri);\n      draw.translate(0, -height);\n    }\n    return !ret;\n  };\n\n  const exceptRowTotalHeight = data.exceptRowTotalHeight(viewRange.sri, viewRange.eri);\n  // 1 render cell\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  viewRange.each((ri, ci) => {\n    renderCell(draw, data, ri, ci);\n  }, ri => filteredTranslateFunc(ri));\n  draw.restore();\n\n\n  // 2 render mergeCell\n  const rset = new Set();\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  data.eachMergesInView(viewRange, ({ sri, sci, eri }) => {\n    if (!exceptRowSet.has(sri)) {\n      renderCell(draw, data, sri, sci);\n    } else if (!rset.has(sri)) {\n      rset.add(sri);\n      const height = data.rows.sumHeight(sri, eri + 1);\n      draw.translate(0, -height);\n    }\n  });\n  draw.restore();\n\n  // 3 render autofilter\n  renderAutofilter.call(this, viewRange);\n\n  draw.restore();\n}\n\nfunction renderSelectedHeaderCell(x, y, w, h) {\n  const { draw } = this;\n  // const {canvas} = draw.context;\n  // const color = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--canvas-header-fill') || '#4b89ff19';\n  const color = getAccent(draw, '15%');\n  // color = 'hsl()'\n  // console.log(`color: ${color}`);\n  draw.save();\n  draw\n    .attr({ fillStyle: `${color}` })\n    // .attr({ fillStyle: 'rgba(75, 137, 255, 0.08)' })\n    .fillRect(x, y, w, h);\n  draw.restore();\n}\n\n\n// viewRange\n// type: all | left | top\n// w: the fixed width of header\n// h: the fixed height of header\n// tx: moving distance on x-axis\n// ty: moving distance on y-axis\nfunction renderFixedHeaders(type, viewRange, w, h, tx, ty) {\n  const { draw, data } = this;\n  const sumHeight = viewRange.h; // rows.sumHeight(viewRange.sri, viewRange.eri + 1);\n  const sumWidth = viewRange.w; // cols.sumWidth(viewRange.sci, viewRange.eci + 1);\n  const nty = ty + h;\n  const ntx = tx + w;\n\n  draw.save();\n  // draw rect background\n  const fillStyle = getFillStyle(draw);\n\n  // draw.attr(tableFixedHeaderCleanStyle);\n  draw.attr({ fillStyle });\n  if (type === 'all' || type === 'left') draw.fillRect(0, nty, w, sumHeight);\n  if (type === 'all' || type === 'top') draw.fillRect(ntx, 0, sumWidth, h);\n\n  const {\n    sri, sci, eri, eci,\n  } = data.selector.range;\n  // console.log(data.selectIndexes);\n  // draw text\n  // text font, align...\n  const style = tableFixedHeaderStyle();\n\n  const textColor = getTextStyle(draw);\n  const strokeStyle = getStrokeStyle(draw);\n\n  if (textColor) (style.fillStyle = textColor);\n  if (strokeStyle) (style.strokeStyle = strokeStyle);\n\n  draw.attr(style);\n  // y-header-text\n  if (type === 'all' || type === 'left') {\n    data.rowEach(viewRange.sri, viewRange.eri, (i, y1, rowHeight) => {\n      const y = nty + y1;\n      const ii = i;\n      draw.line([0, y], [w, y]);\n      if (sri <= ii && ii < eri + 1) {\n        renderSelectedHeaderCell.call(this, 0, y, w, rowHeight);\n      }\n      draw.fillText(ii + 1, w / 2, y + (rowHeight / 2));\n      if (i > 0 && data.rows.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle });\n        draw.line([5, y + 5], [w - 5, y + 5]);\n        draw.restore();\n      }\n    });\n    draw.line([0, sumHeight + nty], [w, sumHeight + nty]);\n    draw.line([w, nty], [w, sumHeight + nty]);\n  }\n  // x-header-text\n  if (type === 'all' || type === 'top') {\n    data.colEach(viewRange.sci, viewRange.eci, (i, x1, colWidth) => {\n      const x = ntx + x1;\n      const ii = i;\n      draw.line([x, 0], [x, h]);\n      if (sci <= ii && ii < eci + 1) {\n        renderSelectedHeaderCell.call(this, x, 0, colWidth, h);\n      }\n      draw.fillText(stringAt(ii), x + (colWidth / 2), h / 2);\n      if (i > 0 && data.cols.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle });\n        draw.line([x + 5, 5], [x + 5, h - 5]);\n        draw.restore();\n      }\n    });\n    draw.line([sumWidth + ntx, 0], [sumWidth + ntx, h]);\n    draw.line([0, h], [sumWidth + ntx, h]);\n  }\n  draw.restore();\n}\n\n\nfunction renderFixedLeftTopCell(fw, fh) {\n  const { draw } = this;\n  const fillStyle = getFillStyle(draw);\n  draw.save();\n  // left-top-cell\n  draw.attr({ fillStyle })\n    .fillRect(0, 0, fw, fh);\n  draw.restore();\n}\n\nfunction renderContentGrid({\n  sri, sci, eri, eci, w, h,\n}, fw, fh, tx, ty) {\n  const { draw, data } = this;\n  const { settings } = data;\n\n  const fillStyle = getFillStyle(draw);\n\n  const strokeStyle = getStrokeStyle(draw);\n\n  draw.save();\n  draw.attr({\n    fillStyle,\n    lineWidth: thinLineWidth,\n    strokeStyle,\n  })\n    .translate(fw + tx, fh + ty);\n  // const sumWidth = cols.sumWidth(sci, eci + 1);\n  // const sumHeight = rows.sumHeight(sri, eri + 1);\n  // console.log('sumWidth:', sumWidth);\n  // draw.clearRect(0, 0, w, h);\n  if (!settings.showGrid) {\n    draw.restore();\n    return;\n  }\n  // console.log('rowStart:', rowStart, ', rowLen:', rowLen);\n  data.rowEach(sri, eri, (i, y, ch) => {\n    // console.log('y:', y);\n    if (i !== sri) draw.line([0, y], [w, y]);\n    if (i === eri) draw.line([0, y + ch], [w, y + ch]);\n  });\n  data.colEach(sci, eci, (i, x, cw) => {\n    if (i !== sci) draw.line([x, 0], [x, h]);\n    if (i === eci) draw.line([x + cw, 0], [x + cw, h]);\n  });\n  draw.restore();\n}\n\n\nfunction renderFreezeHighlightLine(fw, fh, ftw, fth) {\n  const { draw, data } = this;\n  const twidth = data.viewWidth() - fw;\n  const theight = data.viewHeight() - fh;\n\n  const color = getAccent(draw, '65%');\n\n  // color = '#4b89ff99';\n  // const color = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--canvas-header-stroke') || '#4b89ff99';\n  console.log(color);\n  draw.save()\n    .translate(fw, fh)\n    .attr({ strokeStyle: `${color}` })\n    // .attr({ strokeStyle: 'rgba(75, 137, 255, .6)' })\n  ;\n  draw.line([0, fth], [twidth, fth]);\n  draw.line([ftw, 0], [ftw, theight]);\n  draw.restore();\n}\n\n/** end */\nclass Table {\n  constructor(el, data) {\n    this.el = el;\n    this.draw = new Draw(el, data.viewWidth(), data.viewHeight());\n    this.data = data;\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.render();\n  }\n\n  render() {\n    // resize canvas\n    const { data } = this;\n    const { rows, cols } = data;\n    // fixed width of header\n    const fw = cols.indexWidth;\n    // fixed height of header\n    const fh = rows.height;\n\n    this.draw.resize(data.viewWidth(), data.viewHeight());\n    this.clear();\n\n    const viewRange = data.viewRange();\n    // renderAll.call(this, viewRange, data.scroll);\n    const tx = data.freezeTotalWidth();\n    const ty = data.freezeTotalHeight();\n    const { x, y } = data.scroll;\n    // 1\n    renderContentGrid.call(this, viewRange, fw, fh, tx, ty);\n    renderFixedHeaders.call(this, 'all', viewRange, fw, fh, tx, ty);\n    renderFixedLeftTopCell.call(this, fw, fh);\n    // gcannata moved here for top borders\n    renderContent.call(this, viewRange, fw, fh, -x, -y);\n    const [fri, fci] = data.freeze;\n    if (fri > 0 || fci > 0) {\n      // 2\n      if (fri > 0) {\n        const vr = viewRange.clone();\n        vr.sri = 0;\n        vr.eri = fri - 1;\n        vr.h = ty;\n        renderContentGrid.call(this, vr, fw, fh, tx, 0);\n        renderFixedHeaders.call(this, 'top', vr, fw, fh, tx, 0);\n        // gcannata moved here for top borders\n        renderContent.call(this, vr, fw, fh, -x, 0);\n      }\n      // 3\n      if (fci > 0) {\n        const vr = viewRange.clone();\n        vr.sci = 0;\n        vr.eci = fci - 1;\n        vr.w = tx;\n        renderContentGrid.call(this, vr, fw, fh, 0, ty);\n        renderFixedHeaders.call(this, 'left', vr, fw, fh, 0, ty);\n        renderContent.call(this, vr, fw, fh, 0, -y);\n      }\n      // 4\n      const freezeViewRange = data.freezeViewRange();\n      renderContentGrid.call(this, freezeViewRange, fw, fh, 0, 0);\n      renderFixedHeaders.call(this, 'all', freezeViewRange, fw, fh, 0, 0);\n      renderContent.call(this, freezeViewRange, fw, fh, 0, 0);\n      // 5\n      renderFreezeHighlightLine.call(this, fw, fh, tx, ty);\n    }\n  }\n\n  clear() {\n    this.draw.clear();\n  }\n}\n\nexport default Table;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { expr2xy,xy2expr } from './alphabet';\nimport font from './font';\nimport { numberCalc } from './helper';\n\nfunction buildRange(stack) {\n  const [ex,ey] = expr2xy(stack.pop());\n  const [sx,sy] = expr2xy(stack.pop());\n  // console.log('::', sx, sy, ex, ey);\n  // let rangelen = 0;\n  const rows = [];\n  let items = [];\n  // TODO: what about rectangular selection\n  for (let x = sx; x <= ex; x += 1) {\n    for (let y = sy; y <= ey; y += 1) {\n      items.push(xy2expr(x,y));\n      // rangelen += 1;\n    }\n    rows.push(items);\n    items = [];\n  }\n  \n  return rows;\n}\n\n// Converting infix expression to a suffix expression\n// src: AVERAGE(SUM(A1,A2), B1) + 50 + B20\n// return: [A1, A2], SUM[, B1],AVERAGE,50,+,B20,+\nconst infixExprToSuffixExpr = (src) => {\n  const operatorStack = [];\n  const stack = [];\n  let subStrs = []; // SUM, A1, B2, 50 ...\n  let fnArgType = 0; // 1 => , 2 => :\n  let fnArgOperator = '';\n  let fnArgsLen = 1; // A1,A2,A3...\n  let oldc = '';\n  let locked = false;\n  for (let i = 0; i < src.length; i += 1) {\n    const c = src.charAt(i);\n    if (c !== ' ') {\n      // skip '$' for now\n      if (c === '$') {\n        locked = true;\n      } else if (c >= 'a' && c <= 'z') {\n        subStrs.push((locked ? '$' : '') + c.toUpperCase());\n        locked  = false;\n      } else if ((c >= '0' && c <= '9') || (c >= 'A' && c <= 'Z') || c === '.') {\n        subStrs.push((locked ? '$' : '') + c);\n        locked = false;\n      } else if (c === '\"') {\n        i += 1;\n        while (src.charAt(i) !== '\"') {\n          subStrs.push(src.charAt(i));\n          i += 1;\n        }\n        stack.push(`\"${subStrs.join('')}`);\n        subStrs = [];\n      } else if (c === '-' && /[+\\-*/,(]/.test(oldc)) {\n        subStrs.push(c);\n      } else {\n        // console.log('subStrs:', subStrs.join(''), stack);\n        if (c !== '(' && subStrs.length > 0) {\n          stack.push(subStrs.join(''));\n        }\n        if (c === ')' /* || c === ',' */) {\n          // let c1 = operatorStack.pop();\n          if (fnArgType === 2) { // encountered a :\n            // fn argument range => A1:B5\n            try {\n              const items = buildRange(stack)\n              stack.push(items);\n              // it will be actually incremented lated\n              // if (c === ')') {\n              let c1 = operatorStack.pop();\n              stack.push({ f: c1,len: fnArgsLen });\n              // } else {\n              //   fnArgType = 1;\n              //   fnArgsLen += 1;\n              // }\n            } catch (e) {\n              // console.log(e);\n            }\n          } else if (fnArgType === 1 || fnArgType === 3) {\n            if (fnArgType === 3) {\n              stack.push(fnArgOperator);\n              fnArgOperator = '';\n            }\n            // if (fnArgType === 1) stack.push({ f: c1, len: fnArgsLen});\n            // if (c === ')') {\n            let c1 = operatorStack.pop();\n\n            // fn argument => A1,A2,B5\n            stack.push({ f: c1,len: fnArgsLen });\n            fnArgsLen = 1;\n            // } else {\n            //   fnArgType = 1;\n            //   fnArgsLen += 1;\n            // }\n\n          } else {\n            // console.log('c1:', c1, fnArgType, stack, operatorStack);\n            let c1 = operatorStack.pop();\n            while (c1 !== '(') {\n              stack.push(c1);\n              if (operatorStack.length <= 0) break;\n              c1 = operatorStack.pop();\n            }\n          }\n          // if (c === ')') {\n          fnArgType = 0;\n          // }\n        } else if (c === '=' || c === '>' || c === '<') {\n          const nc = src.charAt(i + 1);\n          fnArgOperator = c;\n          if (nc === '=' || nc === '-') {\n            fnArgOperator += nc;\n            i += 1;\n          }\n          fnArgType = 3;\n        } else if (c === ':') {\n          fnArgType = 2;\n        } else if (c === ',') {\n          // TODO: here if the previous parameter is a range, we should colllect it\n          if (fnArgType === 2) {\n            const items = buildRange(stack)\n            stack.push(items);\n          } else if (fnArgType === 3) {\n            stack.push(fnArgOperator);\n            fnArgOperator = '';\n          }\n          fnArgType = 1;\n          fnArgsLen += 1;\n        } else if (c === '(' && subStrs.length > 0) {\n          // function\n          operatorStack.push(subStrs.join(''));\n        } else {\n          // priority: */ > +-\n          // console.log('xxxx:', operatorStack, c, stack);\n          if (operatorStack.length > 0 && (c === '+' || c === '-')) {\n            let top = operatorStack[operatorStack.length - 1];\n            if (top !== '(') stack.push(operatorStack.pop());\n            if (top === '*' || top === '/') {\n              while (operatorStack.length > 0) {\n                top = operatorStack[operatorStack.length - 1];\n                if (top !== '(') stack.push(operatorStack.pop());\n                else break;\n              }\n            }\n          } else if (operatorStack.length > 0) {\n            const top = operatorStack[operatorStack.length - 1];\n            if (top === '*' || top === '/') stack.push(operatorStack.pop());\n          }\n          operatorStack.push(c);\n        }\n        subStrs = [];\n      }\n      oldc = c;\n    }\n  }\n  if (subStrs.length > 0) {\n    stack.push(subStrs.join(''));\n  }\n  while (operatorStack.length > 0) {\n    stack.push(operatorStack.pop());\n  }\n  if (fnArgOperator.length > 0) {\n    stack.push(fnArgOperator);\n  }\n  return stack;\n};\n\nconst evalSubExpr = (subExpr,cellRender) => {\n\n  if (Array.isArray(subExpr)) {\n    const ret = subExpr.map(e => evalSubExpr(e,cellRender));\n    return ret;\n  }\n\n  const [fl] = subExpr;\n  let expr = subExpr;\n  if (fl === '\"') {\n    return subExpr.substring(1);\n  }\n  let ret = 1;\n  if (fl === '-') {\n    expr = subExpr.substring(1);\n    ret = -1;\n  }\n  if (expr[0] >= '0' && expr[0] <= '9') {\n    return ret * Number(expr);\n  }\n  const [x,y] = expr2xy(expr);\n  // changed by gcannata\n  // return ret * cellRender(x, y);\n  return cellRender(x,y);\n};\n\n// evaluate the suffix expression\n// srcStack: <= infixExprToSufixExpr\n// formulaMap: {'SUM': {}, ...}\n// cellRender: (x, y) => {}\nconst evalSuffixExpr = (srcStack,formulaMap,cellRender,cellList) => {\n  const stack = [];\n  // console.log(':::::formulaMap:', formulaMap);\n  for (let i = 0; i < srcStack.length; i += 1) {\n    // console.log(':::>>>', srcStack[i]);\n    const expr = srcStack[i];\n    const fc = expr[0];\n    if (expr === '+') {\n      const top = stack.pop();\n      stack.push(numberCalc('+',stack.pop(),top));\n    } else if (expr === '-') {\n      if (stack.length === 1) {\n        const top = stack.pop();\n        stack.push(numberCalc('*',top,-1));\n      } else {\n        const top = stack.pop();\n        stack.push(numberCalc('-',stack.pop(),top));\n      }\n    } else if (expr === '*') {\n      stack.push(numberCalc('*',stack.pop(),stack.pop()));\n    } else if (expr === '/') {\n      const top = stack.pop();\n      stack.push(numberCalc('/',stack.pop(),top));\n    } else if (fc === '=' || fc === '>' || fc === '<') {\n      let top = stack.pop();\n      if (!Number.isNaN(top)) top = Number(top);\n      let left = stack.pop();\n      if (!Number.isNaN(left)) left = Number(left);\n      let ret = false;\n      if (fc === '=') {\n        ret = (left === top);\n      } else if (expr === '>') {\n        ret = (left > top);\n      } else if (expr === '>=') {\n        ret = (left >= top);\n      } else if (expr === '<') {\n        ret = (left < top);\n      } else if (expr === '<=') {\n        ret = (left <= top);\n      }\n      stack.push(ret);\n    }\n    // by gcannata\n    // else if (Array.isArray(expr)) {\n    //   const [formula, len] = expr;\n    //   const params = [];\n    //   for (let j = 0; j < len; j += 1) {\n    //     params.push(stack.pop());\n    //   }\n    //   stack.push(formulaMap[formula].render(params.reverse()));\n    // } \n    else if (expr.f) {\n      const { f,len } = expr;\n      const params = [];\n      for (let j = 0; j < len; j += 1) {\n        params.push(stack.pop());\n      }\n      if(formulaMap[f] !== undefined && formulaMap[f].render){\n        stack.push(formulaMap[f].render(params.reverse()));\n      } else {\n        stack.push(\"#ERROR\");\n      }\n    }\n    else if (formulaMap[expr]) { // try to support unary operators\n      const params = [];\n      params.push(stack.pop());\n      stack.push(formulaMap[expr].render(params));\n    } else {\n      if (cellList.includes(expr)) {\n        return 0;\n      }\n      if ((fc >= 'a' && fc <= 'z') || (fc >= 'A' && fc <= 'Z')) {\n        cellList.push(expr);\n      }\n      stack.push(evalSubExpr(expr,cellRender));\n      cellList.pop();\n    }\n    // console.log('stack:', stack);\n  }\n  // by gcanata\n  // return stack[0];\n  const ret = stack[0];\n  if (ret !== undefined && ret !== null) return ret;\n  return 0;\n};\n\nconst cellRender = (src,formulaMap,getCellText,cellList = []) => {\n  if (src[0] === '=') {\n    const stack = infixExprToSuffixExpr(src.substring(1));\n    if (stack.length <= 0) return src;\n    return evalSuffixExpr(\n      stack,\n      formulaMap,\n      (x,y) => cellRender(getCellText(x,y),formulaMap,getCellText,cellList),\n      cellList,\n    );\n  }\n  return src;\n};\n\nexport default {\n  render: cellRender,\n};\nexport {\n  infixExprToSuffixExpr,\n};\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport Icon from './icon';\nimport FormInput from './form_input';\nimport Dropdown from './dropdown';\n// Record: temp not used\n// import { xtoast } from './message';\nimport { tf } from '../locale/locale';\n\nclass DropdownMore extends Dropdown {\n  constructor(click) {\n    const icon = new Icon('ellipsis');\n    super(icon, 'auto', false, 'top-left', 'dd-more');\n    this.contentClick = click;\n  }\n\n  reset(items) {\n    const eles = items.map((it, i) => h('div', `${cssPrefix}-item`)\n      .css('width', '150px')\n      .css('font-weight', 'normal')\n      .on('click', () => {\n        this.contentClick(i);\n        this.hide();\n      })\n      .child(it));\n    this.setContentChildren(...eles);\n  }\n\n  setTitle() {}\n}\n\nconst menuItems = [\n  { key: 'delete', title: tf('contextmenu.deleteSheet') },\n];\n\nfunction buildMenuItem(item) {\n  return h('div', `${cssPrefix}-item`)\n    .child(item.title())\n    .on('click', () => {\n      this.itemClick(item.key);\n      this.hide();\n    });\n}\n\nfunction buildMenu() {\n  return menuItems.map(it => buildMenuItem.call(this, it));\n}\n\nclass ContextMenu {\n  constructor() {\n    this.el = h('div', `${cssPrefix}-contextmenu`)\n      .css('width', '160px')\n      .children(...buildMenu.call(this))\n      .hide();\n    this.itemClick = () => {};\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setOffset(offset) {\n    const { el } = this;\n    el.offset(offset);\n    el.show();\n    bindClickoutside(el);\n  }\n}\n\nexport default class Bottombar {\n  constructor(addFunc = () => {},\n    swapFunc = () => {},\n    deleteFunc = () => {},\n    updateFunc = () => {}) {\n    this.swapFunc = swapFunc;\n    this.updateFunc = updateFunc;\n    this.dataNames = [];\n    this.activeEl = null;\n    this.deleteEl = null;\n    this.items = [];\n    this.moreEl = new DropdownMore((i) => {\n      this.clickSwap2(this.items[i]);\n    });\n    this.contextMenu = new ContextMenu();\n    this.contextMenu.itemClick = deleteFunc;\n    this.el = h('div', `${cssPrefix}-bottombar`).children(\n      this.contextMenu.el,\n      this.menuEl = h('ul', `${cssPrefix}-menu`).child(\n        h('li', '').children(\n          new Icon('add').on('click', () => {\n            addFunc();\n          }),\n          h('span', '').child(this.moreEl),\n        ),\n      ),\n    );\n  }\n\n  addItem(name, active, options) {\n    this.dataNames.push(name);\n    const item = h('li', active ? 'active' : '').child(name);\n    item.on('click', () => {\n      this.clickSwap2(item);\n    }).on('contextmenu', (evt) => {\n      if (options.mode === 'read') return;\n      const { offsetLeft, offsetHeight } = evt.target;\n      this.contextMenu.setOffset({ left: offsetLeft, bottom: offsetHeight + 1 });\n      this.deleteEl = item;\n    }).on('dblclick', () => {\n      if (options.mode === 'read') return;\n      const v = item.html();\n      const input = new FormInput('auto', '');\n      input.val(v);\n      // TODO: support ENTER key\n      input.input.on('blur', ({ target }) => {\n        const { value } = target;\n        const nindex = this.dataNames.findIndex(it => it === v);\n        this.renameItem(nindex, value);\n        /*\n        this.dataNames.splice(nindex, 1, value);\n        this.moreEl.reset(this.dataNames);\n        item.html('').child(value);\n        this.updateFunc(nindex, value);\n        */\n      });\n      item.html('').child(input.el);\n      input.focus();\n    });\n    if (active) {\n      this.clickSwap(item);\n    }\n    this.items.push(item);\n    this.menuEl.child(item);\n    this.moreEl.reset(this.dataNames);\n  }\n\n  renameItem(index, value) {\n    this.dataNames.splice(index, 1, value);\n    this.moreEl.reset(this.dataNames);\n    this.items[index].html('').child(value);\n    this.updateFunc(index, value);\n  }\n\n  clear() {\n    this.items.forEach((it) => {\n      this.menuEl.removeChild(it.el);\n    });\n    this.items = [];\n    this.dataNames = [];\n    this.moreEl.reset(this.dataNames);\n  }\n\n  deleteItem() {\n    const { activeEl, deleteEl } = this;\n    if (this.items.length > 1) {\n      const index = this.items.findIndex(it => it === deleteEl);\n      this.items.splice(index, 1);\n      this.dataNames.splice(index, 1);\n      this.menuEl.removeChild(deleteEl.el);\n      this.moreEl.reset(this.dataNames);\n      if (activeEl === deleteEl) {\n        const [f] = this.items;\n        this.activeEl = f;\n        this.activeEl.toggle();\n        return [index, 0];\n      }\n      return [index, -1];\n    }\n    return [-1];\n  }\n\n  clickSwap2(item) {\n    const index = this.items.findIndex(it => it === item);\n    this.clickSwap(item);\n    this.activeEl.toggle();\n    this.swapFunc(index);\n  }\n\n  clickSwap(item) {\n    if (this.activeEl !== null) {\n      this.activeEl.toggle();\n    }\n    this.activeEl = item;\n  }\n}\n","/* global window */\nimport { h } from './element';\nimport { mouseMoveUp } from './event';\nimport { cssPrefix } from '../config';\n\nexport default class Resizer {\n  constructor(vertical = false, minDistance) {\n    this.moving = false;\n    this.vertical = vertical;\n    this.el = h('div', `${cssPrefix}-resizer ${vertical ? 'vertical' : 'horizontal'}`).children(\n      this.unhideHoverEl = h('div', `${cssPrefix}-resizer-hover`)\n        .on('dblclick.stop', evt => this.mousedblclickHandler(evt))\n        .css('position', 'absolute').hide(),\n      this.hoverEl = h('div', `${cssPrefix}-resizer-hover`)\n        .on('mousedown.stop', evt => this.mousedownHandler(evt)),\n      this.lineEl = h('div', `${cssPrefix}-resizer-line`).hide(),\n    ).hide();\n    // cell rect\n    this.cRect = null;\n    this.finishedFn = null;\n    this.minDistance = minDistance;\n    this.unhideFn = () => {};\n  }\n\n  showUnhide(index) {\n    this.unhideIndex = index;\n    this.unhideHoverEl.show();\n  }\n\n  hideUnhide() {\n    this.unhideHoverEl.hide();\n  }\n\n  // rect : {top, left, width, height}\n  // line : {width, height}\n  show(rect, line) {\n    const {\n      moving, vertical, hoverEl, lineEl, el,\n      unhideHoverEl,\n    } = this;\n    if (moving) return;\n    this.cRect = rect;\n    const {\n      left, top, width, height,\n    } = rect;\n    el.offset({\n      left: vertical ? left + width - 5 : left,\n      top: vertical ? top : top + height - 5,\n    }).show();\n    hoverEl.offset({\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n    lineEl.offset({\n      width: vertical ? 0 : line.width,\n      height: vertical ? line.height : 0,\n    });\n    unhideHoverEl.offset({\n      left: vertical ? 5 - width : left,\n      top: vertical ? top : 5 - height,\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n  }\n\n  hide() {\n    this.el.offset({\n      left: 0,\n      top: 0,\n    }).hide();\n    this.hideUnhide();\n  }\n\n  mousedblclickHandler() {\n    if (this.unhideIndex) this.unhideFn(this.unhideIndex);\n  }\n\n  mousedownHandler(evt) {\n    let startEvt = evt;\n    const {\n      el, lineEl, cRect, vertical, minDistance,\n    } = this;\n    let distance = vertical ? cRect.width : cRect.height;\n    // console.log('distance:', distance);\n    lineEl.show();\n    mouseMoveUp(window, (e) => {\n      this.moving = true;\n      if (startEvt !== null && e.buttons === 1) {\n        // console.log('top:', top, ', left:', top, ', cRect:', cRect);\n        if (vertical) {\n          distance += e.movementX;\n          if (distance > minDistance) {\n            el.css('left', `${cRect.left + distance}px`);\n          }\n        } else {\n          distance += e.movementY;\n          if (distance > minDistance) {\n            el.css('top', `${cRect.top + distance}px`);\n          }\n        }\n        startEvt = e;\n      }\n    }, () => {\n      startEvt = null;\n      lineEl.hide();\n      this.moving = false;\n      this.hide();\n      if (this.finishedFn) {\n        if (distance < minDistance) distance = minDistance;\n        this.finishedFn(cRect, distance);\n      }\n    });\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class Scrollbar {\n  constructor(vertical) {\n    this.vertical = vertical;\n    this.moveFn = null;\n    this.el = h('div', `${cssPrefix}-scrollbar ${vertical ? 'vertical' : 'horizontal'}`)\n      .child(this.contentEl = h('div', ''))\n      .on('mousemove.stop', () => {})\n      .on('scroll.stop', (evt) => {\n        const { scrollTop, scrollLeft } = evt.target;\n        // console.log('scrollTop:', scrollTop);\n        if (this.moveFn) {\n          this.moveFn(this.vertical ? scrollTop : scrollLeft, evt);\n        }\n        // console.log('evt:::', evt);\n      });\n  }\n\n  move(v) {\n    this.el.scroll(v);\n    return this;\n  }\n\n  scroll() {\n    return this.el.scroll();\n  }\n\n  set(distance, contentDistance) {\n    const d = distance - 1;\n    // console.log('distance:', distance, ', contentDistance:', contentDistance);\n    if (contentDistance > d) {\n      const cssKey = this.vertical ? 'height' : 'width';\n      // console.log('d:', d);\n      this.el.css(cssKey, `${d - 15}px`).show();\n      this.contentEl\n        .css(this.vertical ? 'width' : 'height', '1px')\n        .css(cssKey, `${contentDistance}px`);\n    } else {\n      this.el.hide();\n    }\n    return this;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\nimport { CellRange } from '../core/cell_range';\n\nconst selectorHeightBorderWidth = 2 * 2 - 1;\nlet startZIndex = 10;\n\nclass SelectorElement {\n  constructor(useHideInput = false, autoFocus = true) {\n    this.useHideInput = useHideInput;\n    this.autoFocus = autoFocus;\n    this.inputChange = () => {};\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\n    this.areaEl = h('div', `${cssPrefix}-selector-area`)\n      .child(this.cornerEl).hide();\n    this.clipboardEl = h('div', `${cssPrefix}-selector-clipboard`).hide();\n    this.autofillEl = h('div', `${cssPrefix}-selector-autofill`).hide();\n    this.el = h('div', `${cssPrefix}-selector`)\n      .css('z-index', `${startZIndex}`)\n      .children(this.areaEl, this.clipboardEl, this.autofillEl)\n      .hide();\n    if (useHideInput) {\n      this.hideInput = h('input', '')\n        .on('compositionend', (evt) => {\n          this.inputChange(evt.target.value);\n        });\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\n    }\n    startZIndex += 1;\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    return this;\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  setAreaOffset(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    const of = {\n      width: width - selectorHeightBorderWidth + 0.8,\n      height: height - selectorHeightBorderWidth + 0.8,\n      left: left - 0.8,\n      top: top - 0.8,\n    };\n    this.areaEl.offset(of).show();\n    if (this.useHideInput) {\n      this.hideInputDiv.offset(of);\n      if (this.autoFocus) {\n        this.hideInput.val('').focus();\n      } else {\n        this.hideInput.val('');\n      }\n    }\n  }\n\n  setClipboardOffset(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    this.clipboardEl.offset({\n      left,\n      top,\n      width: width - 5,\n      height: height - 5,\n    });\n  }\n\n  showAutofill(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    this.autofillEl.offset({\n      width: width - selectorHeightBorderWidth,\n      height: height - selectorHeightBorderWidth,\n      left,\n      top,\n    }).show();\n  }\n\n  hideAutofill() {\n    this.autofillEl.hide();\n  }\n\n  showClipboard() {\n    this.clipboardEl.show();\n  }\n\n  hideClipboard() {\n    this.clipboardEl.hide();\n  }\n}\n\nfunction calBRAreaOffset(offset) {\n  const { data } = this;\n  const {\n    left, top, width, height, scroll, l, t,\n  } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  const ftheight = data.freezeTotalHeight();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  let top0 = top - ftheight;\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: left0,\n    top: top0,\n    width,\n    height,\n  };\n}\n\nfunction calTAreaOffset(offset) {\n  const { data } = this;\n  const {\n    left, width, height, l, t, scroll,\n  } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  return {\n    left: left0, top: t, width, height,\n  };\n}\n\nfunction calLAreaOffset(offset) {\n  const { data } = this;\n  const {\n    top, width, height, l, t, scroll,\n  } = offset;\n  const ftheight = data.freezeTotalHeight();\n  let top0 = top - ftheight;\n  // console.log('ftheight:', ftheight, ', t:', t);\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: l, top: top0, width, height,\n  };\n}\n\nfunction setBRAreaOffset(offset) {\n  const { br } = this;\n  br.setAreaOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLAreaOffset(offset) {\n  const { tl } = this;\n  tl.setAreaOffset(offset);\n}\n\nfunction setTAreaOffset(offset) {\n  const { t } = this;\n  t.setAreaOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setLAreaOffset(offset) {\n  const { l } = this;\n  l.setAreaOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setLClipboardOffset(offset) {\n  const { l } = this;\n  l.setClipboardOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setBRClipboardOffset(offset) {\n  const { br } = this;\n  br.setClipboardOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLClipboardOffset(offset) {\n  const { tl } = this;\n  tl.setClipboardOffset(offset);\n}\n\nfunction setTClipboardOffset(offset) {\n  const { t } = this;\n  t.setClipboardOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setAllAreaOffset(offset) {\n  setBRAreaOffset.call(this, offset);\n  setTLAreaOffset.call(this, offset);\n  setTAreaOffset.call(this, offset);\n  setLAreaOffset.call(this, offset);\n}\n\nfunction setAllClipboardOffset(offset) {\n  setBRClipboardOffset.call(this, offset);\n  setTLClipboardOffset.call(this, offset);\n  setTClipboardOffset.call(this, offset);\n  setLClipboardOffset.call(this, offset);\n}\n\nexport default class Selector {\n  constructor(data) {\n    const { autoFocus } = data.settings;\n    this.inputChange = () => {};\n    this.data = data;\n    this.br = new SelectorElement(true, autoFocus);\n    this.t = new SelectorElement();\n    this.l = new SelectorElement();\n    this.tl = new SelectorElement();\n    this.br.inputChange = (v) => {\n      this.inputChange(v);\n    };\n    this.br.el.show();\n    this.offset = null;\n    this.areaOffset = null;\n    this.indexes = null;\n    this.range = null;\n    this.arange = null;\n    this.el = h('div', `${cssPrefix}-selectors`)\n      .children(\n        this.tl.el,\n        this.t.el,\n        this.l.el,\n        this.br.el,\n      ).hide();\n\n    // for performance\n    this.lastri = -1;\n    this.lastci = -1;\n\n    startZIndex += 1;\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.range = data.selector.range;\n    this.resetAreaOffset();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n\n  resetOffset() {\n    const {\n      data, tl, t, l, br,\n    } = this;\n    const freezeHeight = data.freezeTotalHeight();\n    const freezeWidth = data.freezeTotalWidth();\n    if (freezeHeight > 0 || freezeWidth > 0) {\n      tl.setOffset({ width: freezeWidth, height: freezeHeight });\n      t.setOffset({ left: freezeWidth, height: freezeHeight });\n      l.setOffset({ top: freezeHeight, width: freezeWidth });\n      br.setOffset({ left: freezeWidth, top: freezeHeight });\n    } else {\n      tl.hide();\n      t.hide();\n      l.hide();\n      br.setOffset({ left: 0, top: 0 });\n    }\n  }\n\n  resetAreaOffset() {\n    // console.log('offset:', offset);\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setAllAreaOffset.call(this, offset);\n    setAllClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRTAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setTAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setTClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRLAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setLAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setLClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  set(ri, ci, indexesUpdated = true) {\n    const { data } = this;\n    const cellRange = data.calSelectedRangeByStart(ri, ci);\n    const { sri, sci } = cellRange;\n    if (indexesUpdated) {\n      let [cri, cci] = [ri, ci];\n      if (ri < 0) cri = 0;\n      if (ci < 0) cci = 0;\n      data.selector.setIndexes(cri, cci);\n      this.indexes = [cri, cci];\n    }\n\n    this.moveIndexes = [sri, sci];\n    // this.sIndexes = sIndexes;\n    // this.eIndexes = eIndexes;\n    this.range = cellRange;\n    this.resetAreaOffset();\n    this.el.show();\n  }\n\n  setEnd(ri, ci, moving = true) {\n    const { data, lastri, lastci } = this;\n    if (moving) {\n      if (ri === lastri && ci === lastci) return;\n      this.lastri = ri;\n      this.lastci = ci;\n    }\n    this.range = data.calSelectedRangeByEnd(ri, ci);\n    setAllAreaOffset.call(this, this.data.getSelectedRect());\n  }\n\n  reset() {\n    // console.log('::::', this.data);\n    const { eri, eci } = this.data.selector.range;\n    this.setEnd(eri, eci);\n  }\n\n  showAutofill(ri, ci) {\n    if (ri === -1 && ci === -1) return;\n    // console.log('ri:', ri, ', ci:', ci);\n    // const [sri, sci] = this.sIndexes;\n    // const [eri, eci] = this.eIndexes;\n    const {\n      sri, sci, eri, eci,\n    } = this.range;\n    const [nri, nci] = [ri, ci];\n    // const rn = eri - sri;\n    // const cn = eci - sci;\n    const srn = sri - ri;\n    const scn = sci - ci;\n    const ern = eri - ri;\n    const ecn = eci - ci;\n    if (scn > 0) {\n      // left\n      // console.log('left');\n      this.arange = new CellRange(sri, nci, eri, sci - 1);\n      // this.saIndexes = [sri, nci];\n      // this.eaIndexes = [eri, sci - 1];\n      // data.calRangeIndexes2(\n    } else if (srn > 0) {\n      // top\n      // console.log('top');\n      // nri = sri;\n      this.arange = new CellRange(nri, sci, sri - 1, eci);\n      // this.saIndexes = [nri, sci];\n      // this.eaIndexes = [sri - 1, eci];\n    } else if (ecn < 0) {\n      // right\n      // console.log('right');\n      // nci = eci;\n      this.arange = new CellRange(sri, eci + 1, eri, nci);\n      // this.saIndexes = [sri, eci + 1];\n      // this.eaIndexes = [eri, nci];\n    } else if (ern < 0) {\n      // bottom\n      // console.log('bottom');\n      // nri = eri;\n      this.arange = new CellRange(eri + 1, sci, nri, eci);\n      // this.saIndexes = [eri + 1, sci];\n      // this.eaIndexes = [nri, eci];\n    } else {\n      // console.log('else:');\n      this.arange = null;\n      // this.saIndexes = null;\n      // this.eaIndexes = null;\n      return;\n    }\n    if (this.arange !== null) {\n      // console.log(this.saIndexes, ':', this.eaIndexes);\n      const offset = this.data.getRect(this.arange);\n      offset.width += 2;\n      offset.height += 2;\n      const {\n        br, l, t, tl,\n      } = this;\n      br.showAutofill(calBRAreaOffset.call(this, offset));\n      l.showAutofill(calLAreaOffset.call(this, offset));\n      t.showAutofill(calTAreaOffset.call(this, offset));\n      tl.showAutofill(offset);\n    }\n  }\n\n  hideAutofill() {\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].hideAutofill();\n    });\n  }\n\n  showClipboard() {\n    const coffset = this.data.getClipboardRect();\n    setAllClipboardOffset.call(this, coffset);\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].showClipboard();\n    });\n  }\n\n  hideClipboard() {\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].hideClipboard();\n    });\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\n\nfunction inputMovePrev(evt) {\n  evt.preventDefault();\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex -= 1;\n  if (this.itemIndex < 0) {\n    this.itemIndex = filterItems.length - 1;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputMoveNext(evt) {\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex += 1;\n  if (this.itemIndex > filterItems.length - 1) {\n    this.itemIndex = 0;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputEnter(evt) {\n  evt.preventDefault();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  evt.stopPropagation();\n  if (this.itemIndex < 0) this.itemIndex = 0;\n  filterItems[this.itemIndex].el.click();\n  this.hide();\n}\n\nfunction inputKeydownHandler(evt) {\n  const { keyCode } = evt;\n  if (evt.ctrlKey) {\n    evt.stopPropagation();\n  }\n  switch (keyCode) {\n    case 37: // left\n      evt.stopPropagation();\n      break;\n    case 38: // up\n      inputMovePrev.call(this, evt);\n      break;\n    case 39: // right\n      evt.stopPropagation();\n      break;\n    case 40: // down\n      inputMoveNext.call(this, evt);\n      break;\n    case 13: // enter\n      inputEnter.call(this, evt);\n      break;\n    case 9:\n      inputEnter.call(this, evt);\n      break;\n    default:\n      evt.stopPropagation();\n      break;\n  }\n}\n\nexport default class Suggest {\n  constructor(items, itemClick, width = '200px') {\n    this.filterItems = [];\n    this.items = items;\n    this.el = h('div', `${cssPrefix}-suggest`).css('width', width).hide();\n    this.itemClick = itemClick;\n    this.itemIndex = -1;\n  }\n\n  setOffset(v) {\n    this.el.cssRemoveKeys('top', 'bottom')\n      .offset(v);\n  }\n\n  hide() {\n    const { el } = this;\n    this.filterItems = [];\n    this.itemIndex = -1;\n    el.hide();\n    unbindClickoutside(this.el.parent());\n  }\n\n  setItems(items) {\n    this.items = items;\n    // this.search('');\n  }\n\n  search(word) {\n    let { items } = this;\n    if (!/^\\s*$/.test(word)) {\n      items = items.filter(it => (it.key || it).startsWith(word.toUpperCase()));\n    }\n    items = items.map((it) => {\n      let { title } = it;\n      if (title) {\n        if (typeof title === 'function') {\n          title = title();\n        }\n      } else {\n        title = it;\n      }\n      const item = h('div', `${cssPrefix}-item`)\n        .child(title)\n        .on('click.stop', () => {\n          this.itemClick(it);\n          this.hide();\n        });\n      if (it.label) {\n        item.child(h('div', 'label').html(it.label));\n      }\n      return item;\n    });\n    this.filterItems = items;\n    if (items.length <= 0) {\n      return;\n    }\n    const { el } = this;\n    // items[0].toggle();\n    el.html('').children(...items).show();\n    bindClickoutside(el.parent(), () => { this.hide(); });\n  }\n\n  bindInputEvents(input) {\n    input.on('keydown', evt => inputKeydownHandler.call(this, evt));\n  }\n}\n","import { h } from './element';\nimport Icon from './icon';\nimport { t } from '../locale/locale';\n\nfunction addMonth(date, step) {\n  date.setMonth(date.getMonth() + step);\n}\n\nfunction weekday(date, index) {\n  const d = new Date(date);\n  d.setDate(index - date.getDay() + 1);\n  return d;\n}\n\nfunction monthDays(year, month, cdate) {\n  // the first day of month\n  const startDate = new Date(year, month, 1, 23, 59, 59);\n  const datess = [[], [], [], [], [], []];\n  for (let i = 0; i < 6; i += 1) {\n    for (let j = 0; j < 7; j += 1) {\n      const index = i * 7 + j;\n      const d = weekday(startDate, index);\n      const disabled = d.getMonth() !== month;\n      // console.log('d:', d, ', cdate:', cdate);\n      const active = d.getMonth() === cdate.getMonth() && d.getDate() === cdate.getDate();\n      datess[i][j] = { d, disabled, active };\n    }\n  }\n  return datess;\n}\n\nexport default class Calendar {\n  constructor(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n\n    this.headerLeftEl = h('div', 'calendar-header-left');\n    this.bodyEl = h('tbody', '');\n    this.buildAll();\n    this.el = h('div', 'x-spreadsheet-calendar')\n      .children(\n        h('div', 'calendar-header').children(\n          this.headerLeftEl,\n          h('div', 'calendar-header-right').children(\n            h('a', 'calendar-prev')\n              .on('click.stop', () => this.prev())\n              .child(new Icon('chevron-left')),\n            h('a', 'calendar-next')\n              .on('click.stop', () => this.next())\n              .child(new Icon('chevron-right')),\n          ),\n        ),\n        h('table', 'calendar-body').children(\n          h('thead', '').child(\n            h('tr', '').children(\n              ...t('calendar.weeks').map(week => h('th', 'cell').child(week)),\n            ),\n          ),\n          this.bodyEl,\n        ),\n      );\n    this.selectChange = () => {};\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n    this.buildAll();\n  }\n\n  prev() {\n    const { value } = this;\n    addMonth(value, -1);\n    this.buildAll();\n  }\n\n  next() {\n    const { value } = this;\n    addMonth(value, 1);\n    this.buildAll();\n  }\n\n  buildAll() {\n    this.buildHeaderLeft();\n    this.buildBody();\n  }\n\n  buildHeaderLeft() {\n    const { value } = this;\n    this.headerLeftEl.html(`${t('calendar.months')[value.getMonth()]} ${value.getFullYear()}`);\n  }\n\n  buildBody() {\n    const { value, cvalue, bodyEl } = this;\n    const mDays = monthDays(value.getFullYear(), value.getMonth(), cvalue);\n    const trs = mDays.map((it) => {\n      const tds = it.map((it1) => {\n        let cls = 'cell';\n        if (it1.disabled) cls += ' disabled';\n        if (it1.active) cls += ' active';\n        return h('td', '').child(\n          h('div', cls)\n            .on('click.stop', () => {\n              this.selectChange(it1.d);\n            })\n            .child(it1.d.getDate().toString()),\n        );\n      });\n      return h('tr', '').children(...tds);\n    });\n    bodyEl.html('').children(...trs);\n  }\n}\n","import Calendar from './calendar';\nimport { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class Datepicker {\n  constructor() {\n    this.calendar = new Calendar(new Date());\n    this.el = h('div', `${cssPrefix}-datepicker`).child(\n      this.calendar.el,\n    ).hide();\n  }\n\n  setValue(date) {\n    // console.log(':::::::', date, typeof date, date instanceof string);\n    const { calendar } = this;\n    if (typeof date === 'string') {\n      // console.log(/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date));\n      if (/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date)) {\n        calendar.setValue(new Date(date.replace(new RegExp('-', 'g'), '/')));\n      }\n    } else if (date instanceof Date) {\n      calendar.setValue(date);\n    }\n    return this;\n  }\n\n  change(cb) {\n    this.calendar.selectChange = (d) => {\n      cb(d);\n      this.hide();\n    };\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","//* global window */\nimport { h } from './element';\nimport Suggest from './suggest';\nimport Datepicker from './datepicker';\nimport { cssPrefix } from '../config';\n// import { mouseMoveUp } from '../event';\n\nfunction resetTextareaSize() {\n  const { inputText } = this;\n  if (!/^\\s*$/.test(inputText)) {\n    const {\n      textlineEl, textEl, areaOffset,\n    } = this;\n    const txts = inputText.split('\\n');\n    const maxTxtSize = Math.max(...txts.map(it => it.length));\n    const tlOffset = textlineEl.offset();\n    const fontWidth = tlOffset.width / inputText.length;\n    const tlineWidth = (maxTxtSize + 1) * fontWidth + 5;\n    const maxWidth = this.viewFn().width - areaOffset.left - fontWidth;\n    let h1 = txts.length;\n    if (tlineWidth > areaOffset.width) {\n      let twidth = tlineWidth;\n      if (tlineWidth > maxWidth) {\n        twidth = maxWidth;\n        h1 += parseInt(tlineWidth / maxWidth, 10);\n        h1 += (tlineWidth % maxWidth) > 0 ? 1 : 0;\n      }\n      textEl.css('width', `${twidth}px`);\n    }\n    h1 *= this.rowHeight;\n    if (h1 > areaOffset.height) {\n      textEl.css('height', `${h1}px`);\n    }\n  }\n}\n\nfunction insertText({ target }, itxt) {\n  const { value, selectionEnd } = target;\n  const ntxt = `${value.slice(0, selectionEnd)}${itxt}${value.slice(selectionEnd)}`;\n  target.value = ntxt;\n  target.setSelectionRange(selectionEnd + 1, selectionEnd + 1);\n\n  this.inputText = ntxt;\n  this.textlineEl.html(ntxt);\n  resetTextareaSize.call(this);\n}\n\nfunction keydownEventHandler(evt) {\n  const { keyCode, altKey } = evt;\n  if (keyCode !== 13 && keyCode !== 9) evt.stopPropagation();\n  if (keyCode === 13 && altKey) {\n    insertText.call(this, evt, '\\n');\n    evt.stopPropagation();\n  }\n  if (keyCode === 13 && !altKey) evt.preventDefault();\n}\n\nfunction inputEventHandler(evt) {\n  const v = evt.target.value;\n  // console.log(evt, 'v:', v);\n  const { suggest, textlineEl, validator } = this;\n  const { cell } = this;\n  if (cell !== null) {\n    if (('editable' in cell && cell.editable === true) || (cell.editable === undefined)) {\n      this.inputText = v;\n      if (validator) {\n        if (validator.type === 'list') {\n          suggest.search(v);\n        } else {\n          suggest.hide();\n        }\n      } else {\n        const start = v.lastIndexOf('=');\n        if (start !== -1) {\n          suggest.search(v.substring(start + 1));\n        } else {\n          suggest.hide();\n        }\n      }\n      textlineEl.html(v);\n      resetTextareaSize.call(this);\n      this.change('input', v);\n    } else {\n      evt.target.value = cell.text || '';\n    }\n  } else {\n    this.inputText = v;\n    if (validator) {\n      if (validator.type === 'list') {\n        suggest.search(v);\n      } else {\n        suggest.hide();\n      }\n    } else {\n      const start = v.lastIndexOf('=');\n      if (start !== -1) {\n        suggest.search(v.substring(start + 1));\n      } else {\n        suggest.hide();\n      }\n    }\n    textlineEl.html(v);\n    resetTextareaSize.call(this);\n    this.change('input', v);\n  }\n}\n\nfunction setTextareaRange(position) {\n  const { el } = this.textEl;\n  setTimeout(() => {\n    el.focus();\n    el.setSelectionRange(position, position);\n  }, 0);\n}\n\nfunction setText(text, position) {\n  const { textEl, textlineEl } = this;\n  // firefox bug\n  textEl.el.blur();\n\n  textEl.val(text);\n  textlineEl.html(text);\n  setTextareaRange.call(this, position);\n}\n\nfunction suggestItemClick(it) {\n  const { inputText, validator } = this;\n  let position = 0;\n  if (validator && validator.type === 'list') {\n    this.inputText = it;\n    position = this.inputText.length;\n  } else {\n    const start = inputText.lastIndexOf('=');\n    const sit = inputText.substring(0, start + 1);\n    let eit = inputText.substring(start + 1);\n    if (eit.indexOf(')') !== -1) {\n      eit = eit.substring(eit.indexOf(')'));\n    } else {\n      eit = '';\n    }\n    this.inputText = `${sit + it.key}(`;\n    // console.log('inputText:', this.inputText);\n    position = this.inputText.length;\n    this.inputText += `)${eit}`;\n  }\n  setText.call(this, this.inputText, position);\n}\n\nfunction resetSuggestItems() {\n  this.suggest.setItems(this.formulas);\n}\n\nfunction dateFormat(d) {\n  let month = d.getMonth() + 1;\n  let date = d.getDate();\n  if (month < 10) month = `0${month}`;\n  if (date < 10) date = `0${date}`;\n  return `${d.getFullYear()}-${month}-${date}`;\n}\n\nexport default class Editor {\n  constructor(formulas, viewFn, rowHeight) {\n    this.viewFn = viewFn;\n    this.rowHeight = rowHeight;\n    this.formulas = formulas;\n    this.suggest = new Suggest(formulas, (it) => {\n      suggestItemClick.call(this, it);\n    });\n    this.datepicker = new Datepicker();\n    this.datepicker.change((d) => {\n      // console.log('d:', d);\n      this.setText(dateFormat(d));\n      this.clear();\n    });\n    this.areaEl = h('div', `${cssPrefix}-editor-area`)\n      .children(\n        this.textEl = h('textarea', '')\n          .on('input', evt => inputEventHandler.call(this, evt))\n          .on('paste.stop', () => {})\n          .on('keydown', evt => keydownEventHandler.call(this, evt)),\n        this.textlineEl = h('div', 'textline'),\n        this.suggest.el,\n        this.datepicker.el,\n      )\n      .on('mousemove.stop', () => {})\n      .on('mousedown.stop', () => {});\n    this.el = h('div', `${cssPrefix}-editor`)\n      .child(this.areaEl).hide();\n    this.suggest.bindInputEvents(this.textEl);\n\n    this.areaOffset = null;\n    this.freeze = { w: 0, h: 0 };\n    this.cell = null;\n    this.inputText = '';\n    this.change = () => {};\n  }\n\n  setFreezeLengths(width, height) {\n    this.freeze.w = width;\n    this.freeze.h = height;\n  }\n\n  clear() {\n    // const { cell } = this;\n    // const cellText = (cell && cell.text) || '';\n    if (this.inputText !== '') {\n      this.change('finished', this.inputText);\n    }\n    this.cell = null;\n    this.areaOffset = null;\n    this.inputText = '';\n    this.el.hide();\n    this.textEl.val('');\n    this.textlineEl.html('');\n    resetSuggestItems.call(this);\n    this.datepicker.hide();\n  }\n\n  setOffset(offset, suggestPosition = 'top') {\n    const {\n      textEl, areaEl, suggest, freeze, el,\n    } = this;\n    if (offset) {\n      this.areaOffset = offset;\n      const {\n        left, top, width, height, l, t,\n      } = offset;\n      // console.log('left:', left, ',top:', top, ', freeze:', freeze);\n      const elOffset = { left: 0, top: 0 };\n      // top left\n      if (freeze.w > l && freeze.h > t) {\n        //\n      } else if (freeze.w < l && freeze.h < t) {\n        elOffset.left = freeze.w;\n        elOffset.top = freeze.h;\n      } else if (freeze.w > l) {\n        elOffset.top = freeze.h;\n      } else if (freeze.h > t) {\n        elOffset.left = freeze.w;\n      }\n      el.offset(elOffset);\n      areaEl.offset({ left: left - elOffset.left - 0.8, top: top - elOffset.top - 0.8 });\n      textEl.offset({ width: width - 9 + 0.8, height: height - 3 + 0.8 });\n      const sOffset = { left: 0 };\n      sOffset[suggestPosition] = height;\n      suggest.setOffset(sOffset);\n      suggest.hide();\n    }\n  }\n\n  setCell(cell, validator) {\n    if (cell && cell.editable === false) return;\n\n    // console.log('::', validator);\n    const { el, datepicker, suggest } = this;\n    el.show();\n    this.cell = cell;\n    const text = (cell && cell.text) || '';\n    this.setText(text);\n\n    this.validator = validator;\n    if (validator) {\n      const { type } = validator;\n      if (type === 'date') {\n        datepicker.show();\n        if (!/^\\s*$/.test(text)) {\n          datepicker.setValue(text);\n        }\n      }\n      if (type === 'list') {\n        suggest.setItems(validator.values());\n        suggest.search('');\n      }\n    }\n  }\n\n  setText(text) {\n    this.inputText = text;\n    // console.log('text>>:', text);\n    setText.call(this, text, text.length);\n    resetTextareaSize.call(this);\n  }\n}\n","import { Element } from './element';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nexport default class Button extends Element {\n  // type: primary\n  constructor(title, type = '') {\n    super('div', `${cssPrefix}-button ${type}`);\n    this.child(t(`button.${title}`));\n  }\n}\n","/* global window document */\nimport { h } from './element';\nimport { cssPrefix } from '../config';\nimport Button from './button';\nimport { Draw } from '../canvas/draw';\nimport { renderCell } from './table';\nimport { t } from '../locale/locale';\n\n// resolution: 72 => 595 x 842\n// 150 => 1240 x 1754\n// 200 => 1654 x 2339\n// 300 => 2479 x 3508\n// 96 * cm / 2.54 , 96 * cm / 2.54\n\nconst PAGER_SIZES = [\n  ['A3', 11.69, 16.54],\n  ['A4', 8.27, 11.69],\n  ['A5', 5.83, 8.27],\n  ['B4', 9.84, 13.90],\n  ['B5', 6.93, 9.84],\n];\n\nconst PAGER_ORIENTATIONS = ['landscape', 'portrait'];\n\nfunction inches2px(inc) {\n  return parseInt(96 * inc, 10);\n}\n\nfunction btnClick(type) {\n  if (type === 'cancel') {\n    this.el.hide();\n  } else {\n    this.toPrint();\n  }\n}\n\nfunction pagerSizeChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const ps = PAGER_SIZES[value];\n  paper.w = inches2px(ps[1]);\n  paper.h = inches2px(ps[2]);\n  // console.log('paper:', ps, paper);\n  this.preview();\n}\nfunction pagerOrientationChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const v = PAGER_ORIENTATIONS[value];\n  paper.orientation = v;\n  this.preview();\n}\n\nexport default class Print {\n  constructor(data) {\n    this.paper = {\n      w: inches2px(PAGER_SIZES[0][1]),\n      h: inches2px(PAGER_SIZES[0][2]),\n      padding: 50,\n      orientation: PAGER_ORIENTATIONS[0],\n      get width() {\n        return this.orientation === 'landscape' ? this.h : this.w;\n      },\n      get height() {\n        return this.orientation === 'landscape' ? this.w : this.h;\n      },\n    };\n    this.data = data;\n    this.el = h('div', `${cssPrefix}-print`)\n      .children(\n        h('div', `${cssPrefix}-print-bar`)\n          .children(\n            h('div', '-title').child('Print settings'),\n            h('div', '-right').children(\n              h('div', `${cssPrefix}-buttons`).children(\n                new Button('cancel').on('click', btnClick.bind(this, 'cancel')),\n                new Button('next', 'primary').on('click', btnClick.bind(this, 'next')),\n              ),\n            ),\n          ),\n        h('div', `${cssPrefix}-print-content`)\n          .children(\n            this.contentEl = h('div', '-content'),\n            h('div', '-sider').child(\n              h('form', '').children(\n                h('fieldset', '').children(\n                  h('label', '').child(`${t('print.size')}`),\n                  h('select', '').children(\n                    ...PAGER_SIZES.map((it, index) => h('option', '').attr('value', index).child(`${it[0]} ( ${it[1]}''x${it[2]}'' )`)),\n                  ).on('change', pagerSizeChange.bind(this)),\n                ),\n                h('fieldset', '').children(\n                  h('label', '').child(`${t('print.orientation')}`),\n                  h('select', '').children(\n                    ...PAGER_ORIENTATIONS.map((it, index) => h('option', '').attr('value', index).child(`${t('print.orientations')[index]}`)),\n                  ).on('change', pagerOrientationChange.bind(this)),\n                ),\n              ),\n            ),\n          ),\n      ).hide();\n  }\n\n  resetData(data) {\n    this.data = data;\n  }\n\n  preview() {\n    const { data, paper } = this;\n    const { width, height, padding } = paper;\n    const iwidth = width - padding * 2;\n    const iheight = height - padding * 2;\n    const cr = data.contentRange();\n    const pages = parseInt(cr.h / iheight, 10) + 1;\n    const scale = iwidth / cr.w;\n    let left = padding;\n    const top = padding;\n    if (scale > 1) {\n      left += (iwidth - cr.w) / 2;\n    }\n    let ri = 0;\n    let yoffset = 0;\n    this.contentEl.html('');\n    this.canvases = [];\n    const mViewRange = {\n      sri: 0,\n      sci: 0,\n      eri: 0,\n      eci: 0,\n    };\n    for (let i = 0; i < pages; i += 1) {\n      let th = 0;\n      let yo = 0;\n      const wrap = h('div', `${cssPrefix}-canvas-card`);\n      const canvas = h('canvas', `${cssPrefix}-canvas`);\n      this.canvases.push(canvas.el);\n      const draw = new Draw(canvas.el, width, height);\n      // cell-content\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      // console.log('ri:', ri, cr.eri, yoffset);\n      for (; ri <= cr.eri; ri += 1) {\n        const rh = data.rows.getHeight(ri);\n        th += rh;\n        if (th < iheight) {\n          for (let ci = 0; ci <= cr.eci; ci += 1) {\n            renderCell(draw, data, ri, ci, yoffset);\n            mViewRange.eci = ci;\n          }\n        } else {\n          yo = -(th - rh);\n          break;\n        }\n      }\n      mViewRange.eri = ri;\n      draw.restore();\n      // merge-cell\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      const yof = yoffset;\n      data.eachMergesInView(mViewRange, ({ sri, sci }) => {\n        renderCell(draw, data, sri, sci, yof);\n      });\n      draw.restore();\n\n      mViewRange.sri = mViewRange.eri;\n      mViewRange.sci = mViewRange.eci;\n      yoffset += yo;\n      this.contentEl.child(h('div', `${cssPrefix}-canvas-card-wraper`).child(wrap.child(canvas)));\n    }\n    this.el.show();\n  }\n\n  toPrint() {\n    this.el.hide();\n    const { paper } = this;\n    const iframe = h('iframe', '').hide();\n    const { el } = iframe;\n    window.document.body.appendChild(el);\n    const { contentWindow } = el;\n    const idoc = contentWindow.document;\n    const style = document.createElement('style');\n    style.innerHTML = `\n      @page { size: ${paper.width}px ${paper.height}px; };\n      canvas {\n        page-break-before: auto;        \n        page-break-after: always;\n        image-rendering: pixelated;\n      };\n    `;\n    idoc.head.appendChild(style);\n    this.canvases.forEach((it) => {\n      const cn = it.cloneNode(false);\n      const ctx = cn.getContext('2d');\n      // ctx.imageSmoothingEnabled = true;\n      ctx.drawImage(it, 0, 0);\n      idoc.body.appendChild(cn);\n    });\n    contentWindow.print();\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { tf } from '../locale/locale';\n\nconst menuItems = [\n  { key: 'copy', title: tf('contextmenu.copy'), label: 'Ctrl+C' },\n  { key: 'cut', title: tf('contextmenu.cut'), label: 'Ctrl+X' },\n  { key: 'paste', title: tf('contextmenu.paste'), label: 'Ctrl+V' },\n  { key: 'paste-value', title: tf('contextmenu.pasteValue'), label: 'Ctrl+Shift+V' },\n  { key: 'paste-format', title: tf('contextmenu.pasteFormat'), label: 'Ctrl+Alt+V' },\n  { key: 'divider' },\n  { key: 'insert-row', title: tf('contextmenu.insertRow') },\n  { key: 'insert-column', title: tf('contextmenu.insertColumn') },\n  { key: 'divider' },\n  { key: 'delete-row', title: tf('contextmenu.deleteRow') },\n  { key: 'delete-column', title: tf('contextmenu.deleteColumn') },\n  { key: 'delete-cell-text', title: tf('contextmenu.deleteCellText') },\n  { key: 'hide', title: tf('contextmenu.hide') },\n  { key: 'divider' },\n  { key: 'validation', title: tf('contextmenu.validation') },\n  { key: 'divider' },\n  { key: 'cell-printable', title: tf('contextmenu.cellprintable') },\n  { key: 'cell-non-printable', title: tf('contextmenu.cellnonprintable') },\n  { key: 'divider' },\n  { key: 'cell-editable', title: tf('contextmenu.celleditable') },\n  { key: 'cell-non-editable', title: tf('contextmenu.cellnoneditable') },\n];\n\nfunction buildMenuItem(item) {\n  if (item.key === 'divider') {\n    return h('div', `${cssPrefix}-item divider`);\n  }\n  return h('div', `${cssPrefix}-item`)\n    .on('click', () => {\n      this.itemClick(item.key);\n      this.hide();\n    })\n    .children(\n      item.title(),\n      h('div', 'label').child(item.label || ''),\n    );\n}\n\nfunction buildMenu(settings) {\n  let bi = menuItems;\n  if(!settings.showValidation) {\n    const valIndex = menuItems.findIndex(el => el.key === 'validation');\n    bi = menuItems.slice()\n    bi.splice(valIndex,2);\n  }\n  return bi.map(it => buildMenuItem.call(this, it));\n}\n\nexport default class ContextMenu {\n  constructor(viewFn, isHide = false, settings = {}) {\n    this.menuItems = buildMenu.call(this, settings);\n    this.el = h('div', `${cssPrefix}-contextmenu`)\n      .children(...this.menuItems)\n      .hide();\n    this.viewFn = viewFn;\n    this.itemClick = () => {};\n    this.isHide = isHide;\n    this.setMode('range');\n  }\n\n  // row-col: the whole rows or the whole cols\n  // range: select range\n  setMode(mode) {\n    const hideEl = this.menuItems[12];\n    if (mode === 'row-col') {\n      hideEl.show();\n    } else {\n      hideEl.hide();\n    }\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setPosition(x, y) {\n    if (this.isHide) return;\n    const { el } = this;\n    const { width } = el.show().offset();\n    const view = this.viewFn();\n    const vhf = view.height / 2;\n    let left = x;\n    if (view.width - x <= width) {\n      left -= width;\n    }\n    el.css('left', `${left}px`);\n    if (y > vhf) {\n      el.css('bottom', `${view.height - y}px`)\n        .css('max-height', `${y}px`)\n        .css('top', 'auto');\n    } else {\n      el.css('top', `${y}px`)\n        .css('max-height', `${view.height - y}px`)\n        .css('bottom', 'auto');\n    }\n    bindClickoutside(el);\n  }\n}\n","import { cssPrefix } from '../../config';\nimport tooltip from '../tooltip';\nimport { h } from '../element';\nimport { t } from '../../locale/locale';\n\nexport default class Item {\n  // tooltip\n  // tag: the subclass type\n  // shortcut: shortcut key\n  constructor(tag, shortcut, value) {\n    this.tip = '';\n    if (tag) this.tip = t(`toolbar.${tag.replace(/-[a-z]/g, c => c[1].toUpperCase())}`);\n    if (shortcut) this.tip += ` (${shortcut})`;\n    this.tag = tag;\n    this.shortcut = shortcut;\n    this.value = value;\n    this.el = this.element();\n    this.change = () => {};\n  }\n\n  element() {\n    const { tip } = this;\n    return h('div', `${cssPrefix}-toolbar-btn`)\n      .on('mouseenter', (evt) => {\n        if (this.tip) tooltip(this.tip, evt.target);\n      })\n      .attr('data-tooltip', tip);\n  }\n\n  setState() {}\n}\n","/* global document */\nimport { h } from './element';\nimport { bind } from './event';\nimport { cssPrefix } from '../config';\n\nexport default function tooltip(html, target) {\n  if (target.classList.contains('active')) {\n    return;\n  }\n  const {\n    left, top, width, height,\n  } = target.getBoundingClientRect();\n  const el = h('div', `${cssPrefix}-tooltip`).html(html).show();\n  const where = target.parentElement.parentElement;\n  // document.body.appendChild(el.el);\n  where.appendChild(el.el);\n  const elBox = el.box();\n  const wherebox = where.getBoundingClientRect();\n  const tooltipLeft = left-wherebox.left;\n  const tooltiptop = top-wherebox.top;\n\n  // console.log('elBox:', elBox);\n  el.css('left', `${tooltipLeft + (width / 2) - (elBox.width / 2)}px`)\n    .css('top', `${tooltiptop + height + 2}px`);\n\n  bind(target, 'mouseleave', () => {\n    if (where.contains(el.el)) {\n      where.removeChild(el.el);\n    }\n  });\n\n  bind(target, 'click', () => {\n    if (where.contains(el.el)) {\n      where.removeChild(el.el);\n    }\n  });\n}\n","import Item from './item';\n\nexport default class DropdownItem extends Item {\n  dropdown() {}\n\n  getValue(v) {\n    return v;\n  }\n\n  element() {\n    const { tag } = this;\n    this.dd = this.dropdown();\n    this.dd.change = it => this.change(tag, this.getValue(it));\n    return super.element().child(\n      this.dd,\n    );\n  }\n\n  setState(v) {\n    if (v !== undefined) {\n      this.value = v;\n      this.dd.setTitle(v);\n    }\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nfunction buildItemWithIcon(iconName) {\n  return h('div', `${cssPrefix}-item`).child(new Icon(iconName));\n}\n\nexport default class DropdownAlign extends Dropdown {\n  constructor(aligns, align) {\n    const icon = new Icon(`align-${align}`);\n    const naligns = aligns.map(it => buildItemWithIcon(`align-${it}`)\n      .on('click', () => {\n        this.setTitle(it);\n        this.change(it);\n      }));\n    super(icon, 'auto', true, 'bottom-left','dd-align', ...naligns);\n  }\n\n  setTitle(align) {\n    this.title.setName(`align-${align}`);\n    this.hide();\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownAlign from '../dropdown_align';\n\nexport default class Align extends DropdownItem {\n  constructor(value) {\n    super('align', '', value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign(['left', 'center', 'right'], value);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownAlign from '../dropdown_align';\n\nexport default class Valign extends DropdownItem {\n  constructor(value) {\n    super('valign', '', value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign(['top', 'middle', 'bottom'], value);\n  }\n}\n","import Item from './item';\nimport Icon from '../icon';\n\nexport default class ToggleItem extends Item {\n  element() {\n    const { tag } = this;\n    return super.element()\n      .child(new Icon(tag))\n      .on('click', () => this.click());\n  }\n\n  click() {\n    this.change(this.tag, this.toggle());\n  }\n\n  setState(active) {\n    this.el.active(active);\n  }\n\n  toggle() {\n    return this.el.toggle();\n  }\n\n  active() {\n    return this.el.hasClass('active');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Autofilter extends ToggleItem {\n  constructor() {\n    super('autofilter');\n  }\n\n  setState() {}\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Bold extends ToggleItem {\n  constructor() {\n    super('font-bold', 'Ctrl+B');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Italic extends ToggleItem {\n  constructor() {\n    super('font-italic', 'Ctrl+I');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Strike extends ToggleItem {\n  constructor() {\n    super('strike', 'Ctrl+U');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Underline extends ToggleItem {\n  constructor() {\n    super('underline', 'Ctrl+U');\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nconst themeColorPlaceHolders = ['#ffffff', '#000100', '#e7e5e6', '#445569', '#5b9cd6', '#ed7d31', '#a5a5a5', '#ffc001', '#4371c6', '#71ae47'];\n\nconst themeColors = [\n  ['#f2f2f2', '#7f7f7f', '#d0cecf', '#d5dce4', '#deeaf6', '#fce5d5', '#ededed', '#fff2cd', '#d9e2f3', '#e3efd9'],\n  ['#d8d8d8', '#595959', '#afabac', '#adb8ca', '#bdd7ee', '#f7ccac', '#dbdbdb', '#ffe59a', '#b3c6e7', '#c5e0b3'],\n  ['#bfbfbf', '#3f3f3f', '#756f6f', '#8596b0', '#9cc2e6', '#f4b184', '#c9c9c9', '#fed964', '#8eaada', '#a7d08c'],\n  ['#a5a5a5', '#262626', '#3a3839', '#333f4f', '#2e75b5', '#c45a10', '#7b7b7b', '#bf8e01', '#2f5596', '#538136'],\n  ['#7f7f7f', '#0c0c0c', '#171516', '#222a35', '#1f4e7a', '#843c0a', '#525252', '#7e6000', '#203864', '#365624'],\n];\n\nconst standardColors = ['#c00000', '#fe0000', '#fdc101', '#ffff01', '#93d051', '#00b04e', '#01b0f1', '#0170c1', '#012060', '#7030a0'];\n\nfunction buildTd(bgcolor) {\n  return h('td', '').child(\n    h('div', `${cssPrefix}-color-palette-cell`)\n      .on('click.stop', () => this.change(bgcolor))\n      .css('background-color', bgcolor),\n  );\n}\n\nexport default class ColorPalette {\n  constructor() {\n    this.el = h('div', `${cssPrefix}-color-palette`);\n    this.change = () => {};\n    const table = h('table', '').children(\n      h('tbody', '').children(\n        h('tr', `${cssPrefix}-theme-color-placeholders`).children(\n          ...themeColorPlaceHolders.map(color => buildTd.call(this, color)),\n        ),\n        ...themeColors.map(it => h('tr', `${cssPrefix}-theme-colors`).children(\n          ...it.map(color => buildTd.call(this, color)),\n        )),\n        h('tr', `${cssPrefix}-standard-colors`).children(\n          ...standardColors.map(color => buildTd.call(this, color)),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport ColorPalette from './color_palette';\n\nexport default class DropdownColor extends Dropdown {\n  constructor(iconName, color) {\n    const icon = new Icon(iconName)\n      .css('height', '16px')\n      .css('border-bottom', `3px solid ${color}`);\n    const colorPalette = new ColorPalette();\n    colorPalette.change = (v) => {\n      this.setTitle(v);\n      this.change(v);\n    };\n    super(icon, 'auto', false, 'bottom-right','dd-color', colorPalette.el);\n  }\n\n  setTitle(color) {\n    this.title.css('border-color', color);\n    this.hide();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nconst lineTypes = [\n  ['thin', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['medium', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"2\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.0\" x2=\"50\" y2=\"1.0\" stroke-width=\"2\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['thick', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.5\" x2=\"50\" y2=\"1.5\" stroke-width=\"3\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['dashed', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"2\" style=\"user-select: none;\"></line></svg>'],\n  ['dotted', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"1\" style=\"user-select: none;\"></line></svg>'],\n  // ['double', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line><line x1=\"0\" y1=\"2.5\" x2=\"50\" y2=\"2.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n];\n\nexport default class DropdownLineType extends Dropdown {\n  constructor(type) {\n    const icon = new Icon('line-type');\n    let beforei = 0;\n    const lineTypeEls = lineTypes.map((it, iti) => h('div', `${cssPrefix}-item state ${type === it[0] ? 'checked' : ''}`)\n      .on('click', () => {\n        lineTypeEls[beforei].toggle('checked');\n        lineTypeEls[iti].toggle('checked');\n        beforei = iti;\n        this.hide();\n        this.change(it);\n      })\n      .child(\n        h('div', `${cssPrefix}-line-type`).html(it[1]),\n      ));\n\n    super(icon, 'auto', false, 'bottom-right', 'dd-linetype', ...lineTypeEls);\n  }\n}\n","import { h } from './element';\nimport Icon from './icon';\nimport DropdownColor from './dropdown_color';\nimport DropdownLineType from './dropdown_linetype';\nimport { cssPrefix } from '../config';\n\nfunction buildTable(...trs) {\n  return h('table', '').child(\n    h('tbody', '').children(...trs),\n  );\n}\n\nfunction buildTd(iconName) {\n  return h('td', '').child(\n    h('div', `${cssPrefix}-border-palette-cell`).child(\n      new Icon(`border-${iconName}`),\n    ).on('click', () => {\n      this.mode = iconName;\n      const { mode, style, color } = this;\n      this.change({ mode, style, color });\n    }),\n  );\n}\n\nexport default class BorderPalette {\n  constructor() {\n    this.color = '#000';\n    this.style = 'thin';\n    this.mode = 'all';\n    this.change = () => {};\n    this.ddColor = new DropdownColor('line-color', this.color);\n    this.ddColor.change = (color) => {\n      this.color = color;\n    };\n    this.ddType = new DropdownLineType(this.style);\n    this.ddType.change = ([s]) => {\n      this.style = s;\n    };\n    this.el = h('div', `${cssPrefix}-border-palette`);\n    const table = buildTable(\n      h('tr', '').children(\n        h('td', `${cssPrefix}-border-palette-left`).child(\n          buildTable(\n            h('tr', '').children(\n              ...['all', 'inside', 'horizontal', 'vertical', 'outside'].map(it => buildTd.call(this, it)),\n            ),\n            h('tr', '').children(\n              ...['left', 'top', 'right', 'bottom', 'none'].map(it => buildTd.call(this, it)),\n            ),\n          ),\n        ),\n        h('td', `${cssPrefix}-border-palette-right`).children(\n          h('div', `${cssPrefix}-toolbar-btn`).child(this.ddColor.el),\n          h('div', `${cssPrefix}-toolbar-btn`).child(this.ddType.el),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport BorderPalette from './border_palette';\n\nexport default class DropdownBorder extends Dropdown {\n  constructor() {\n    const icon = new Icon('border-all');\n    const borderPalette = new BorderPalette();\n    borderPalette.change = (v) => {\n      this.change(v);\n      this.hide();\n    };\n    super(icon, 'auto', false, 'bottom-right','dd-border', borderPalette.el);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownBorder from '../dropdown_border';\n\nexport default class Border extends DropdownItem {\n  constructor() {\n    super('border');\n  }\n\n  dropdown() {\n    return new DropdownBorder();\n  }\n}\n","import Item from './item';\nimport Icon from '../icon';\n\nexport default class IconItem extends Item {\n  element() {\n    return super.element()\n      .child(new Icon(this.tag))\n      .on('click', () => this.change(this.tag));\n  }\n\n  setState(disabled) {\n    this.el.disabled(disabled);\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Clearformat extends IconItem {\n  constructor() {\n    super('clearformat');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Paintformat extends ToggleItem {\n  constructor() {\n    super('paintformat');\n  }\n\n  setState() {}\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownColor from '../dropdown_color';\n\nexport default class TextColor extends DropdownItem {\n  constructor(color) {\n    super('color', undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownColor from '../dropdown_color';\n\nexport default class FillColor extends DropdownItem {\n  constructor(color) {\n    super('bgcolor', undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { fontSizes } from '../core/font';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFontSize extends Dropdown {\n  constructor() {\n    const nfontSizes = fontSizes.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.setTitle(`${it.pt}`);\n        this.change(it);\n      })\n      .child(`${it.pt}`));\n    super('10', '60px', true, 'bottom-left','dd-fontsize', ...nfontSizes);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFontsize from '../dropdown_fontsize';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('font-size');\n  }\n\n  getValue(it) {\n    return it.pt;\n  }\n\n  dropdown() {\n    return new DropdownFontsize();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { baseFonts } from '../core/font';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFont extends Dropdown {\n  constructor() {\n    const nfonts = baseFonts.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.setTitle(it.title);\n        this.change(it);\n      })\n      .child(it.title));\n    super(baseFonts[0].title, '160px', true, 'bottom-left','dd-font', ...nfonts);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFont from '../dropdown_font';\n\nexport default class Font extends DropdownItem {\n  constructor() {\n    super('font-name');\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFont();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { baseFormats } from '../core/format';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFormat extends Dropdown {\n  constructor() {\n    let nformats = baseFormats.slice(0);\n    nformats.splice(2, 0, { key: 'divider' });\n    nformats.splice(8, 0, { key: 'divider' });\n    nformats = nformats.map((it) => {\n      const item = h('div', `${cssPrefix}-item`);\n      if (it.key === 'divider') {\n        item.addClass('divider');\n      } else {\n        item.child(it.title())\n          .on('click', () => {\n            this.setTitle(it.numfmt);\n            this.change(it);\n          });\n        if (it.label) item.child(h('div', 'label').html(it.label));\n      }\n      return item;\n    });\n    super('General', '220px', true, 'bottom-left','dd-format', ...nformats);\n  }\n\n  setTitle(key) {\n    for (let i = 0; i < baseFormats.length; i += 1) {\n      if (baseFormats[i].numfmt === key) {\n        this.title.html(baseFormats[i].title());\n      }\n    }\n    this.hide();\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFormat from '../dropdown_format';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('format');\n  }\n\n  getValue(it) {\n    // return it.key;\n    return it.numfmt;\n  }\n\n  dropdown() {\n    return new DropdownFormat();\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport { h } from './element';\nimport { baseFormulas } from '../core/formula';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFormula extends Dropdown {\n  constructor() {\n    const nformulas = baseFormulas.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.hide();\n        this.change(it);\n      })\n      .child(it.key));\n    super(new Icon('formula'), '180px', true, 'bottom-right', 'dd-formula', ...nformulas);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFormula from '../dropdown_formula';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('formula');\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFormula();\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Freeze extends ToggleItem {\n  constructor() {\n    super('freeze');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Merge extends ToggleItem {\n  constructor() {\n    super('merge');\n  }\n\n  setState(active, disabled) {\n    this.el.active(active).disabled(disabled);\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Redo extends IconItem {\n  constructor() {\n    super('redo', 'Ctrl+Y');\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Undo extends IconItem {\n  constructor() {\n    super('undo', 'Ctrl+Z');\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Print extends IconItem {\n  constructor() {\n    super('print', 'Ctrl+P');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Textwrap extends ToggleItem {\n  constructor() {\n    super('textwrap');\n  }\n}\n","import Dropdown from '../dropdown';\nimport DropdownItem from './dropdown_item';\n\nimport { cssPrefix } from '../../config';\nimport { h } from '../element';\nimport Icon from '../icon';\n\nclass DropdownMore extends Dropdown {\n  constructor() {\n    const icon = new Icon('ellipsis');\n    const moreBtns = h('div', `${cssPrefix}-toolbar-more`);\n    super(icon, 'auto', false, 'bottom-right','dd-more', moreBtns);\n    this.moreBtns = moreBtns;\n    this.contentEl.css('max-width', '420px');\n  }\n}\n\nexport default class More extends DropdownItem {\n  constructor() {\n    super('more');\n    this.el.hide();\n  }\n\n  dropdown() {\n    return new DropdownMore();\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","/* global window */\n\nimport Align from './align';\nimport Valign from './valign';\nimport Autofilter from './autofilter';\nimport Bold from './bold';\nimport Italic from './italic';\nimport Strike from './strike';\nimport Underline from './underline';\nimport Border from './border';\nimport Clearformat from './clearformat';\nimport Paintformat from './paintformat';\nimport TextColor from './text_color';\nimport FillColor from './fill_color';\nimport FontSize from './font_size';\nimport Font from './font';\nimport Format from './format';\nimport Formula from './formula';\nimport Freeze from './freeze';\nimport Merge from './merge';\nimport Redo from './redo';\nimport Undo from './undo';\nimport Print from './print';\nimport Textwrap from './textwrap';\nimport More from './more';\nimport Item from './item';\n\nimport { h } from '../element';\nimport { cssPrefix } from '../../config';\nimport { bind } from '../event';\n\nfunction buildDivider() {\n  return h('div', `${cssPrefix}-toolbar-divider`);\n}\n\nfunction initBtns2() {\n  this.btns2 = [];\n  this.items.forEach((it) => {\n    if (Array.isArray(it)) {\n      it.forEach(({ el }) => {\n        const rect = el.box();\n        const { marginLeft, marginRight } = el.computedStyle();\n        this.btns2.push([el, rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10)]);\n      });\n    } else {\n      const rect = it.box();\n      const { marginLeft, marginRight } = it.computedStyle();\n      this.btns2.push([it, rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10)]);\n    }\n  });\n}\n\nfunction moreResize() {\n  const {\n    el, btns, moreEl, btns2,\n  } = this;\n  const { moreBtns, contentEl } = moreEl.dd;\n  el.css('width', `${this.widthFn()}px`);\n  const elBox = el.box();\n\n  let sumWidth = 160;\n  let sumWidth2 = 12;\n  const list1 = [];\n  const list2 = [];\n  btns2.forEach(([it, w], index) => {\n    sumWidth += w;\n    if (index === btns2.length - 1 || sumWidth < elBox.width) {\n      list1.push(it);\n    } else {\n      sumWidth2 += w;\n      list2.push(it);\n    }\n  });\n  btns.html('').children(...list1);\n  moreBtns.html('').children(...list2);\n  contentEl.css('width', `${sumWidth2}px`);\n  if (list2.length > 0) {\n    moreEl.show();\n  } else {\n    moreEl.hide();\n  }\n}\n\nfunction genBtn(it) {\n  const btn = new Item();\n  btn.el.on('click', () => {\n    if (it.onClick) it.onClick(this.data.getData(), this.data);\n  });\n  btn.tip = it.tip || '';\n\n  let { el } = it;\n\n  if (it.icon) {\n    el = h('img').attr('src', it.icon);\n  }\n\n  if (el) {\n    const icon = h('div', `${cssPrefix}-icon`);\n    icon.child(el);\n    btn.el.child(icon);\n  }\n\n  return btn;\n}\n\nexport default class Toolbar {\n  constructor(data, widthFn, isHide = false) {\n    this.data = data;\n    this.change = () => {};\n    this.widthFn = widthFn;\n    this.isHide = isHide;\n    const style = data.defaultStyle();\n    this.items = [\n      [\n        this.undoEl = new Undo(),\n        this.redoEl = new Redo(),\n        this.data.settings.showPrint && new Print(),\n        this.paintformatEl = new Paintformat(),\n        this.clearformatEl = new Clearformat(),\n      ].filter(e=>!!e),\n      buildDivider(),\n      [\n        this.formatEl = new Format(),\n      ],\n      buildDivider(),\n      [\n        this.fontEl = new Font(),\n        this.fontSizeEl = new FontSize(),\n      ],\n      buildDivider(),\n      [\n        this.boldEl = new Bold(),\n        this.italicEl = new Italic(),\n        this.underlineEl = new Underline(),\n        this.strikeEl = new Strike(),\n        this.textColorEl = new TextColor(style.color),\n      ],\n      buildDivider(),\n      [\n        this.fillColorEl = new FillColor(style.bgcolor),\n        this.borderEl = new Border(),\n        this.mergeEl = new Merge(),\n      ],\n      buildDivider(),\n      [\n        this.alignEl = new Align(style.align),\n        this.valignEl = new Valign(style.valign),\n        this.textwrapEl = new Textwrap(),\n      ],\n      buildDivider(),\n      [\n        this.freezeEl = new Freeze(),\n        this.autofilterEl = new Autofilter(),\n        this.formulaEl = new Formula(),\n      ],\n    ];\n\n    const { extendToolbar = {} } = data.settings;\n\n    if (extendToolbar.left && extendToolbar.left.length > 0) {\n      this.items.unshift(buildDivider());\n      const btns = extendToolbar.left.map(genBtn.bind(this));\n\n      this.items.unshift(btns);\n    }\n    if (extendToolbar.right && extendToolbar.right.length > 0) {\n      this.items.push(buildDivider());\n      const btns = extendToolbar.right.map(genBtn.bind(this));\n      this.items.push(btns);\n    }\n\n    this.items.push([this.moreEl = new More()]);\n\n    this.el = h('div', `${cssPrefix}-toolbar`);\n    this.btns = h('div', `${cssPrefix}-toolbar-btns`);\n\n    this.items.forEach((it) => {\n      if (Array.isArray(it)) {\n        it.forEach((i) => {\n          this.btns.child(i.el);\n          i.change = (...args) => {\n            this.change(...args);\n          };\n        });\n      } else {\n        this.btns.child(it.el);\n      }\n    });\n\n    this.el.child(this.btns);\n    if (isHide) {\n      this.el.hide();\n    } else {\n      this.reset();\n      setTimeout(() => {\n        initBtns2.call(this);\n        moreResize.call(this);\n      }, 0);\n      bind(window, 'resize', () => {\n        moreResize.call(this);\n      });\n    }\n  }\n\n  paintformatActive() {\n    return this.paintformatEl.active();\n  }\n\n  paintformatToggle() {\n    this.paintformatEl.toggle();\n  }\n\n  trigger(type) {\n    this[`${type}El`].click();\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.reset();\n  }\n\n  reset() {\n    if (this.isHide) return;\n    const { data } = this;\n    const style = data.getSelectedCellStyle();\n    // console.log('canUndo:', data.canUndo());\n    this.undoEl.setState(!data.canUndo());\n    this.redoEl.setState(!data.canRedo());\n    this.mergeEl.setState(data.canUnmerge(), !data.selector.multiple());\n    this.autofilterEl.setState(!data.canAutofilter());\n    // this.mergeEl.disabled();\n    // console.log('selectedCell:', style, cell);\n    const { font, format } = style;\n    this.formatEl.setState(format);\n    this.fontEl.setState(font.name);\n    this.fontSizeEl.setState(font.size);\n    this.boldEl.setState(font.bold);\n    this.italicEl.setState(font.italic);\n    this.underlineEl.setState(style.underline);\n    this.strikeEl.setState(style.strike);\n    this.textColorEl.setState(style.color);\n    this.fillColorEl.setState(style.bgcolor);\n    this.alignEl.setState(style.align);\n    this.valignEl.setState(style.valign);\n    this.textwrapEl.setState(style.textwrap);\n    // console.log('freeze is Active:', data.freezeIsActive());\n    this.freezeEl.setState(data.freezeIsActive());\n  }\n}\n","/* global document */\n/* global window */\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\nimport { bind, unbind } from './event';\n\nexport default class Modal {\n  constructor(title, content, width = '600px') {\n    this.title = title;\n    this.el = h('div', `${cssPrefix}-modal`).css('width', width).children(\n      h('div', `${cssPrefix}-modal-header`).children(\n        new Icon('close').on('click.stop', () => this.hide()),\n        this.title,\n      ),\n      h('div', `${cssPrefix}-modal-content`).children(...content),\n    ).hide();\n  }\n\n  show() {\n    // dimmer\n    this.dimmer = h('div', `${cssPrefix}-dimmer active`);\n    document.body.appendChild(this.dimmer.el);\n    const { width, height } = this.el.show().box();\n    const { clientHeight, clientWidth } = document.documentElement;\n    this.el.offset({\n      left: (clientWidth - width) / 2,\n      top: (clientHeight - height) / 3,\n    });\n    window.xkeydownEsc = (evt) => {\n      if (evt.keyCode === 27) {\n        this.hide();\n      }\n    };\n    bind(window, 'keydown', window.xkeydownEsc);\n  }\n\n  hide() {\n    this.el.hide();\n    document.body.removeChild(this.dimmer.el);\n    unbind(window, 'keydown', window.xkeydownEsc);\n    delete window.xkeydownEsc;\n  }\n}\n","import { h } from './element';\nimport Suggest from './suggest';\nimport { cssPrefix } from '../config';\n\nexport default class FormSelect {\n  constructor(key, items, width, getTitle = it => it, change = () => {}) {\n    this.key = key;\n    this.getTitle = getTitle;\n    this.vchange = () => {};\n    this.el = h('div', `${cssPrefix}-form-select`);\n    this.suggest = new Suggest(items.map(it => ({ key: it, title: this.getTitle(it) })), (it) => {\n      this.itemClick(it.key);\n      change(it.key);\n      this.vchange(it.key);\n    }, width, this.el);\n    this.el.children(\n      this.itemEl = h('div', 'input-text').html(this.getTitle(key)),\n      this.suggest.el,\n    ).on('click', () => this.show());\n  }\n\n  show() {\n    this.suggest.search('');\n  }\n\n  itemClick(it) {\n    this.key = it;\n    this.itemEl.html(this.getTitle(it));\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.key = v;\n      this.itemEl.html(this.getTitle(v));\n      return this;\n    }\n    return this.key;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nconst patterns = {\n  number: /(^\\d+$)|(^\\d+(\\.\\d{0,4})?$)/,\n  date: /^\\d{4}-\\d{1,2}-\\d{1,2}$/,\n};\n\n// rule: { required: false, type, pattern: // }\nexport default class FormField {\n  constructor(input, rule, label, labelWidth) {\n    this.label = '';\n    this.rule = rule;\n    if (label) {\n      this.label = h('label', 'label').css('width', `${labelWidth}px`).html(label);\n    }\n    this.tip = h('div', 'tip').child('tip').hide();\n    this.input = input;\n    this.input.vchange = () => this.validate();\n    this.el = h('div', `${cssPrefix}-form-field`)\n      .children(this.label, input.el, this.tip);\n  }\n\n  isShow() {\n    return this.el.css('display') !== 'none';\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n\n  hint(hint) {\n    this.input.hint(hint);\n  }\n\n  validate() {\n    const {\n      input, rule, tip, el,\n    } = this;\n    const v = input.val();\n    if (rule.required) {\n      if (/^\\s*$/.test(v)) {\n        tip.html(t('validation.required'));\n        el.addClass('error');\n        return false;\n      }\n    }\n    if (rule.type || rule.pattern) {\n      const pattern = rule.pattern || patterns[rule.type];\n      if (!pattern.test(v)) {\n        tip.html(t('validation.notMatch'));\n        el.addClass('error');\n        return false;\n      }\n    }\n    el.removeClass('error');\n    return true;\n  }\n}\n","import Modal from './modal';\nimport FormInput from './form_input';\nimport FormSelect from './form_select';\nimport FormField from './form_field';\nimport Button from './button';\nimport { t } from '../locale/locale';\nimport { h } from './element';\nimport { cssPrefix } from '../config';\n\nconst fieldLabelWidth = 100;\n\nexport default class ModalValidation extends Modal {\n  constructor() {\n    const mf = new FormField(\n      new FormSelect('cell',\n        ['cell'], // cell|row|column\n        '100%',\n        it => t(`dataValidation.modeType.${it}`)),\n      { required: true },\n      `${t('dataValidation.range')}:`,\n      fieldLabelWidth,\n    );\n    const rf = new FormField(\n      new FormInput('120px', 'E3 or E3:F12'),\n      { required: true, pattern: /^([A-Z]{1,2}[1-9]\\d*)(:[A-Z]{1,2}[1-9]\\d*)?$/ },\n    );\n    const cf = new FormField(\n      new FormSelect('list',\n        ['list', 'number', 'date', 'phone', 'email'],\n        '100%',\n        it => t(`dataValidation.type.${it}`),\n        it => this.criteriaSelected(it)),\n      { required: true },\n      `${t('dataValidation.criteria')}:`,\n      fieldLabelWidth,\n    );\n\n    // operator\n    const of = new FormField(\n      new FormSelect('be',\n        ['be', 'nbe', 'eq', 'neq', 'lt', 'lte', 'gt', 'gte'],\n        '160px',\n        it => t(`dataValidation.operator.${it}`),\n        it => this.criteriaOperatorSelected(it)),\n      { required: true },\n    ).hide();\n    // min, max\n    const minvf = new FormField(\n      new FormInput('70px', '10'),\n      { required: true },\n    ).hide();\n    const maxvf = new FormField(\n      new FormInput('70px', '100'),\n      { required: true, type: 'number' },\n    ).hide();\n    // value\n    const svf = new FormField(\n      new FormInput('120px', 'a,b,c'),\n      { required: true },\n    );\n    const vf = new FormField(\n      new FormInput('70px', '10'),\n      { required: true, type: 'number' },\n    ).hide();\n\n    super(t('contextmenu.validation'), [\n      h('div', `${cssPrefix}-form-fields`).children(\n        mf.el,\n        rf.el,\n      ),\n      h('div', `${cssPrefix}-form-fields`).children(\n        cf.el,\n        of.el,\n        minvf.el,\n        maxvf.el,\n        vf.el,\n        svf.el,\n      ),\n      h('div', `${cssPrefix}-buttons`).children(\n        new Button('cancel').on('click', () => this.btnClick('cancel')),\n        new Button('remove').on('click', () => this.btnClick('remove')),\n        new Button('save', 'primary').on('click', () => this.btnClick('save')),\n      ),\n    ]);\n    this.mf = mf;\n    this.rf = rf;\n    this.cf = cf;\n    this.of = of;\n    this.minvf = minvf;\n    this.maxvf = maxvf;\n    this.vf = vf;\n    this.svf = svf;\n    this.change = () => {};\n  }\n\n  showVf(it) {\n    const hint = it === 'date' ? '2018-11-12' : '10';\n    const { vf } = this;\n    vf.input.hint(hint);\n    vf.show();\n  }\n\n  criteriaSelected(it) {\n    const {\n      of, minvf, maxvf, vf, svf,\n    } = this;\n    if (it === 'date' || it === 'number') {\n      of.show();\n      minvf.rule.type = it;\n      maxvf.rule.type = it;\n      if (it === 'date') {\n        minvf.hint('2018-11-12');\n        maxvf.hint('2019-11-12');\n      } else {\n        minvf.hint('10');\n        maxvf.hint('100');\n      }\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n      svf.hide();\n    } else {\n      if (it === 'list') {\n        svf.show();\n      } else {\n        svf.hide();\n      }\n      vf.hide();\n      of.hide();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  criteriaOperatorSelected(it) {\n    if (!it) return;\n    const {\n      minvf, maxvf, vf,\n    } = this;\n    if (it === 'be' || it === 'nbe') {\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n    } else {\n      const type = this.cf.val();\n      vf.rule.type = type;\n      if (type === 'date') {\n        vf.hint('2018-11-12');\n      } else {\n        vf.hint('10');\n      }\n      vf.show();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  btnClick(action) {\n    if (action === 'cancel') {\n      this.hide();\n    } else if (action === 'remove') {\n      this.change('remove');\n      this.hide();\n    } else if (action === 'save') {\n      // validate\n      const attrs = ['mf', 'rf', 'cf', 'of', 'svf', 'vf', 'minvf', 'maxvf'];\n      for (let i = 0; i < attrs.length; i += 1) {\n        const field = this[attrs[i]];\n        // console.log('field:', field);\n        if (field.isShow()) {\n          // console.log('it:', it);\n          if (!field.validate()) return;\n        }\n      }\n\n      const mode = this.mf.val();\n      const ref = this.rf.val();\n      const type = this.cf.val();\n      const operator = this.of.val();\n      let value = this.svf.val();\n      if (type === 'number' || type === 'date') {\n        if (operator === 'be' || operator === 'nbe') {\n          value = [this.minvf.val(), this.maxvf.val()];\n        } else {\n          value = this.vf.val();\n        }\n      }\n      // console.log(mode, ref, type, operator, value);\n      this.change('save',\n        mode,\n        ref,\n        {\n          type, operator, required: false, value,\n        });\n      this.hide();\n    }\n  }\n\n  // validation: { mode, ref, validator }\n  setValue(v) {\n    if (v) {\n      const {\n        mf, rf, cf, of, svf, vf, minvf, maxvf,\n      } = this;\n      const {\n        mode, ref, validator,\n      } = v;\n      const {\n        type, operator, value,\n      } = validator || { type: 'list' };\n      mf.val(mode || 'cell');\n      rf.val(ref);\n      cf.val(type);\n      of.val(operator);\n      if (Array.isArray(value)) {\n        minvf.val(value[0]);\n        maxvf.val(value[1]);\n      } else {\n        svf.val(value || '');\n        vf.val(value || '');\n      }\n      this.criteriaSelected(type);\n      this.criteriaOperatorSelected(operator);\n    }\n    this.show();\n  }\n}\n","import { h } from './element';\nimport Button from './button';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nfunction buildMenu(clsName) {\n  return h('div', `${cssPrefix}-item ${clsName}`);\n}\n\nfunction buildSortItem(it) {\n  return buildMenu('state').child(t(`sort.${it}`))\n    .on('click.stop', () => this.itemClick(it));\n}\n\nfunction buildFilterBody(items) {\n  const { filterbEl, filterValues } = this;\n  filterbEl.html('');\n  const itemKeys = Object.keys(items);\n  itemKeys.forEach((it, index) => {\n    const cnt = items[it];\n    const active = filterValues.includes(it) ? 'checked' : '';\n    filterbEl.child(h('div', `${cssPrefix}-item state ${active}`)\n      .on('click.stop', () => this.filterClick(index, it))\n      .children(it === '' ? t('filter.empty') : it, h('div', 'label').html(`(${cnt})`)));\n  });\n}\n\nfunction resetFilterHeader() {\n  const { filterhEl, filterValues, values } = this;\n  filterhEl.html(`${filterValues.length} / ${values.length}`);\n  filterhEl.checked(filterValues.length === values.length);\n}\n\nexport default class SortFilter {\n  constructor() {\n    this.filterbEl = h('div', `${cssPrefix}-body`);\n    this.filterhEl = h('div', `${cssPrefix}-header state`).on('click.stop', () => this.filterClick(0, 'all'));\n    this.el = h('div', `${cssPrefix}-sort-filter`).children(\n      this.sortAscEl = buildSortItem.call(this, 'asc'),\n      this.sortDescEl = buildSortItem.call(this, 'desc'),\n      buildMenu('divider'),\n      h('div', `${cssPrefix}-filter`).children(\n        this.filterhEl,\n        this.filterbEl,\n      ),\n      h('div', `${cssPrefix}-buttons`).children(\n        new Button('cancel').on('click', () => this.btnClick('cancel')),\n        new Button('ok', 'primary').on('click', () => this.btnClick('ok')),\n      ),\n    ).hide();\n    // this.setFilters(['test1', 'test2', 'text3']);\n    this.ci = null;\n    this.sortDesc = null;\n    this.values = null;\n    this.filterValues = [];\n  }\n\n  btnClick(it) {\n    if (it === 'ok') {\n      const { ci, sort, filterValues } = this;\n      if (this.ok) {\n        this.ok(ci, sort, 'in', filterValues);\n      }\n    }\n    this.hide();\n  }\n\n  itemClick(it) {\n    // console.log('it:', it);\n    this.sort = it;\n    const { sortAscEl, sortDescEl } = this;\n    sortAscEl.checked(it === 'asc');\n    sortDescEl.checked(it === 'desc');\n  }\n\n  filterClick(index, it) {\n    // console.log('index:', index, it);\n    const { filterbEl, filterValues, values } = this;\n    const children = filterbEl.children();\n    if (it === 'all') {\n      if (children.length === filterValues.length) {\n        this.filterValues = [];\n        children.forEach(i => h(i).checked(false));\n      } else {\n        this.filterValues = Array.from(values);\n        children.forEach(i => h(i).checked(true));\n      }\n    } else {\n      const checked = h(children[index]).toggle('checked');\n      if (checked) {\n        filterValues.push(it);\n      } else {\n        filterValues.splice(filterValues.findIndex(i => i === it), 1);\n      }\n    }\n    resetFilterHeader.call(this);\n  }\n\n  // v: autoFilter\n  // items: {value: cnt}\n  // sort { ci, order }\n  set(ci, items, filter, sort) {\n    this.ci = ci;\n    const { sortAscEl, sortDescEl } = this;\n    if (sort !== null) {\n      this.sort = sort.order;\n      sortAscEl.checked(sort.asc());\n      sortDescEl.checked(sort.desc());\n    } else {\n      this.sortDesc = null;\n      sortAscEl.checked(false);\n      sortDescEl.checked(false);\n    }\n    // this.setFilters(items, filter);\n    this.values = Object.keys(items);\n    this.filterValues = filter ? Array.from(filter.value) : Object.keys(items);\n    buildFilterBody.call(this, items, filter);\n    resetFilterHeader.call(this);\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    let tindex = 1;\n    bindClickoutside(this.el, () => {\n      if (tindex <= 0) {\n        this.hide();\n      }\n      tindex -= 1;\n    });\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    unbindClickoutside(this.el);\n  }\n}\n","/* global document */\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nexport function xtoast(title, content) {\n  const el = h('div', `${cssPrefix}-toast`);\n  const dimmer = h('div', `${cssPrefix}-dimmer active`);\n  const remove = () => {\n    document.body.removeChild(el.el);\n    document.body.removeChild(dimmer.el);\n  };\n\n  el.children(\n    h('div', `${cssPrefix}-toast-header`).children(\n      new Icon('close').on('click.stop', () => remove()),\n      title,\n    ),\n    h('div', `${cssPrefix}-toast-content`).html(content),\n  );\n  document.body.appendChild(el.el);\n  document.body.appendChild(dimmer.el);\n  // set offset\n  const { width, height } = el.box();\n  const { clientHeight, clientWidth } = document.documentElement;\n  el.offset({\n    left: (clientWidth - width) / 2,\n    top: (clientHeight - height) / 3,\n  });\n}\n\nexport default {};\n","/* global window */\nimport { h } from './element';\nimport {\n  bind,\n  mouseMoveUp,\n  bindTouch,\n  createEventEmitter,\n} from './event';\nimport Resizer from './resizer';\nimport Scrollbar from './scrollbar';\nimport Selector from './selector';\nimport Editor from './editor';\nimport Print from './print';\nimport ContextMenu from './contextmenu';\nimport Table from './table';\nimport Toolbar from './toolbar/index';\nimport ModalValidation from './modal_validation';\nimport SortFilter from './sort_filter';\nimport { xtoast } from './message';\nimport { cssPrefix } from '../config';\nimport { formulas } from '../core/formula';\n\n/**\n * @desc throttle fn\n * @param func function\n * @param wait Delay in milliseconds\n */\nfunction throttle(func, wait) {\n  let timeout;\n  return (...arg) => {\n    const that = this;\n    const args = arg;\n    if (!timeout) {\n      timeout = setTimeout(() => {\n        timeout = null;\n        func.apply(that, args);\n      }, wait);\n    }\n  };\n}\n\nfunction scrollbarMove() {\n  const {\n    data, verticalScrollbar, horizontalScrollbar,\n  } = this;\n  const {\n    l, t, left, top, width, height,\n  } = data.getSelectedRect();\n  const tableOffset = this.getTableOffset();\n  // console.log(',l:', l, ', left:', left, ', tOffset.left:', tableOffset.width);\n  if (Math.abs(left) + width > tableOffset.width) {\n    horizontalScrollbar.move({ left: l + width - tableOffset.width });\n  } else {\n    const fsw = data.freezeTotalWidth();\n    if (left < fsw) {\n      horizontalScrollbar.move({ left: l - 1 - fsw });\n    }\n  }\n  // console.log('top:', top, ', height:', height, ', tof.height:', tableOffset.height);\n  if (Math.abs(top) + height > tableOffset.height) {\n    verticalScrollbar.move({ top: t + height - tableOffset.height - 1 });\n  } else {\n    const fsh = data.freezeTotalHeight();\n    if (top < fsh) {\n      verticalScrollbar.move({ top: t - 1 - fsh });\n    }\n  }\n}\n\nfunction selectorSet(multiple, ri, ci, indexesUpdated = true, moving = false) {\n  if (ri === -1 && ci === -1) return;\n  const {\n    table, selector, toolbar, data,\n    contextMenu,\n  } = this;\n  const cell = data.getCell(ri, ci);\n  if (multiple) {\n    selector.setEnd(ri, ci, moving);\n    this.trigger('cells-selected', cell, selector.range);\n  } else {\n    // trigger click event\n    selector.set(ri, ci, indexesUpdated);\n    this.trigger('cell-selected', cell, ri, ci);\n  }\n  contextMenu.setMode((ri === -1 || ci === -1) ? 'row-col' : 'range');\n  toolbar.reset();\n  table.render();\n}\n\n// multiple: boolean\n// direction: left | right | up | down | row-first | row-last | col-first | col-last\nfunction selectorMove(multiple, direction) {\n  const {\n    selector, data,\n  } = this;\n  const { rows, cols } = data;\n  let [ri, ci] = selector.indexes;\n  const { eri, eci } = selector.range;\n  if (multiple) {\n    [ri, ci] = selector.moveIndexes;\n  }\n  // console.log('selector.move:', ri, ci);\n  if (direction === 'left') {\n    if (ci > 0) ci -= 1;\n  } else if (direction === 'right') {\n    if (eci !== ci) ci = eci;\n    if (ci < cols.len - 1) ci += 1;\n  } else if (direction === 'up') {\n    if (ri > 0) ri -= 1;\n  } else if (direction === 'down') {\n    if (eri !== ri) ri = eri;\n    if (ri < rows.len - 1) ri += 1;\n  } else if (direction === 'row-first') {\n    ci = 0;\n  } else if (direction === 'row-last') {\n    ci = cols.len - 1;\n  } else if (direction === 'col-first') {\n    ri = 0;\n  } else if (direction === 'col-last') {\n    ri = rows.len - 1;\n  }\n  if (multiple) {\n    selector.moveIndexes = [ri, ci];\n  }\n  selectorSet.call(this, multiple, ri, ci);\n  scrollbarMove.call(this);\n}\n\n// private methods\nfunction overlayerMousemove(evt) {\n  // console.log('x:', evt.offsetX, ', y:', evt.offsetY);\n  if (evt.buttons !== 0) return;\n  if (evt.target.className === `${cssPrefix}-resizer-hover`) return;\n  const { offsetX, offsetY } = evt;\n  const {\n    rowResizer, colResizer, tableEl, data,\n  } = this;\n  const { rows, cols } = data;\n  if (offsetX > cols.indexWidth && offsetY > rows.height) {\n    rowResizer.hide();\n    colResizer.hide();\n    return;\n  }\n  const tRect = tableEl.box();\n  const cRect = data.getCellRectByXY(evt.offsetX, evt.offsetY);\n  if (cRect.ri >= 0 && cRect.ci === -1) {\n    cRect.width = cols.indexWidth;\n    rowResizer.show(cRect, {\n      width: tRect.width,\n    });\n    if (rows.isHide(cRect.ri - 1)) {\n      rowResizer.showUnhide(cRect.ri);\n    } else {\n      rowResizer.hideUnhide();\n    }\n  } else {\n    rowResizer.hide();\n  }\n  if (cRect.ri === -1 && cRect.ci >= 0) {\n    cRect.height = rows.height;\n    colResizer.show(cRect, {\n      height: tRect.height,\n    });\n    if (cols.isHide(cRect.ci - 1)) {\n      colResizer.showUnhide(cRect.ci);\n    } else {\n      colResizer.hideUnhide();\n    }\n  } else {\n    colResizer.hide();\n  }\n}\n\n// let scrollThreshold = 15;\nfunction overlayerMousescroll(evt) {\n  // scrollThreshold -= 1;\n  // if (scrollThreshold > 0) return;\n  // scrollThreshold = 15;\n\n  const { verticalScrollbar, horizontalScrollbar, data } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n  // console.log('evt:::', evt.wheelDelta, evt.detail * 40);\n\n  const { rows, cols } = data;\n\n  // deltaY for vertical delta\n  const { deltaY, deltaX } = evt;\n  const loopValue = (ii, vFunc) => {\n    let i = ii;\n    let v = 0;\n    do {\n      v = vFunc(i);\n      i += 1;\n    } while (v <= 0);\n    return v;\n  };\n  // console.log('deltaX', deltaX, 'evt.detail', evt.detail);\n  // if (evt.detail) deltaY = evt.detail * 40;\n  const moveY = (vertical) => {\n    if (vertical > 0) {\n      // up\n      const ri = data.scroll.ri + 1;\n      if (ri < rows.len) {\n        const rh = loopValue(ri, i => rows.getHeight(i));\n        verticalScrollbar.move({ top: top + rh - 1 });\n      }\n    } else {\n      // down\n      const ri = data.scroll.ri - 1;\n      if (ri >= 0) {\n        const rh = loopValue(ri, i => rows.getHeight(i));\n        verticalScrollbar.move({ top: ri === 0 ? 0 : top - rh });\n      }\n    }\n  };\n\n  // deltaX for Mac horizontal scroll\n  const moveX = (horizontal) => {\n    if (horizontal > 0) {\n      // left\n      const ci = data.scroll.ci + 1;\n      if (ci < cols.len) {\n        const cw = loopValue(ci, i => cols.getWidth(i));\n        horizontalScrollbar.move({ left: left + cw - 1 });\n      }\n    } else {\n      // right\n      const ci = data.scroll.ci - 1;\n      if (ci >= 0) {\n        const cw = loopValue(ci, i => cols.getWidth(i));\n        horizontalScrollbar.move({ left: ci === 0 ? 0 : left - cw });\n      }\n    }\n  };\n  const tempY = Math.abs(deltaY);\n  const tempX = Math.abs(deltaX);\n  const temp = Math.max(tempY, tempX);\n  // console.log('event:', evt);\n  // detail for windows/mac firefox vertical scroll\n  if (/Firefox/i.test(window.navigator.userAgent)) throttle(moveY(evt.detail), 50);\n  if (temp === tempX) throttle(moveX(deltaX), 50);\n  if (temp === tempY) throttle(moveY(deltaY), 50);\n}\n\nfunction overlayerTouch(direction, distance) {\n  const { verticalScrollbar, horizontalScrollbar } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n\n  if (direction === 'left' || direction === 'right') {\n    horizontalScrollbar.move({ left: left - distance });\n  } else if (direction === 'up' || direction === 'down') {\n    verticalScrollbar.move({ top: top - distance });\n  }\n}\n\nfunction verticalScrollbarSet() {\n  const { data, verticalScrollbar } = this;\n  const { height } = this.getTableOffset();\n  const erth = data.exceptRowTotalHeight(0, -1);\n  // console.log('erth:', erth);\n  verticalScrollbar.set(height, data.rows.totalHeight() - erth);\n}\n\nfunction horizontalScrollbarSet() {\n  const { data, horizontalScrollbar } = this;\n  const { width } = this.getTableOffset();\n  if (data) {\n    horizontalScrollbar.set(width, data.cols.totalWidth());\n  }\n}\n\nfunction sheetFreeze() {\n  const {\n    selector, data, editor,\n  } = this;\n  const [ri, ci] = data.freeze;\n  if (ri > 0 || ci > 0) {\n    const fwidth = data.freezeTotalWidth();\n    const fheight = data.freezeTotalHeight();\n    editor.setFreezeLengths(fwidth, fheight);\n  }\n  selector.resetAreaOffset();\n}\n\nfunction sheetReset() {\n  const {\n    tableEl,\n    overlayerEl,\n    overlayerCEl,\n    table,\n    toolbar,\n    selector,\n    el,\n  } = this;\n  const tOffset = this.getTableOffset();\n  const vRect = this.getRect();\n  tableEl.attr(vRect);\n  overlayerEl.offset(vRect);\n  overlayerCEl.offset(tOffset);\n  el.css('width', `${vRect.width}px`);\n  verticalScrollbarSet.call(this);\n  horizontalScrollbarSet.call(this);\n  sheetFreeze.call(this);\n  table.render();\n  toolbar.reset();\n  selector.reset();\n}\n\nfunction clearClipboard() {\n  const { data, selector } = this;\n  data.clearClipboard();\n  selector.hideClipboard();\n}\n\nfunction copy(evt) {\n  const { data, selector } = this;\n  if (data.settings.mode === 'read') return;\n  data.copy();\n  data.copyToSystemClipboard(evt);\n  selector.showClipboard();\n}\n\nfunction cut() {\n  const { data, selector } = this;\n  if (data.settings.mode === 'read') return;\n  data.cut();\n  selector.showClipboard();\n}\n\nfunction paste(what, evt) {\n  const { data } = this;\n  if (data.settings.mode === 'read') return;\n  if (data.clipboard.isClear()) {\n    const resetSheet = () => sheetReset.call(this);\n    const eventTrigger = (rows) => {\n      this.trigger('pasted-clipboard', rows);\n    };\n    // pastFromSystemClipboard is async operation, need to tell it how to reset sheet and trigger event after it finishes\n    // pasting content from system clipboard\n    data.pasteFromSystemClipboard(resetSheet, eventTrigger);\n  } else if (data.paste(what, msg => xtoast('Tip', msg))) {\n    sheetReset.call(this);\n  } else if (evt) {\n    const cdata = evt.clipboardData.getData('text/plain');\n    this.data.pasteFromText(cdata);\n    sheetReset.call(this);\n  }\n}\n\nfunction hideRowsOrCols() {\n  this.data.hideRowsOrCols();\n  sheetReset.call(this);\n}\n\nfunction unhideRowsOrCols(type, index) {\n  this.data.unhideRowsOrCols(type, index);\n  sheetReset.call(this);\n}\n\nfunction autofilter() {\n  const { data } = this;\n  data.autofilter();\n  sheetReset.call(this);\n}\n\nfunction toolbarChangePaintformatPaste() {\n  const { toolbar } = this;\n  if (toolbar.paintformatActive()) {\n    paste.call(this, 'format');\n    clearClipboard.call(this);\n    toolbar.paintformatToggle();\n  }\n}\n\nfunction overlayerMousedown(evt) {\n  // console.log(':::::overlayer.mousedown:', evt.detail, evt.button, evt.buttons, evt.shiftKey);\n  // console.log('evt.target.className:', evt.target.className);\n  const {\n    selector, data, table, sortFilter,\n  } = this;\n  const { offsetX, offsetY } = evt;\n  const isAutofillEl = evt.target.className === `${cssPrefix}-selector-corner`;\n  const cellRect = data.getCellRectByXY(offsetX, offsetY);\n  const {\n    left, top, width, height,\n  } = cellRect;\n  let { ri, ci } = cellRect;\n  // sort or filter\n  const { autoFilter } = data;\n  if (autoFilter.includes(ri, ci)) {\n    if (left + width - 20 < offsetX && top + height - 20 < offsetY) {\n      const items = autoFilter.items(ci, (r, c) => data.rows.getCell(r, c));\n      sortFilter.hide();\n      sortFilter.set(ci, items, autoFilter.getFilter(ci), autoFilter.getSort(ci));\n      sortFilter.setOffset({ left, top: top + height + 2 });\n      return;\n    }\n  }\n\n  // console.log('ri:', ri, ', ci:', ci);\n  if (!evt.shiftKey) {\n    // console.log('selectorSetStart:::');\n    if (isAutofillEl) {\n      selector.showAutofill(ri, ci);\n    } else {\n      selectorSet.call(this, false, ri, ci);\n    }\n\n    // mouse move up\n    mouseMoveUp(window, (e) => {\n      // console.log('mouseMoveUp::::');\n      ({ ri, ci } = data.getCellRectByXY(e.offsetX, e.offsetY));\n      if (isAutofillEl) {\n        selector.showAutofill(ri, ci);\n      } else if (e.buttons === 1 && !e.shiftKey) {\n        selectorSet.call(this, true, ri, ci, true, true);\n      }\n    }, () => {\n      if (isAutofillEl && selector.arange && data.settings.mode !== 'read') {\n        if (data.autofill(selector.arange, 'all', msg => xtoast('Tip', msg))) {\n          table.render();\n        }\n      }\n      selector.hideAutofill();\n      toolbarChangePaintformatPaste.call(this);\n    });\n  }\n\n  if (!isAutofillEl && evt.buttons === 1) {\n    if (evt.shiftKey) {\n      // console.log('shiftKey::::');\n      selectorSet.call(this, true, ri, ci);\n    }\n  }\n}\n\nfunction editorSetOffset() {\n  const { editor, data } = this;\n  const sOffset = data.getSelectedRect();\n  const tOffset = this.getTableOffset();\n  let sPosition = 'top';\n  // console.log('sOffset:', sOffset, ':', tOffset);\n  if (sOffset.top > tOffset.height / 2) {\n    sPosition = 'bottom';\n  }\n  editor.setOffset(sOffset, sPosition);\n}\n\nfunction editorSet() {\n  const { editor, data } = this;\n  if (data.settings.mode === 'read') return;\n  editorSetOffset.call(this);\n  editor.setCell(data.getSelectedCell(), data.getSelectedValidator());\n  clearClipboard.call(this);\n}\n\nfunction verticalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrolly(distance, () => {\n    selector.resetBRLAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction horizontalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrollx(distance, () => {\n    selector.resetBRTAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction rowResizerFinished(cRect, distance) {\n  const { ri } = cRect;\n  const { table, selector, data } = this;\n  const { sri, eri } = selector.range;\n  if (ri >= sri && ri <= eri) {\n    for (let row = sri; row <= eri; row += 1) {\n      data.rows.setHeight(row, distance);\n    }\n  } else {\n    data.rows.setHeight(ri, distance);\n  }\n\n  table.render();\n  selector.resetAreaOffset();\n  verticalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction colResizerFinished(cRect, distance) {\n  const { ci } = cRect;\n  const { table, selector, data } = this;\n  const { sci, eci } = selector.range;\n  if (ci >= sci && ci <= eci) {\n    for (let col = sci; col <= eci; col += 1) {\n      data.cols.setWidth(col, distance);\n    }\n  } else {\n    data.cols.setWidth(ci, distance);\n  }\n\n  table.render();\n  selector.resetAreaOffset();\n  horizontalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction dataSetCellText(text, state = 'finished') {\n  const { data, table } = this;\n  // const [ri, ci] = selector.indexes;\n  if (data.settings.mode === 'read') return;\n  data.setSelectedCellText(text, state);\n  const { ri, ci } = data.selector;\n  if (state === 'finished') {\n    table.render();\n  } else {\n    this.trigger('cell-edited', text, ri, ci);\n  }\n}\n\nfunction insertDeleteRowColumn(type) {\n  const { data } = this;\n  if (data.settings.mode === 'read') return;\n  if (type === 'insert-row') {\n    data.insert('row');\n  } else if (type === 'delete-row') {\n    data.delete('row');\n  } else if (type === 'insert-column') {\n    data.insert('column');\n  } else if (type === 'delete-column') {\n    data.delete('column');\n  } else if (type === 'delete-cell') {\n    data.deleteCell();\n  } else if (type === 'delete-cell-format') {\n    data.deleteCell('format');\n  } else if (type === 'delete-cell-text') {\n    data.deleteCell('text');\n  } else if (type === 'cell-printable') {\n    data.setSelectedCellAttr('printable', true);\n  } else if (type === 'cell-non-printable') {\n    data.setSelectedCellAttr('printable', false);\n  } else if (type === 'cell-editable') {\n    data.setSelectedCellAttr('editable', true);\n  } else if (type === 'cell-non-editable') {\n    data.setSelectedCellAttr('editable', false);\n  }\n  clearClipboard.call(this);\n  sheetReset.call(this);\n}\n\nfunction toolbarChange(type, value) {\n  const { data } = this;\n  if (type === 'undo') {\n    this.undo();\n  } else if (type === 'redo') {\n    this.redo();\n  } else if (type === 'print') {\n    this.print.preview();\n  } else if (type === 'paintformat') {\n    if (value === true) copy.call(this);\n    else clearClipboard.call(this);\n  } else if (type === 'clearformat') {\n    insertDeleteRowColumn.call(this, 'delete-cell-format');\n  } else if (type === 'link') {\n    // link\n  } else if (type === 'chart') {\n    // chart\n  } else if (type === 'autofilter') {\n    // filter\n    autofilter.call(this);\n  } else if (type === 'freeze') {\n    if (value) {\n      const { ri, ci } = data.selector;\n      this.freeze(ri, ci);\n    } else {\n      this.freeze(0, 0);\n    }\n  } else {\n    data.setSelectedCellAttr(type, value);\n    if (type === 'formula' && !data.selector.multiple()) {\n      editorSet.call(this);\n    }\n    sheetReset.call(this);\n  }\n}\n\nfunction sortFilterChange(ci, order, operator, value) {\n  // console.log('sort:', sortDesc, operator, value);\n  this.data.setAutoFilter(ci, order, operator, value);\n  sheetReset.call(this);\n}\n\nfunction sheetInitEvents() {\n  const {\n    selector,\n    overlayerEl,\n    rowResizer,\n    colResizer,\n    verticalScrollbar,\n    horizontalScrollbar,\n    editor,\n    contextMenu,\n    toolbar,\n    modalValidation,\n    sortFilter,\n  } = this;\n  // overlayer\n  overlayerEl\n    .on('mousemove', (evt) => {\n      overlayerMousemove.call(this, evt);\n    })\n    .on('mousedown', (evt) => {\n      editor.clear();\n      contextMenu.hide();\n      // the left mouse button: mousedown  mouseup  click\n      // the right mouse button: mousedown  contenxtmenu  mouseup\n      if (evt.buttons === 2) {\n        if (this.data.xyInSelectedRect(evt.offsetX, evt.offsetY)) {\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        } else {\n          overlayerMousedown.call(this, evt);\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        }\n        evt.stopPropagation();\n      } else if (evt.detail === 2) {\n        editorSet.call(this);\n      } else {\n        overlayerMousedown.call(this, evt);\n      }\n    })\n    .on('mousewheel.stop', (evt) => {\n      overlayerMousescroll.call(this, evt);\n    })\n    .on('mouseout', (evt) => {\n      const { offsetX, offsetY } = evt;\n      if (offsetY <= 0) colResizer.hide();\n      if (offsetX <= 0) rowResizer.hide();\n    });\n\n  selector.inputChange = (v) => {\n    dataSetCellText.call(this, v, 'input');\n    editorSet.call(this);\n  };\n\n  // slide on mobile\n  bindTouch(overlayerEl.el, {\n    move: (direction, d) => {\n      overlayerTouch.call(this, direction, d);\n    },\n  });\n\n  // toolbar change\n  toolbar.change = (type, value) => toolbarChange.call(this, type, value);\n\n  // sort filter ok\n  sortFilter.ok = (ci, order, o, v) => sortFilterChange.call(this, ci, order, o, v);\n\n  // resizer finished callback\n  rowResizer.finishedFn = (cRect, distance) => {\n    rowResizerFinished.call(this, cRect, distance);\n  };\n  colResizer.finishedFn = (cRect, distance) => {\n    colResizerFinished.call(this, cRect, distance);\n  };\n  // resizer unhide callback\n  rowResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, 'row', index);\n  };\n  colResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, 'col', index);\n  };\n  // scrollbar move callback\n  verticalScrollbar.moveFn = (distance, evt) => {\n    verticalScrollbarMove.call(this, distance, evt);\n  };\n  horizontalScrollbar.moveFn = (distance, evt) => {\n    horizontalScrollbarMove.call(this, distance, evt);\n  };\n  // editor\n  editor.change = (state, itext) => {\n    dataSetCellText.call(this, itext, state);\n  };\n  // modal validation\n  modalValidation.change = (action, ...args) => {\n    if (action === 'save') {\n      this.data.addValidation(...args);\n    } else {\n      this.data.removeValidation();\n    }\n  };\n  // contextmenu\n  contextMenu.itemClick = (type) => {\n    // console.log('type:', type);\n    if (type === 'validation') {\n      modalValidation.setValue(this.data.getSelectedValidation());\n    } else if (type === 'copy') {\n      copy.call(this);\n    } else if (type === 'cut') {\n      cut.call(this);\n    } else if (type === 'paste') {\n      paste.call(this, 'all');\n    } else if (type === 'paste-value') {\n      paste.call(this, 'text');\n    } else if (type === 'paste-format') {\n      paste.call(this, 'format');\n    } else if (type === 'hide') {\n      hideRowsOrCols.call(this);\n    } else {\n      insertDeleteRowColumn.call(this, type);\n    }\n  };\n\n  bind(window, 'resize', () => {\n    this.reload();\n  });\n\n  bind(window, 'click', (evt) => {\n    this.focusing = overlayerEl.contains(evt.target);\n  });\n\n  bind(window, 'paste', (evt) => {\n    if (!this.focusing) return;\n    paste.call(this, 'all', evt);\n    evt.preventDefault();\n  });\n\n  bind(window, 'copy', (evt) => {\n    if (!this.focusing) return;\n    copy.call(this, evt);\n    evt.preventDefault();\n  });\n\n  // for selector\n  bind(window, 'keydown', (evt) => {\n    if (!this.focusing) return;\n    const keyCode = evt.keyCode || evt.which;\n    const {\n      key, ctrlKey, shiftKey, metaKey,\n    } = evt;\n    // console.log('keydown.evt: ', keyCode);\n    if (ctrlKey || metaKey) {\n      // const { sIndexes, eIndexes } = selector;\n      // let what = 'all';\n      // if (shiftKey) what = 'text';\n      // if (altKey) what = 'format';\n      switch (keyCode) {\n        case 90:\n          // undo: ctrl + z\n          this.undo();\n          evt.preventDefault();\n          break;\n        case 89:\n          // redo: ctrl + y\n          this.redo();\n          evt.preventDefault();\n          break;\n        case 67:\n          // ctrl + c\n          // => copy\n          // copy.call(this);\n          // evt.preventDefault();\n          break;\n        case 88:\n          // ctrl + x\n          cut.call(this);\n          evt.preventDefault();\n          break;\n        case 85:\n          // ctrl + u\n          toolbar.trigger('underline');\n          evt.preventDefault();\n          break;\n        case 86:\n          // ctrl + v\n          // => paste\n          // evt.preventDefault();\n          break;\n        case 37:\n          // ctrl + left\n          selectorMove.call(this, shiftKey, 'row-first');\n          evt.preventDefault();\n          break;\n        case 38:\n          // ctrl + up\n          selectorMove.call(this, shiftKey, 'col-first');\n          evt.preventDefault();\n          break;\n        case 39:\n          // ctrl + right\n          selectorMove.call(this, shiftKey, 'row-last');\n          evt.preventDefault();\n          break;\n        case 40:\n          // ctrl + down\n          selectorMove.call(this, shiftKey, 'col-last');\n          evt.preventDefault();\n          break;\n        case 32:\n          // ctrl + space, all cells in col\n          selectorSet.call(this, false, -1, this.data.selector.ci, false);\n          evt.preventDefault();\n          break;\n        case 66:\n          // ctrl + B\n          toolbar.trigger('bold');\n          break;\n        case 73:\n          // ctrl + I\n          toolbar.trigger('italic');\n          break;\n        default:\n          break;\n      }\n    } else {\n      // console.log('evt.keyCode:', evt.keyCode);\n      switch (keyCode) {\n        case 32:\n          if (shiftKey) {\n            // shift + space, all cells in row\n            selectorSet.call(this, false, this.data.selector.ri, -1, false);\n          }\n          break;\n        case 27: // esc\n          contextMenu.hide();\n          clearClipboard.call(this);\n          break;\n        case 37: // left\n          selectorMove.call(this, shiftKey, 'left');\n          evt.preventDefault();\n          break;\n        case 38: // up\n          selectorMove.call(this, shiftKey, 'up');\n          evt.preventDefault();\n          break;\n        case 39: // right\n          selectorMove.call(this, shiftKey, 'right');\n          evt.preventDefault();\n          break;\n        case 40: // down\n          selectorMove.call(this, shiftKey, 'down');\n          evt.preventDefault();\n          break;\n        case 9: // tab\n          editor.clear();\n          // shift + tab => move left\n          // tab => move right\n          selectorMove.call(this, false, shiftKey ? 'left' : 'right');\n          evt.preventDefault();\n          break;\n        case 13: // enter\n          editor.clear();\n          // shift + enter => move up\n          // enter => move down\n          selectorMove.call(this, false, shiftKey ? 'up' : 'down');\n          evt.preventDefault();\n          break;\n        case 8: // backspace\n          insertDeleteRowColumn.call(this, 'delete-cell-text');\n          evt.preventDefault();\n          break;\n        default:\n          break;\n      }\n\n      if (key === 'Delete') {\n        insertDeleteRowColumn.call(this, 'delete-cell-text');\n        evt.preventDefault();\n      } else if ((keyCode >= 65 && keyCode <= 90)\n        || (keyCode >= 48 && keyCode <= 57)\n        || (keyCode >= 96 && keyCode <= 105)\n        || evt.key === '='\n      ) {\n        dataSetCellText.call(this, evt.key, 'input');\n        editorSet.call(this);\n      } else if (keyCode === 113) {\n        // F2\n        editorSet.call(this);\n      }\n    }\n  });\n}\n\nexport default class Sheet {\n  constructor(targetEl, data) {\n    this.eventMap = createEventEmitter();\n    const { view, showToolbar, showContextmenu } = data.settings;\n    this.el = h('div', `${cssPrefix}-sheet`);\n    this.toolbar = new Toolbar(data, view.width, !showToolbar);\n    this.print = new Print(data);\n    targetEl.children(this.toolbar.el, this.el, this.print.el);\n    this.data = data;\n    // table\n    this.tableEl = h('canvas', `${cssPrefix}-table`);\n    // resizer\n    this.rowResizer = new Resizer(false, data.rows.height);\n    this.colResizer = new Resizer(true, data.cols.minWidth);\n    // scrollbar\n    this.verticalScrollbar = new Scrollbar(true);\n    this.horizontalScrollbar = new Scrollbar(false);\n    // editor\n    this.editor = new Editor(\n      formulas,\n      () => this.getTableOffset(),\n      data.rows.height,\n    );\n    // data validation\n    this.modalValidation = new ModalValidation();\n    // contextMenu\n    this.contextMenu = new ContextMenu(() => this.getRect(), !showContextmenu, this.data.settings);\n    // selector\n    this.selector = new Selector(data);\n    this.overlayerCEl = h('div', `${cssPrefix}-overlayer-content`)\n      .children(\n        this.editor.el,\n        this.selector.el,\n      );\n    this.overlayerEl = h('div', `${cssPrefix}-overlayer`)\n      .child(this.overlayerCEl);\n    // sortFilter\n    this.sortFilter = new SortFilter();\n    // root element\n    this.el.children(\n      this.tableEl,\n      this.overlayerEl.el,\n      this.rowResizer.el,\n      this.colResizer.el,\n      this.verticalScrollbar.el,\n      this.horizontalScrollbar.el,\n      this.contextMenu.el,\n      this.modalValidation.el,\n      this.sortFilter.el,\n    );\n    // table\n    this.table = new Table(this.tableEl.el, data);\n    sheetInitEvents.call(this);\n    sheetReset.call(this);\n    // init selector [0, 0]\n    selectorSet.call(this, false, 0, 0);\n  }\n\n  on(eventName, func) {\n    this.eventMap.on(eventName, func);\n    return this;\n  }\n\n  trigger(eventName, ...args) {\n    const { eventMap } = this;\n    eventMap.fire(eventName, args);\n  }\n\n  resetData(data) {\n    // before\n    this.editor.clear();\n    // after\n    this.data = data;\n    verticalScrollbarSet.call(this);\n    horizontalScrollbarSet.call(this);\n    this.toolbar.resetData(data);\n    this.print.resetData(data);\n    this.selector.resetData(data);\n    this.table.resetData(data);\n  }\n\n  loadData(data) {\n    this.data.setData(data);\n    sheetReset.call(this);\n    return this;\n  }\n\n  // freeze rows or cols\n  freeze(ri, ci) {\n    const { data } = this;\n    data.setFreeze(ri, ci);\n    sheetReset.call(this);\n    return this;\n  }\n\n  undo() {\n    this.data.undo();\n    sheetReset.call(this);\n  }\n\n  redo() {\n    this.data.redo();\n    sheetReset.call(this);\n  }\n\n  reload() {\n    sheetReset.call(this);\n    return this;\n  }\n\n  getRect() {\n    const { data } = this;\n    return { width: data.viewWidth(), height: data.viewHeight() };\n  }\n\n  getTableOffset() {\n    const { rows, cols } = this.data;\n    const { width, height } = this.getRect();\n    return {\n      width: width - cols.indexWidth,\n      height: height - rows.height,\n      left: cols.indexWidth,\n      top: rows.height,\n    };\n  }\n}\n","import { CellRange } from './cell_range';\n\nexport default class Selector {\n  constructor() {\n    this.range = new CellRange(0, 0, 0, 0);\n    this.ri = 0;\n    this.ci = 0;\n  }\n\n  multiple() {\n    return this.range.multiple();\n  }\n\n  setIndexes(ri, ci) {\n    this.ri = ri;\n    this.ci = ci;\n  }\n\n  size() {\n    return this.range.size();\n  }\n}\n","export default class Scroll {\n  constructor() {\n    this.x = 0; // left\n    this.y = 0; // top\n    this.ri = 0; // cell row-index\n    this.ci = 0; // cell col-index\n  }\n}\n","// import helper from '../helper';\n\nexport default class History {\n  constructor() {\n    this.undoItems = [];\n    this.redoItems = [];\n  }\n\n  add(data) {\n    this.undoItems.push(JSON.stringify(data));\n    this.redoItems = [];\n  }\n\n  canUndo() {\n    return this.undoItems.length > 0;\n  }\n\n  canRedo() {\n    return this.redoItems.length > 0;\n  }\n\n  undo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canUndo()) {\n      redoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(undoItems.pop()));\n    }\n  }\n\n  redo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canRedo()) {\n      undoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(redoItems.pop()));\n    }\n  }\n}\n","export default class Clipboard {\n  constructor() {\n    this.range = null; // CellRange\n    this.state = 'clear';\n  }\n\n  copy(cellRange) {\n    this.range = cellRange;\n    this.state = 'copy';\n    return this;\n  }\n\n  cut(cellRange) {\n    this.range = cellRange;\n    this.state = 'cut';\n    return this;\n  }\n\n  isCopy() {\n    return this.state === 'copy';\n  }\n\n  isCut() {\n    return this.state === 'cut';\n  }\n\n  isClear() {\n    return this.state === 'clear';\n  }\n\n  clear() {\n    this.range = null;\n    this.state = 'clear';\n  }\n}\n","import { CellRange } from './cell_range';\n// operator: all|eq|neq|gt|gte|lt|lte|in|be\n// value:\n//   in => []\n//   be => [min, max]\nclass Filter {\n  constructor(ci, operator, value) {\n    this.ci = ci;\n    this.operator = operator;\n    this.value = value;\n  }\n\n  set(operator, value) {\n    this.operator = operator;\n    this.value = value;\n  }\n\n  includes(v) {\n    const { operator, value } = this;\n    if (operator === 'all') {\n      return true;\n    }\n    if (operator === 'in') {\n      return value.includes(v);\n    }\n    return false;\n  }\n\n  vlength() {\n    const { operator, value } = this;\n    if (operator === 'in') {\n      return value.length;\n    }\n    return 0;\n  }\n\n  getData() {\n    const { ci, operator, value } = this;\n    return { ci, operator, value };\n  }\n}\n\nclass Sort {\n  constructor(ci, order) {\n    this.ci = ci;\n    this.order = order;\n  }\n\n  asc() {\n    return this.order === 'asc';\n  }\n\n  desc() {\n    return this.order === 'desc';\n  }\n}\n\nexport default class AutoFilter {\n  constructor() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  setData({ ref, filters, sort }) {\n    if (ref != null) {\n      this.ref = ref;\n      this.filters = filters.map(it => new Filter(it.ci, it.operator, it.value));\n      if (sort) {\n        this.sort = new Sort(sort.ci, sort.order);\n      }\n    }\n  }\n\n  getData() {\n    if (this.active()) {\n      const { ref, filters, sort } = this;\n      return { ref, filters: filters.map(it => it.getData()), sort };\n    }\n    return {};\n  }\n\n  addFilter(ci, operator, value) {\n    const filter = this.getFilter(ci);\n    if (filter == null) {\n      this.filters.push(new Filter(ci, operator, value));\n    } else {\n      filter.set(operator, value);\n    }\n  }\n\n  setSort(ci, order) {\n    this.sort = order ? new Sort(ci, order) : null;\n  }\n\n  includes(ri, ci) {\n    if (this.active()) {\n      return this.hrange().includes(ri, ci);\n    }\n    return false;\n  }\n\n  getSort(ci) {\n    const { sort } = this;\n    if (sort && sort.ci === ci) {\n      return sort;\n    }\n    return null;\n  }\n\n  getFilter(ci) {\n    const { filters } = this;\n    for (let i = 0; i < filters.length; i += 1) {\n      if (filters[i].ci === ci) {\n        return filters[i];\n      }\n    }\n    return null;\n  }\n\n  filteredRows(getCell) {\n    // const ary = [];\n    // let lastri = 0;\n    const rset = new Set();\n    const fset = new Set();\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      const { filters } = this;\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        for (let i = 0; i < filters.length; i += 1) {\n          const filter = filters[i];\n          const cell = getCell(ri, filter.ci);\n          const ctext = cell ? cell.text : '';\n          if (!filter.includes(ctext)) {\n            rset.add(ri);\n            break;\n          } else {\n            fset.add(ri);\n          }\n        }\n      }\n    }\n    return { rset, fset };\n  }\n\n  items(ci, getCell) {\n    const m = {};\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        const cell = getCell(ri, ci);\n        if (cell !== null && !/^\\s*$/.test(cell.text)) {\n          const key = cell.text;\n          const cnt = (m[key] || 0) + 1;\n          m[key] = cnt;\n        } else {\n          m[''] = (m[''] || 0) + 1;\n        }\n      }\n    }\n    return m;\n  }\n\n  range() {\n    return CellRange.valueOf(this.ref);\n  }\n\n  hrange() {\n    const r = this.range();\n    r.eri = r.sri;\n    return r;\n  }\n\n  clear() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  active() {\n    return this.ref !== null;\n  }\n}\n","import { CellRange } from './cell_range';\n\nclass Merges {\n  constructor(d = []) {\n    this._ = d;\n  }\n\n  forEach(cb) {\n    this._.forEach(cb);\n  }\n\n  deleteWithin(cr) {\n    this._ = this._.filter(it => !it.within(cr));\n  }\n\n  getFirstIncludes(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.includes(ri, ci)) {\n        return it;\n      }\n    }\n    return null;\n  }\n\n  filterIntersects(cellRange) {\n    return new Merges(this._.filter(it => it.intersects(cellRange)));\n  }\n\n  intersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        // console.log('intersects');\n        return true;\n      }\n    }\n    return false;\n  }\n\n  union(cellRange) {\n    let cr = cellRange;\n    this._.forEach((it) => {\n      if (it.intersects(cr)) {\n        cr = it.union(cr);\n      }\n    });\n    return cr;\n  }\n\n  add(cr) {\n    this.deleteWithin(cr);\n    this._.push(cr);\n  }\n\n  // type: row | column\n  shift(type, index, n, cbWithin) {\n    this._.forEach((cellRange) => {\n      const {\n        sri, sci, eri, eci,\n      } = cellRange;\n      const range = cellRange;\n      if (type === 'row') {\n        if (sri >= index) {\n          range.sri += n;\n          range.eri += n;\n        } else if (sri < index && index <= eri) {\n          range.eri += n;\n          cbWithin(sri, sci, n, 0);\n        }\n      } else if (type === 'column') {\n        if (sci >= index) {\n          range.sci += n;\n          range.eci += n;\n        } else if (sci < index && index <= eci) {\n          range.eci += n;\n          cbWithin(sri, sci, 0, n);\n        }\n      }\n    });\n  }\n\n  move(cellRange, rn, cn) {\n    this._.forEach((it1) => {\n      const it = it1;\n      if (it.within(cellRange)) {\n        it.eri += rn;\n        it.sri += rn;\n        it.sci += cn;\n        it.eci += cn;\n      }\n    });\n  }\n\n  setData(merges) {\n    this._ = merges.map(merge => CellRange.valueOf(merge));\n    return this;\n  }\n\n  getData() {\n    return this._.map(merge => merge.toString());\n  }\n}\n\nexport default {};\nexport {\n  Merges,\n};\n","import helper from './helper';\nimport { expr2expr } from './alphabet';\n\nclass Rows {\n  constructor({ len, height }) {\n    this._ = {};\n    this.len = len;\n    // default row height\n    this.height = height;\n  }\n\n  getHeight(ri) {\n    if (this.isHide(ri)) return 0;\n    const row = this.get(ri);\n    if (row && row.height) {\n      return row.height;\n    }\n    return this.height;\n  }\n\n  setHeight(ri, v) {\n    const row = this.getOrNew(ri);\n    row.height = v;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ri) {\n    const row = this.get(ri);\n    return row && row.hide;\n  }\n\n  setHide(ri, v) {\n    const row = this.getOrNew(ri);\n    if (v === true) row.hide = true;\n    else delete row.hide;\n  }\n\n  setStyle(ri, style) {\n    const row = this.getOrNew(ri);\n    row.style = style;\n  }\n\n  sumHeight(min, max, exceptSet) {\n    return helper.rangeSum(min, max, (i) => {\n      if (exceptSet && exceptSet.has(i)) return 0;\n      return this.getHeight(i);\n    });\n  }\n\n  totalHeight() {\n    return this.sumHeight(0, this.len);\n  }\n\n  get(ri) {\n    return this._[ri];\n  }\n\n  getOrNew(ri) {\n    this._[ri] = this._[ri] || { cells: {} };\n    return this._[ri];\n  }\n\n  getCell(ri, ci) {\n    const row = this.get(ri);\n    if (row !== undefined && row.cells !== undefined && row.cells[ci] !== undefined) {\n      return row.cells[ci];\n    }\n    return null;\n  }\n\n  getCellMerge(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.merge) return cell.merge;\n    return [0, 0];\n  }\n\n  getCellOrNew(ri, ci) {\n    const row = this.getOrNew(ri);\n    row.cells[ci] = row.cells[ci] || {};\n    return row.cells[ci];\n  }\n\n  // what: all | text | format\n  setCell(ri, ci, cell, what = 'all') {\n    const row = this.getOrNew(ri);\n    if (what === 'all') {\n      row.cells[ci] = cell;\n    } else if (what === 'text') {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].text = cell.text;\n    } else if (what === 'format') {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].style = cell.style;\n      if (cell.merge) row.cells[ci].merge = cell.merge;\n    }\n  }\n\n  setCellText(ri, ci, text) {\n    const cell = this.getCellOrNew(ri, ci);\n    if (cell.editable !== false) cell.text = text;\n  }\n\n  // what: all | format | text\n  copyPaste(srcCellRange, dstCellRange, what, autofill = false, cb = () => {}) {\n    const {\n      sri, sci, eri, eci,\n    } = srcCellRange;\n    const dsri = dstCellRange.sri;\n    const dsci = dstCellRange.sci;\n    const deri = dstCellRange.eri;\n    const deci = dstCellRange.eci;\n    const [rn, cn] = srcCellRange.size();\n    const [drn, dcn] = dstCellRange.size();\n\n    // console.log(srcIndexes, dstIndexes);\n    let isAdd = true;\n    let dn = 0;\n    if (deri < sri || deci < sci) {\n      isAdd = false;\n      if (deri < sri) dn = drn;\n      else dn = dcn;\n    }\n\n\n    for (let i = sri; i <= eri; i += 1) {\n      if (this._[i]) {\n        for (let j = sci; j <= eci; j += 1) {\n          if (this._[i].cells && this._[i].cells[j]) {\n            for (let ii = dsri; ii <= deri; ii += rn) {\n              for (let jj = dsci; jj <= deci; jj += cn) {\n\n\n                const nri = ii + (i - sri);\n                const nci = jj + (j - sci);\n\n                const ncell = helper.cloneDeep(this._[i].cells[j]);\n                // ncell.text\n                if (autofill && ncell && ncell.text && ncell.text.length > 0) {\n                  const { text } = ncell;\n                  let n = (jj - dsci) + (ii - dsri) + 2;\n                  if (!isAdd) {\n                    n -= dn + 1;\n                  }\n\n                  console.log(`n: ${n}`);\n\n                  if (text[0] === '=') {\n                    ncell.text = text.replace(/\\$?[a-zA-Z]{1,3}\\$?\\d+/g, (word) => {\n                      let [xn, yn] = [0, 0];\n                      // TODO: handle more cases\n                      // copy paste with more than 1 apart\n                      // dragging selecyion should still work\n                      // we should consider locking ($A$1)\n                      if (sri === dsri) {\n                        // was xn = n - 1 \n                        xn = n - 1 + (dsci-sci)-1;\n                        // xn = dsci - sci;\n                        // if (isAdd) xn -= 1;\n                      } else {\n                        yn = n - 1 + (dsri-sri)-1;\n                        // yn = dsri - sri;\n                      }\n                      if (/^\\d+$/.test(word)) return word;\n                      return expr2expr(word, xn, yn);\n                    });\n                  } else if ((rn <= 1 && cn > 1 && (dsri > eri || deri < sri))\n                    || (cn <= 1 && rn > 1 && (dsci > eci || deci < sci))\n                    || (rn <= 1 && cn <= 1)) {\n                    const result = /[\\\\.\\d]+$/.exec(text);\n                    // console.log('result:', result);\n                    if (result !== null) {\n                      const index = Number(result[0]) + n - 1;\n                      ncell.text = text.substring(0, result.index) + index;\n                    }\n                  }\n                }\n                this.setCell(nri, nci, ncell, what);\n                cb(nri, nci, ncell);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  cutPaste(srcCellRange, dstCellRange) {\n    const ncellmm = {};\n    this.each((ri) => {\n      this.eachCells(ri, (ci) => {\n        let nri = parseInt(ri, 10);\n        let nci = parseInt(ci, 10);\n        if (srcCellRange.includes(ri, ci)) {\n          nri = dstCellRange.sri + (nri - srcCellRange.sri);\n          nci = dstCellRange.sci + (nci - srcCellRange.sci);\n        }\n        ncellmm[nri] = ncellmm[nri] || { cells: {} };\n        ncellmm[nri].cells[nci] = this._[ri].cells[ci];\n      });\n    });\n    this._ = ncellmm;\n  }\n\n  // src: Array<Array<String>>\n  paste(src, dstCellRange) {\n    if (src.length <= 0) return;\n    const { sri, sci } = dstCellRange;\n    src.forEach((row, i) => {\n      const ri = sri + i;\n      row.forEach((cell, j) => {\n        const ci = sci + j;\n        this.setCellText(ri, ci, cell);\n      });\n    });\n  }\n\n  insert(sri, n = 1) {\n    const ndata = {};\n    this.each((ri, row) => {\n      let nri = parseInt(ri, 10);\n      if (nri >= sri) {\n        nri += n;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, 0, n, (x, y) => y >= sri));\n          }\n        });\n      }\n      ndata[nri] = row;\n    });\n    this._ = ndata;\n    this.len += n;\n  }\n\n  delete(sri, eri) {\n    const n = eri - sri + 1;\n    const ndata = {};\n    this.each((ri, row) => {\n      const nri = parseInt(ri, 10);\n      if (nri < sri) {\n        ndata[nri] = row;\n      } else if (ri > eri) {\n        ndata[nri - n] = row;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, 0, -n, (x, y) => y > eri));\n          }\n        });\n      }\n    });\n    this._ = ndata;\n    this.len -= n;\n  }\n\n  insertColumn(sci, n = 1) {\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        let nci = parseInt(ci, 10);\n        if (nci >= sci) {\n          nci += n;\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, n, 0, x => x >= sci));\n          }\n        }\n        rndata[nci] = cell;\n      });\n      row.cells = rndata;\n    });\n  }\n\n  deleteColumn(sci, eci) {\n    const n = eci - sci + 1;\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        const nci = parseInt(ci, 10);\n        if (nci < sci) {\n          rndata[nci] = cell;\n        } else if (nci > eci) {\n          rndata[nci - n] = cell;\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, -n, 0, x => x > eci));\n          }\n        }\n      });\n      row.cells = rndata;\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCells(cellRange, what = 'all') {\n    cellRange.each((i, j) => {\n      this.deleteCell(i, j, what);\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCell(ri, ci, what = 'all') {\n    const row = this.get(ri);\n    if (row !== null) {\n      const cell = this.getCell(ri, ci);\n      if (cell !== null && cell.editable !== false) {\n        if (what === 'all') {\n          delete row.cells[ci];\n        } else if (what === 'text') {\n          if (cell.text) delete cell.text;\n          if (cell.value) delete cell.value;\n        } else if (what === 'format') {\n          if (cell.style !== undefined) delete cell.style;\n          if (cell.merge) delete cell.merge;\n        } else if (what === 'merge') {\n          if (cell.merge) delete cell.merge;\n        }\n      }\n    }\n  }\n\n  maxCell() {\n    const keys = Object.keys(this._);\n    const ri = keys[keys.length - 1];\n    const col = this._[ri];\n    if (col) {\n      const { cells } = col;\n      const ks = Object.keys(cells);\n      const ci = ks[ks.length - 1];\n      return [parseInt(ri, 10), parseInt(ci, 10)];\n    }\n    return [0, 0];\n  }\n\n  each(cb) {\n    Object.entries(this._).forEach(([ri, row]) => {\n      cb(ri, row);\n    });\n  }\n\n  eachCells(ri, cb) {\n    if (this._[ri] && this._[ri].cells) {\n      Object.entries(this._[ri].cells).forEach(([ci, cell]) => {\n        cb(ci, cell);\n      });\n    }\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n}\n\nexport default {};\nexport {\n  Rows,\n};\n","import helper from './helper';\n\nclass Cols {\n  constructor({\n    len, width, indexWidth, minWidth,\n  }) {\n    this._ = {};\n    this.len = len;\n    this.width = width;\n    this.indexWidth = indexWidth;\n    this.minWidth = minWidth;\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n\n  getWidth(i) {\n    if (this.isHide(i)) return 0;\n    const col = this._[i];\n    if (col && col.width) {\n      return col.width;\n    }\n    return this.width;\n  }\n\n  getOrNew(ci) {\n    this._[ci] = this._[ci] || {};\n    return this._[ci];\n  }\n\n  setWidth(ci, width) {\n    const col = this.getOrNew(ci);\n    col.width = width;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ci) {\n    const col = this._[ci];\n    return col && col.hide;\n  }\n\n  setHide(ci, v) {\n    const col = this.getOrNew(ci);\n    if (v === true) col.hide = true;\n    else delete col.hide;\n  }\n\n  setStyle(ci, style) {\n    const col = this.getOrNew(ci);\n    col.style = style;\n  }\n\n  sumWidth(min, max) {\n    return helper.rangeSum(min, max, i => this.getWidth(i));\n  }\n\n  totalWidth() {\n    return this.sumWidth(0, this.len);\n  }\n}\n\nexport default {};\nexport {\n  Cols,\n};\n","import { t } from '../locale/locale';\nimport helper from './helper';\n\nconst rules = {\n  phone: /^[1-9]\\d{10}$/,\n  email: /w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/,\n};\n\nfunction returnMessage(flag, key, ...arg) {\n  let message = '';\n  if (!flag) {\n    message = t(`validation.${key}`, ...arg);\n  }\n  return [flag, message];\n}\n\nexport default class Validator {\n  // operator: b|nb|eq|neq|lt|lte|gt|gte\n  // type: date|number|list|phone|email\n  constructor(type, required, value, operator) {\n    this.required = required;\n    this.value = value;\n    this.type = type;\n    this.operator = operator;\n    this.message = '';\n  }\n\n  parseValue(v) {\n    const { type } = this;\n    if (type === 'date') {\n      return new Date(v);\n    }\n    if (type === 'number') {\n      return Number(v);\n    }\n    return v;\n  }\n\n  equals(other) {\n    let flag = this.type === other.type\n      && this.required === other.required\n      && this.operator === other.operator;\n    if (flag) {\n      if (Array.isArray(this.value)) {\n        flag = helper.arrayEquals(this.value, other.value);\n      } else {\n        flag = this.value === other.value;\n      }\n    }\n    return flag;\n  }\n\n  values() {\n    return this.value.split(',');\n  }\n\n  validate(v) {\n    const {\n      required, operator, value, type,\n    } = this;\n    if (required && /^\\s*$/.test(v)) {\n      return returnMessage(false, 'required');\n    }\n    if (/^\\s*$/.test(v)) return [true];\n    if (rules[type] && !rules[type].test(v)) {\n      return returnMessage(false, 'notMatch');\n    }\n    if (type === 'list') {\n      return returnMessage(this.values().includes(v), 'notIn');\n    }\n    if (operator) {\n      const v1 = this.parseValue(v);\n      if (operator === 'be') {\n        const [min, max] = value;\n        return returnMessage(\n          v1 >= this.parseValue(min) && v1 <= this.parseValue(max),\n          'between',\n          min,\n          max,\n        );\n      }\n      if (operator === 'nbe') {\n        const [min, max] = value;\n        return returnMessage(\n          v1 < this.parseValue(min) || v1 > this.parseValue(max),\n          'notBetween',\n          min,\n          max,\n        );\n      }\n      if (operator === 'eq') {\n        return returnMessage(\n          v1 === this.parseValue(value),\n          'equal',\n          value,\n        );\n      }\n      if (operator === 'neq') {\n        return returnMessage(\n          v1 !== this.parseValue(value),\n          'notEqual',\n          value,\n        );\n      }\n      if (operator === 'lt') {\n        return returnMessage(\n          v1 < this.parseValue(value),\n          'lessThan',\n          value,\n        );\n      }\n      if (operator === 'lte') {\n        return returnMessage(\n          v1 <= this.parseValue(value),\n          'lessThanEqual',\n          value,\n        );\n      }\n      if (operator === 'gt') {\n        return returnMessage(\n          v1 > this.parseValue(value),\n          'greaterThan',\n          value,\n        );\n      }\n      if (operator === 'gte') {\n        return returnMessage(\n          v1 >= this.parseValue(value),\n          'greaterThanEqual',\n          value,\n        );\n      }\n    }\n    return [true];\n  }\n}\n","import Validator from './validator';\nimport { CellRange } from './cell_range';\n\nclass Validation {\n  constructor(mode, refs, validator) {\n    this.refs = refs;\n    this.mode = mode; // cell\n    this.validator = validator;\n  }\n\n  includes(ri, ci) {\n    const { refs } = this;\n    for (let i = 0; i < refs.length; i += 1) {\n      const cr = CellRange.valueOf(refs[i]);\n      if (cr.includes(ri, ci)) return true;\n    }\n    return false;\n  }\n\n  addRef(ref) {\n    this.remove(CellRange.valueOf(ref));\n    this.refs.push(ref);\n  }\n\n  remove(cellRange) {\n    const nrefs = [];\n    this.refs.forEach((it) => {\n      const cr = CellRange.valueOf(it);\n      if (cr.intersects(cellRange)) {\n        const crs = cr.difference(cellRange);\n        crs.forEach(it1 => nrefs.push(it1.toString()));\n      } else {\n        nrefs.push(it);\n      }\n    });\n    this.refs = nrefs;\n  }\n\n  getData() {\n    const { refs, mode, validator } = this;\n    const {\n      type, required, operator, value,\n    } = validator;\n    return {\n      refs, mode, type, required, operator, value,\n    };\n  }\n\n  static valueOf({\n    refs, mode, type, required, operator, value,\n  }) {\n    return new Validation(mode, refs, new Validator(type, required, value, operator));\n  }\n}\nclass Validations {\n  constructor() {\n    this._ = [];\n    // ri_ci: errMessage\n    this.errors = new Map();\n  }\n\n  getError(ri, ci) {\n    return this.errors.get(`${ri}_${ci}`);\n  }\n\n  validate(ri, ci, text) {\n    const v = this.get(ri, ci);\n    const key = `${ri}_${ci}`;\n    const { errors } = this;\n    if (v !== null) {\n      const [flag, message] = v.validator.validate(text);\n      if (!flag) {\n        errors.set(key, message);\n      } else {\n        errors.delete(key);\n      }\n    } else {\n      errors.delete(key);\n    }\n    return true;\n  }\n\n  // type: date|number|phone|email|list\n  // validator: { required, value, operator }\n  add(mode, ref, {\n    type, required, value, operator,\n  }) {\n    const validator = new Validator(\n      type, required, value, operator,\n    );\n    const v = this.getByValidator(validator);\n    if (v !== null) {\n      v.addRef(ref);\n    } else {\n      this._.push(new Validation(mode, [ref], validator));\n    }\n  }\n\n  getByValidator(validator) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.validator.equals(validator)) {\n        return v;\n      }\n    }\n    return null;\n  }\n\n  get(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.includes(ri, ci)) return v;\n    }\n    return null;\n  }\n\n  remove(cellRange) {\n    this.each((it) => {\n      it.remove(cellRange);\n    });\n  }\n\n  each(cb) {\n    this._.forEach(it => cb(it));\n  }\n\n  getData() {\n    return this._.filter(it => it.refs.length > 0).map(it => it.getData());\n  }\n\n  setData(d) {\n    this._ = d.map(it => Validation.valueOf(it));\n  }\n}\n\nexport default {};\nexport {\n  Validations,\n};\n","/* global document */\n\nimport Selector from './selector';\nimport Scroll from './scroll';\nimport History from './history';\nimport Clipboard from './clipboard';\nimport AutoFilter from './auto_filter';\nimport { Merges } from './merge';\nimport helper from './helper';\nimport { Rows } from './row';\nimport { Cols } from './col';\nimport { Validations } from './validation';\nimport { CellRange } from './cell_range';\nimport { expr2xy, xy2expr } from './alphabet';\nimport { t } from '../locale/locale';\n\n// private methods\n/*\n * {\n *  name: ''\n *  freeze: [0, 0],\n *  formats: [],\n *  styles: [\n *    {\n *      bgcolor: '',\n *      align: '',\n *      valign: '',\n *      textwrap: false,\n *      strike: false,\n *      underline: false,\n *      color: '',\n *      format: 1,\n *      border: {\n *        left: [style, color],\n *        right: [style, color],\n *        top: [style, color],\n *        bottom: [style, color],\n *      },\n *      font: {\n *        name: 'Helvetica',\n *        size: 10,\n *        bold: false,\n *        italic: false,\n *      }\n *    }\n *  ],\n *  merges: [\n *    'A1:F11',\n *    ...\n *  ],\n *  rows: {\n *    1: {\n *      height: 50,\n *      style: 1,\n *      cells: {\n *        1: {\n *          style: 2,\n *          type: 'string',\n *          text: '',\n *          value: '', // cal result\n *        }\n *      }\n *    },\n *    ...\n *  },\n *  cols: {\n *    2: { width: 100, style: 1 }\n *  }\n * }\n */\nconst defaultSettings = {\n  mode: 'edit', // edit | read\n  view: {\n    height: () => document.documentElement.clientHeight,\n    width: () => document.documentElement.clientWidth,\n  },\n  showGrid: true,\n  showToolbar: true,\n  showContextmenu: true,\n  showBottomBar: true,\n  autoFillOnCopy: false,\n  row: {\n    len: 100,\n    height: 25,\n  },\n  col: {\n    len: 26,\n    width: 100,\n    indexWidth: 60,\n    minWidth: 60,\n  },\n  style: {\n    bgcolor: '#ffffff',\n    align: 'left',\n    valign: 'middle',\n    textwrap: false,\n    strike: false,\n    underline: false,\n    color: '#0a0a0a',\n    font: {\n      name: 'Arial',\n      size: 10,\n      bold: false,\n      italic: false,\n    },\n    format: '',\n  },\n};\n\nconst toolbarHeight = 41;\nconst bottombarHeight = 41;\n\n// src: cellRange\n// dst: cellRange\nfunction canPaste(src, dst, error = () => {}) {\n  const { merges } = this;\n  const cellRange = dst.clone();\n  const [srn, scn] = src.size();\n  const [drn, dcn] = dst.size();\n  if (srn > drn) {\n    cellRange.eri = dst.sri + srn - 1;\n  }\n  if (scn > dcn) {\n    cellRange.eci = dst.sci + scn - 1;\n  }\n  if (merges.intersects(cellRange)) {\n    error(t('error.pasteForMergedCell'));\n    return false;\n  }\n  return true;\n}\nfunction copyPaste(srcCellRange, dstCellRange, what, autofill = false) {\n  const { rows, merges } = this;\n  // delete dest merge\n  if (what === 'all' || what === 'format') {\n    rows.deleteCells(dstCellRange, what);\n    merges.deleteWithin(dstCellRange);\n  }\n  rows.copyPaste(srcCellRange, dstCellRange, what, autofill, (ri, ci, cell) => {\n    if (cell && cell.merge) {\n      // console.log('cell:', ri, ci, cell);\n      const [rn, cn] = cell.merge;\n      if (rn <= 0 && cn <= 0) return;\n      merges.add(new CellRange(ri, ci, ri + rn, ci + cn));\n    }\n  });\n}\n\nfunction cutPaste(srcCellRange, dstCellRange) {\n  const { clipboard, rows, merges } = this;\n  rows.cutPaste(srcCellRange, dstCellRange);\n  merges.move(srcCellRange,\n    dstCellRange.sri - srcCellRange.sri,\n    dstCellRange.sci - srcCellRange.sci);\n  clipboard.clear();\n}\n\n// bss: { top, bottom, left, right }\nfunction setStyleBorder(ri, ci, bss) {\n  const { styles, rows } = this;\n  const cell = rows.getCellOrNew(ri, ci);\n  let cstyle = {};\n  if (cell.style !== undefined) {\n    cstyle = helper.cloneDeep(styles[cell.style]);\n  }\n  cstyle = helper.merge(cstyle, { border: bss });\n  cell.style = this.addStyle(cstyle);\n}\n\nfunction setStyleBorders({ mode, style, color }) {\n  const { styles, selector, rows } = this;\n  const {\n    sri, sci, eri, eci,\n  } = selector.range;\n  const multiple = !this.isSingleSelected();\n  if (!multiple) {\n    if (mode === 'inside' || mode === 'horizontal' || mode === 'vertical') {\n      return;\n    }\n  }\n  if (mode === 'outside' && !multiple) {\n    setStyleBorder.call(this, sri, sci, {\n      top: [style, color], bottom: [style, color], left: [style, color], right: [style, color],\n    });\n  } else if (mode === 'none') {\n    selector.range.each((ri, ci) => {\n      const cell = rows.getCell(ri, ci);\n      if (cell && cell.style !== undefined) {\n        const ns = helper.cloneDeep(styles[cell.style]);\n        delete ns.border;\n        // ['bottom', 'top', 'left', 'right'].forEach((prop) => {\n        //   if (ns[prop]) delete ns[prop];\n        // });\n        cell.style = this.addStyle(ns);\n      }\n    });\n  } else if (mode === 'all' || mode === 'inside' || mode === 'outside'\n    || mode === 'horizontal' || mode === 'vertical') {\n    const merges = [];\n    for (let ri = sri; ri <= eri; ri += 1) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        // jump merges -- start\n        const mergeIndexes = [];\n        for (let ii = 0; ii < merges.length; ii += 1) {\n          const [mri, mci, rn, cn] = merges[ii];\n          if (ri === mri + rn + 1) mergeIndexes.push(ii);\n          if (mri <= ri && ri <= mri + rn) {\n            if (ci === mci) {\n              ci += cn + 1;\n              break;\n            }\n          }\n        }\n        mergeIndexes.forEach(it => merges.splice(it, 1));\n        if (ci > eci) break;\n        // jump merges -- end\n        const cell = rows.getCell(ri, ci);\n        let [rn, cn] = [0, 0];\n        if (cell && cell.merge) {\n          [rn, cn] = cell.merge;\n          merges.push([ri, ci, rn, cn]);\n        }\n        const mrl = rn > 0 && ri + rn === eri;\n        const mcl = cn > 0 && ci + cn === eci;\n        let bss = {};\n        if (mode === 'all') {\n          bss = {\n            bottom: [style, color],\n            top: [style, color],\n            left: [style, color],\n            right: [style, color],\n          };\n        } else if (mode === 'inside') {\n          if (!mcl && ci < eci) bss.right = [style, color];\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === 'horizontal') {\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === 'vertical') {\n          if (!mcl && ci < eci) bss.right = [style, color];\n        } else if (mode === 'outside' && multiple) {\n          if (sri === ri) bss.top = [style, color];\n          if (mrl || eri === ri) bss.bottom = [style, color];\n          if (sci === ci) bss.left = [style, color];\n          if (mcl || eci === ci) bss.right = [style, color];\n        }\n        if (Object.keys(bss).length > 0) {\n          setStyleBorder.call(this, ri, ci, bss);\n        }\n        ci += cn;\n      }\n    }\n  } else if (mode === 'top' || mode === 'bottom') {\n    for (let ci = sci; ci <= eci; ci += 1) {\n      if (mode === 'top') {\n        setStyleBorder.call(this, sri, ci, { top: [style, color] });\n        ci += rows.getCellMerge(sri, ci)[1];\n      }\n      if (mode === 'bottom') {\n        setStyleBorder.call(this, eri, ci, { bottom: [style, color] });\n        ci += rows.getCellMerge(eri, ci)[1];\n      }\n    }\n  } else if (mode === 'left' || mode === 'right') {\n    for (let ri = sri; ri <= eri; ri += 1) {\n      if (mode === 'left') {\n        setStyleBorder.call(this, ri, sci, { left: [style, color] });\n        ri += rows.getCellMerge(ri, sci)[0];\n      }\n      if (mode === 'right') {\n        setStyleBorder.call(this, ri, eci, { right: [style, color] });\n        ri += rows.getCellMerge(ri, eci)[0];\n      }\n    }\n  }\n}\n\nfunction getCellRowByY(y, scrollOffsety) {\n  const { rows } = this;\n  const fsh = this.freezeTotalHeight();\n  // console.log('y:', y, ', fsh:', fsh);\n  let inits = rows.height;\n  if (fsh + rows.height < y) inits -= scrollOffsety;\n\n  // handle ri in autofilter\n  const frset = this.exceptRowSet;\n\n  let ri = 0;\n  let top = inits;\n  let { height } = rows;\n  for (; ri < rows.len; ri += 1) {\n    if (top > y) break;\n    if (!frset.has(ri)) {\n      height = rows.getHeight(ri);\n      top += height;\n    }\n  }\n  top -= height;\n  // console.log('ri:', ri, ', top:', top, ', height:', height);\n\n  if (top <= 0) {\n    return { ri: -1, top: 0, height };\n  }\n\n  return { ri: ri - 1, top, height };\n}\n\nfunction getCellColByX(x, scrollOffsetx) {\n  const { cols } = this;\n  const fsw = this.freezeTotalWidth();\n  let inits = cols.indexWidth;\n  if (fsw + cols.indexWidth < x) inits -= scrollOffsetx;\n  const [ci, left, width] = helper.rangeReduceIf(\n    0,\n    cols.len,\n    inits,\n    cols.indexWidth,\n    x,\n    i => cols.getWidth(i),\n  );\n  if (left <= 0) {\n    return { ci: -1, left: 0, width: cols.indexWidth };\n  }\n  return { ci: ci - 1, left, width };\n}\n\nexport default class DataProxy {\n  constructor(name, settings) {\n    this.settings = helper.merge(defaultSettings, settings || {});\n    // save data begin\n    this.name = name || 'sheet';\n    this.freeze = [0, 0];\n    this.styles = []; // Array<Style>\n    this.merges = new Merges(); // [CellRange, ...]\n    this.rows = new Rows(this.settings.row);\n    this.cols = new Cols(this.settings.col);\n    this.validations = new Validations();\n    this.hyperlinks = {};\n    this.comments = {};\n    // save data end\n\n    // don't save object\n    this.selector = new Selector();\n    this.scroll = new Scroll();\n    this.history = new History();\n    this.clipboard = new Clipboard();\n    this.autoFilter = new AutoFilter();\n    this.change = () => {};\n    this.exceptRowSet = new Set();\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n  }\n\n  addValidation(mode, ref, validator) {\n    // console.log('mode:', mode, ', ref:', ref, ', validator:', validator);\n    this.changeData(() => {\n      this.validations.add(mode, ref, validator);\n    });\n  }\n\n  removeValidation() {\n    const { range } = this.selector;\n    this.changeData(() => {\n      this.validations.remove(range);\n    });\n  }\n\n  getSelectedValidator() {\n    const { ri, ci } = this.selector;\n    const v = this.validations.get(ri, ci);\n    return v ? v.validator : null;\n  }\n\n  getSelectedValidation() {\n    const { ri, ci, range } = this.selector;\n    const v = this.validations.get(ri, ci);\n    const ret = { ref: range.toString() };\n    if (v !== null) {\n      ret.mode = v.mode;\n      ret.validator = v.validator;\n    }\n    return ret;\n  }\n\n  canUndo() {\n    return this.history.canUndo();\n  }\n\n  canRedo() {\n    return this.history.canRedo();\n  }\n\n  undo() {\n    this.history.undo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  redo() {\n    this.history.redo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  copy() {\n    this.clipboard.copy(this.selector.range);\n  }\n\n  copyToSystemClipboard(evt) {\n    let copyText = [];\n    const {\n      sri, eri, sci, eci,\n    } = this.selector.range;\n\n    for (let ri = sri; ri <= eri; ri += 1) {\n      const row = [];\n      for (let ci = sci; ci <= eci; ci += 1) {\n        const cell = this.getCell(ri, ci);\n        row.push((cell && cell.text) || '');\n      }\n      copyText.push(row);\n    }\n\n    // Adding \\n and why not adding \\r\\n is to support online office and client MS office and WPS\n    copyText = copyText.map(row => row.join('\\t')).join('\\n');\n\n    // why used this\n    // cuz http protocol will be blocked request clipboard by browser\n    if (evt) {\n      evt.clipboardData.clearData();\n      evt.clipboardData.setData('text/plain', copyText);\n      evt.preventDefault();\n    }\n\n    // this need https protocol\n    /* global navigator */\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(copyText).then(() => {}, (err) => {\n        console.log('text copy to the system clipboard error  ', copyText, err);\n      });\n    }\n  }\n\n  cut() {\n    this.clipboard.cut(this.selector.range);\n  }\n\n  // what: all | text | format\n  paste(what = 'all', error = () => {}) {\n    // console.log('sIndexes:', sIndexes);\n    const { clipboard, selector } = this;\n    if (clipboard.isClear()) return false;\n    if (!canPaste.call(this, clipboard.range, selector.range, error)) return false;\n\n    this.changeData(() => {\n      if (clipboard.isCopy()) {\n        copyPaste.call(this, clipboard.range, selector.range, what, this.settings.autoFillOnCopy);\n      } else if (clipboard.isCut()) {\n        cutPaste.call(this, clipboard.range, selector.range);\n      }\n    });\n    return true;\n  }\n\n  pasteFromSystemClipboard(resetSheet, eventTrigger) {\n    const { selector } = this;\n    navigator.clipboard.readText().then((content) => {\n      const contentToPaste = this.parseClipboardContent(content);\n      let startRow = selector.ri;\n      contentToPaste.forEach((row) => {\n        let startColumn = selector.ci;\n        row.forEach((cellContent) => {\n          this.setCellText(startRow, startColumn, cellContent, 'input');\n          startColumn += 1;\n        });\n        startRow += 1;\n      });\n      resetSheet();\n      eventTrigger(this.rows.getData());\n    });\n  }\n\n  parseClipboardContent(clipboardContent) {\n    const parsedData = [];\n\n    // first we need to figure out how many rows we need to paste\n    const rows = clipboardContent.split('\\n');\n\n    // for each row parse cell data\n    let i = 0;\n    rows.forEach((row) => {\n      parsedData[i] = row.split('\\t');\n      i += 1;\n    });\n    return parsedData;\n  }\n\n  pasteFromText(txt) {\n    let lines = [];\n\n    if (/\\r\\n/.test(txt)) lines = txt.split('\\r\\n').map(it => it.replace(/\"/g, '').split('\\t'));\n    else lines = txt.split('\\n').map(it => it.replace(/\"/g, '').split('\\t'));\n\n    if (lines.length) {\n      const { rows, selector } = this;\n\n      this.changeData(() => {\n        rows.paste(lines, selector.range);\n      });\n    }\n  }\n\n  autofill(cellRange, what, error = () => {}) {\n    const srcRange = this.selector.range;\n    if (!canPaste.call(this, srcRange, cellRange, error)) return false;\n    this.changeData(() => {\n      copyPaste.call(this, srcRange, cellRange, what, true);\n    });\n    return true;\n  }\n\n  clearClipboard() {\n    this.clipboard.clear();\n  }\n\n  calSelectedRangeByEnd(ri, ci) {\n    const {\n      selector, rows, cols, merges,\n    } = this;\n    let {\n      sri, sci, eri, eci,\n    } = selector.range;\n    const cri = selector.ri;\n    const cci = selector.ci;\n    let [nri, nci] = [ri, ci];\n    if (ri < 0) nri = rows.len - 1;\n    if (ci < 0) nci = cols.len - 1;\n    if (nri > cri) [sri, eri] = [cri, nri];\n    else [sri, eri] = [nri, cri];\n    if (nci > cci) [sci, eci] = [cci, nci];\n    else [sci, eci] = [nci, cci];\n    selector.range = merges.union(new CellRange(\n      sri, sci, eri, eci,\n    ));\n    selector.range = merges.union(selector.range);\n    // console.log('selector.range:', selector.range);\n    return selector.range;\n  }\n\n  calSelectedRangeByStart(ri, ci) {\n    const {\n      selector, rows, cols, merges,\n    } = this;\n    let cellRange = merges.getFirstIncludes(ri, ci);\n    // console.log('cellRange:', cellRange, ri, ci, merges);\n    if (cellRange === null) {\n      cellRange = new CellRange(ri, ci, ri, ci);\n      if (ri === -1) {\n        cellRange.sri = 0;\n        cellRange.eri = rows.len - 1;\n      }\n      if (ci === -1) {\n        cellRange.sci = 0;\n        cellRange.eci = cols.len - 1;\n      }\n    }\n    selector.range = cellRange;\n    return cellRange;\n  }\n\n  setSelectedCellAttr(property, value) {\n    this.changeData(() => {\n      const { selector, styles, rows } = this;\n      if (property === 'merge') {\n        if (value) this.merge();\n        else this.unmerge();\n      } else if (property === 'border') {\n        setStyleBorders.call(this, value);\n      } else if (property === 'formula') {\n        // console.log('>>>', selector.multiple());\n        const { ri, ci, range } = selector;\n        if (selector.multiple()) {\n          const [rn, cn] = selector.size();\n          const {\n            sri, sci, eri, eci,\n          } = range;\n          if (rn > 1) {\n            for (let i = sci; i <= eci; i += 1) {\n              const cell = rows.getCellOrNew(eri + 1, i);\n              cell.text = `=${value}(${xy2expr(i, sri)}:${xy2expr(i, eri)})`;\n            }\n          } else if (cn > 1) {\n            const cell = rows.getCellOrNew(ri, eci + 1);\n            cell.text = `=${value}(${xy2expr(sci, ri)}:${xy2expr(eci, ri)})`;\n          }\n        } else {\n          const cell = rows.getCellOrNew(ri, ci);\n          cell.text = `=${value}()`;\n        }\n      } else {\n        selector.range.each((ri, ci) => {\n          const cell = rows.getCellOrNew(ri, ci);\n          let cstyle = {};\n          if (cell.style !== undefined) {\n            cstyle = helper.cloneDeep(styles[cell.style]);\n          }\n          if (property === 'format') {\n            cstyle.format = value;\n            cell.style = this.addStyle(cstyle);\n          } else if (property === 'font-bold' || property === 'font-italic'\n            || property === 'font-name' || property === 'font-size') {\n            const nfont = {};\n            nfont[property.split('-')[1]] = value;\n            cstyle.font = Object.assign(cstyle.font || {}, nfont);\n            cell.style = this.addStyle(cstyle);\n          } else if (property === 'strike' || property === 'textwrap'\n            || property === 'underline'\n            || property === 'align' || property === 'valign'\n            || property === 'color' || property === 'bgcolor') {\n            cstyle[property] = value;\n            cell.style = this.addStyle(cstyle);\n          } else {\n            cell[property] = value;\n          }\n        });\n      }\n    });\n  }\n\n  // state: input | finished\n  setSelectedCellText(text, state = 'input') {\n    const { autoFilter, selector, rows } = this;\n    const { ri, ci } = selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    const oldCell = rows.getCell(nri, ci);\n    const oldText = oldCell ? oldCell.text : '';\n    this.setCellText(nri, ci, text, state);\n    // replace filter.value\n    if (autoFilter.active()) {\n      const filter = autoFilter.getFilter(ci);\n      if (filter) {\n        const vIndex = filter.value.findIndex(v => v === oldText);\n        if (vIndex >= 0) {\n          filter.value.splice(vIndex, 1, text);\n        }\n        // console.log('filter:', filter, oldCell);\n      }\n    }\n    // this.resetAutoFilter();\n  }\n\n  getSelectedCell() {\n    const { ri, ci } = this.selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    return this.rows.getCell(nri, ci);\n  }\n\n  xyInSelectedRect(x, y) {\n    const {\n      left, top, width, height,\n    } = this.getSelectedRect();\n    const x1 = x - this.cols.indexWidth;\n    const y1 = y - this.rows.height;\n    // console.log('x:', x, ',y:', y, 'left:', left, 'top:', top);\n    return x1 > left && x1 < (left + width)\n      && y1 > top && y1 < (top + height);\n  }\n\n  getSelectedRect() {\n    return this.getRect(this.selector.range);\n  }\n\n  getClipboardRect() {\n    const { clipboard } = this;\n    if (!clipboard.isClear()) {\n      return this.getRect(clipboard.range);\n    }\n    return { left: -100, top: -100 };\n  }\n\n  getRect(cellRange) {\n    const {\n      scroll, rows, cols, exceptRowSet,\n    } = this;\n    const {\n      sri, sci, eri, eci,\n    } = cellRange;\n    // console.log('sri:', sri, ',sci:', sci, ', eri:', eri, ', eci:', eci);\n    // no selector\n    if (sri < 0 && sci < 0) {\n      return {\n        left: 0, l: 0, top: 0, t: 0, scroll,\n      };\n    }\n    const left = cols.sumWidth(0, sci);\n    const top = rows.sumHeight(0, sri, exceptRowSet);\n    const height = rows.sumHeight(sri, eri + 1, exceptRowSet);\n    const width = cols.sumWidth(sci, eci + 1);\n    // console.log('sri:', sri, ', sci:', sci, ', eri:', eri, ', eci:', eci);\n    let left0 = left - scroll.x;\n    let top0 = top - scroll.y;\n    const fsh = this.freezeTotalHeight();\n    const fsw = this.freezeTotalWidth();\n    if (fsw > 0 && fsw > left) {\n      left0 = left;\n    }\n    if (fsh > 0 && fsh > top) {\n      top0 = top;\n    }\n    return {\n      l: left,\n      t: top,\n      left: left0,\n      top: top0,\n      height,\n      width,\n      scroll,\n    };\n  }\n\n  getCellRectByXY(x, y) {\n    const {\n      scroll, merges, rows, cols,\n    } = this;\n    let { ri, top, height } = getCellRowByY.call(this, y, scroll.y);\n    let { ci, left, width } = getCellColByX.call(this, x, scroll.x);\n    if (ci === -1) {\n      width = cols.totalWidth();\n    }\n    if (ri === -1) {\n      height = rows.totalHeight();\n    }\n    if (ri >= 0 || ci >= 0) {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        ri = merge.sri;\n        ci = merge.sci;\n        ({\n          left, top, width, height,\n        } = this.cellRect(ri, ci));\n      }\n    }\n    return {\n      ri, ci, left, top, width, height,\n    };\n  }\n\n  isSingleSelected() {\n    const {\n      sri, sci, eri, eci,\n    } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return !this.selector.multiple();\n  }\n\n  canUnmerge() {\n    const {\n      sri, sci, eri, eci,\n    } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return false;\n  }\n\n  merge() {\n    const { selector, rows } = this;\n    if (this.isSingleSelected()) return;\n    const [rn, cn] = selector.size();\n    // console.log('merge:', rn, cn);\n    if (rn > 1 || cn > 1) {\n      const { sri, sci } = selector.range;\n      this.changeData(() => {\n        const cell = rows.getCellOrNew(sri, sci);\n        cell.merge = [rn - 1, cn - 1];\n        this.merges.add(selector.range);\n        // delete merge cells\n        this.rows.deleteCells(selector.range);\n        // console.log('cell:', cell, this.d);\n        this.rows.setCell(sri, sci, cell);\n      });\n    }\n  }\n\n  unmerge() {\n    const { selector } = this;\n    if (!this.isSingleSelected()) return;\n    const { sri, sci } = selector.range;\n    this.changeData(() => {\n      this.rows.deleteCell(sri, sci, 'merge');\n      this.merges.deleteWithin(selector.range);\n    });\n  }\n\n  canAutofilter() {\n    return !this.autoFilter.active();\n  }\n\n  autofilter() {\n    const { autoFilter, selector } = this;\n    this.changeData(() => {\n      if (autoFilter.active()) {\n        autoFilter.clear();\n        this.exceptRowSet = new Set();\n        this.sortedRowMap = new Map();\n        this.unsortedRowMap = new Map();\n      } else {\n        autoFilter.ref = selector.range.toString();\n      }\n    });\n  }\n\n  setAutoFilter(ci, order, operator, value) {\n    const { autoFilter } = this;\n    autoFilter.addFilter(ci, operator, value);\n    autoFilter.setSort(ci, order);\n    this.resetAutoFilter();\n  }\n\n  resetAutoFilter() {\n    const { autoFilter, rows } = this;\n    if (!autoFilter.active()) return;\n    const { sort } = autoFilter;\n    const { rset, fset } = autoFilter.filteredRows((r, c) => rows.getCell(r, c));\n    const fary = Array.from(fset);\n    const oldAry = Array.from(fset);\n    if (sort) {\n      fary.sort((a, b) => {\n        if (sort.order === 'asc') return a - b;\n        if (sort.order === 'desc') return b - a;\n        return 0;\n      });\n    }\n    this.exceptRowSet = rset;\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n    fary.forEach((it, index) => {\n      this.sortedRowMap.set(oldAry[index], it);\n      this.unsortedRowMap.set(it, oldAry[index]);\n    });\n  }\n\n  deleteCell(what = 'all') {\n    const { selector } = this;\n    this.changeData(() => {\n      this.rows.deleteCells(selector.range, what);\n      if (what === 'all' || what === 'format') {\n        this.merges.deleteWithin(selector.range);\n      }\n    });\n  }\n\n  // type: row | column\n  insert(type, n = 1) {\n    this.changeData(() => {\n      const { sri, sci } = this.selector.range;\n      const { rows, merges, cols } = this;\n      let si = sri;\n      if (type === 'row') {\n        rows.insert(sri, n);\n      } else if (type === 'column') {\n        rows.insertColumn(sci, n);\n        si = sci;\n        cols.len += 1;\n      }\n      merges.shift(type, si, n, (ri, ci, rn, cn) => {\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n      });\n    });\n  }\n\n  // type: row | column\n  delete(type) {\n    this.changeData(() => {\n      const {\n        rows, merges, selector, cols,\n      } = this;\n      const { range } = selector;\n      const {\n        sri, sci, eri, eci,\n      } = selector.range;\n      const [rsize, csize] = selector.range.size();\n      let si = sri;\n      let size = rsize;\n      if (type === 'row') {\n        rows.delete(sri, eri);\n      } else if (type === 'column') {\n        rows.deleteColumn(sci, eci);\n        si = range.sci;\n        size = csize;\n        cols.len -= (eci - sci + 1);\n      }\n      // console.log('type:', type, ', si:', si, ', size:', size);\n      merges.shift(type, si, -size, (ri, ci, rn, cn) => {\n        // console.log('ri:', ri, ', ci:', ci, ', rn:', rn, ', cn:', cn);\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n        if (cell.merge[0] === 0 && cell.merge[1] === 0) {\n          delete cell.merge;\n        }\n      });\n    });\n  }\n\n  scrollx(x, cb) {\n    const { scroll, freeze, cols } = this;\n    const [, fci] = freeze;\n    const [\n      ci, left, width,\n    ] = helper.rangeReduceIf(fci, cols.len, 0, 0, x, i => cols.getWidth(i));\n    // console.log('fci:', fci, ', ci:', ci);\n    let x1 = left;\n    if (x > 0) x1 += width;\n    if (scroll.x !== x1) {\n      scroll.ci = x > 0 ? ci : 0;\n      scroll.x = x1;\n      cb();\n    }\n  }\n\n  scrolly(y, cb) {\n    const { scroll, freeze, rows } = this;\n    const [fri] = freeze;\n    const [\n      ri, top, height,\n    ] = helper.rangeReduceIf(fri, rows.len, 0, 0, y, i => rows.getHeight(i));\n    let y1 = top;\n    if (y > 0) y1 += height;\n    // console.log('ri:', ri, ' ,y:', y1);\n    if (scroll.y !== y1) {\n      scroll.ri = y > 0 ? ri : 0;\n      scroll.y = y1;\n      cb();\n    }\n  }\n\n  cellRect(ri, ci) {\n    const { rows, cols } = this;\n    const left = cols.sumWidth(0, ci);\n    const top = rows.sumHeight(0, ri);\n    const cell = rows.getCell(ri, ci);\n    let width = cols.getWidth(ci);\n    let height = rows.getHeight(ri);\n    if (cell !== null) {\n      if (cell.merge) {\n        const [rn, cn] = cell.merge;\n        // console.log('cell.merge:', cell.merge);\n        if (rn > 0) {\n          for (let i = 1; i <= rn; i += 1) {\n            height += rows.getHeight(ri + i);\n          }\n        }\n        if (cn > 0) {\n          for (let i = 1; i <= cn; i += 1) {\n            width += cols.getWidth(ci + i);\n          }\n        }\n      }\n    }\n    // console.log('data:', this.d);\n    return {\n      left, top, width, height, cell,\n    };\n  }\n\n  getCell(ri, ci) {\n    return this.rows.getCell(ri, ci);\n  }\n\n  getCellTextOrDefault(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    return (cell && cell.text) ? cell.text : '';\n  }\n\n  getCellStyle(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.style !== undefined) {\n      return this.styles[cell.style];\n    }\n    return null;\n  }\n\n  getCellStyleOrDefault(ri, ci) {\n    const { styles, rows } = this;\n    const cell = rows.getCell(ri, ci);\n    const cellStyle = (cell && cell.style !== undefined) ? styles[cell.style] : {};\n    return helper.merge(this.defaultStyle(), cellStyle);\n  }\n\n  getSelectedCellStyle() {\n    const { ri, ci } = this.selector;\n    return this.getCellStyleOrDefault(ri, ci);\n  }\n\n  // state: input | finished\n  setCellText(ri, ci, text, state) {\n    const { rows, history, validations } = this;\n    if (state === 'finished') {\n      rows.setCellText(ri, ci, '');\n      history.add(this.getData());\n      rows.setCellText(ri, ci, text);\n    } else {\n      rows.setCellText(ri, ci, text);\n      this.change(this.getData());\n    }\n    // validator\n    validations.validate(ri, ci, text);\n  }\n\n  freezeIsActive() {\n    const [ri, ci] = this.freeze;\n    return ri > 0 || ci > 0;\n  }\n\n  setFreeze(ri, ci) {\n    this.changeData(() => {\n      this.freeze = [ri, ci];\n    });\n  }\n\n  freezeTotalWidth() {\n    return this.cols.sumWidth(0, this.freeze[1]);\n  }\n\n  freezeTotalHeight() {\n    return this.rows.sumHeight(0, this.freeze[0]);\n  }\n\n  setRowHeight(ri, height) {\n    this.changeData(() => {\n      this.rows.setHeight(ri, height);\n    });\n  }\n\n  setColWidth(ci, width) {\n    this.changeData(() => {\n      this.cols.setWidth(ci, width);\n    });\n  }\n\n  viewHeight() {\n    const { view, showToolbar, showBottomBar } = this.settings;\n    let h = view.height();\n    if (showBottomBar) {\n      h -= bottombarHeight;\n    }\n    if (showToolbar) {\n      h -= toolbarHeight;\n    }\n    return h;\n  }\n\n  viewWidth() {\n    return this.settings.view.width();\n  }\n\n  freezeViewRange() {\n    const [ri, ci] = this.freeze;\n    return new CellRange(0, 0, ri - 1, ci - 1, this.freezeTotalWidth(), this.freezeTotalHeight());\n  }\n\n  contentRange() {\n    const { rows, cols } = this;\n    const [ri, ci] = rows.maxCell();\n    const h = rows.sumHeight(0, ri + 1);\n    const w = cols.sumWidth(0, ci + 1);\n    return new CellRange(0, 0, ri, ci, w, h);\n  }\n\n  exceptRowTotalHeight(sri, eri) {\n    const { exceptRowSet, rows } = this;\n    const exceptRows = Array.from(exceptRowSet);\n    let exceptRowTH = 0;\n    exceptRows.forEach((ri) => {\n      if (ri < sri || ri > eri) {\n        const height = rows.getHeight(ri);\n        exceptRowTH += height;\n      }\n    });\n    return exceptRowTH;\n  }\n\n  viewRange() {\n    const {\n      scroll, rows, cols, freeze, exceptRowSet,\n    } = this;\n    // console.log('scroll:', scroll, ', freeze:', freeze)\n    let { ri, ci } = scroll;\n    if (ri <= 0) [ri] = freeze;\n    if (ci <= 0) [, ci] = freeze;\n\n    let [x, y] = [0, 0];\n    let [eri, eci] = [rows.len, cols.len];\n    for (let i = ri; i < rows.len; i += 1) {\n      if (!exceptRowSet.has(i)) {\n        y += rows.getHeight(i);\n        eri = i;\n      }\n      if (y > this.viewHeight()) break;\n    }\n    for (let j = ci; j < cols.len; j += 1) {\n      x += cols.getWidth(j);\n      eci = j;\n      if (x > this.viewWidth()) break;\n    }\n    // console.log(ri, ci, eri, eci, x, y);\n    return new CellRange(ri, ci, eri, eci, x, y);\n  }\n\n  eachMergesInView(viewRange, cb) {\n    this.merges.filterIntersects(viewRange)\n      .forEach(it => cb(it));\n  }\n\n  hideRowsOrCols() {\n    const { rows, cols, selector } = this;\n    const [rlen, clen] = selector.size();\n    const {\n      sri, sci, eri, eci,\n    } = selector.range;\n    if (rlen === rows.len) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        cols.setHide(ci, true);\n      }\n    } else if (clen === cols.len) {\n      for (let ri = sri; ri <= eri; ri += 1) {\n        rows.setHide(ri, true);\n      }\n    }\n  }\n\n  // type: row | col\n  // index row-index | col-index\n  unhideRowsOrCols(type, index) {\n    this[`${type}s`].unhide(index);\n  }\n\n  rowEach(min, max, cb) {\n    let y = 0;\n    const { rows } = this;\n    const frset = this.exceptRowSet;\n    const frary = [...frset];\n    let offset = 0;\n    for (let i = 0; i < frary.length; i += 1) {\n      if (frary[i] < min) {\n        offset += 1;\n      }\n    }\n    // console.log('min:', min, ', max:', max, ', scroll:', scroll);\n    for (let i = min + offset; i <= max + offset; i += 1) {\n      if (frset.has(i)) {\n        offset += 1;\n      } else {\n        const rowHeight = rows.getHeight(i);\n        if (rowHeight > 0) {\n          cb(i, y, rowHeight);\n          y += rowHeight;\n          if (y > this.viewHeight()) break;\n        }\n      }\n    }\n  }\n\n  colEach(min, max, cb) {\n    let x = 0;\n    const { cols } = this;\n    for (let i = min; i <= max; i += 1) {\n      const colWidth = cols.getWidth(i);\n      if (colWidth > 0) {\n        cb(i, x, colWidth);\n        x += colWidth;\n        if (x > this.viewWidth()) break;\n      }\n    }\n  }\n\n  defaultStyle() {\n    return this.settings.style;\n  }\n\n  addStyle(nstyle) {\n    const { styles } = this;\n    // console.log('old.styles:', styles, nstyle);\n    for (let i = 0; i < styles.length; i += 1) {\n      const style = styles[i];\n      if (helper.equals(style, nstyle)) return i;\n    }\n    styles.push(nstyle);\n    return styles.length - 1;\n  }\n\n  changeData(cb) {\n    this.history.add(this.getData());\n    cb();\n    this.change(this.getData());\n  }\n\n  setData(d) {\n    Object.keys(d).forEach((property) => {\n      if (property === 'merges' || property === 'rows'\n        || property === 'cols' || property === 'validations') {\n        this[property].setData(d[property]);\n      } else if (property === 'freeze') {\n        const [x, y] = expr2xy(d[property]);\n        this.freeze = [y, x];\n      } else if (property === 'autofilter') {\n        this.autoFilter.setData(d[property]);\n      } else if (d[property] !== undefined) {\n        this[property] = d[property];\n      }\n    });\n    return this;\n  }\n\n  getData() {\n    const {\n      name, freeze, styles, merges, rows, cols, validations, autoFilter,\n    } = this;\n    return {\n      name,\n      freeze: xy2expr(freeze[1], freeze[0]),\n      styles,\n      merges: merges.getData(),\n      rows: rows.getData(),\n      cols: cols.getData(),\n      validations: validations.getData(),\n      autofilter: autoFilter.getData(),\n    };\n  }\n}\n","/* global window, document */\nimport { h } from './component/element';\nimport DataProxy from './core/data_proxy';\nimport Sheet from './component/sheet';\nimport Bottombar from './component/bottombar';\nimport { cssPrefix } from './config';\nimport { locale } from './locale/locale';\nimport './index.less';\n\n\nexport default class Spreadsheet {\n  constructor(selectors, options = {}) {\n    let targetEl = selectors;\n    this.options = {\n      showBottomBar: true, showPrint: true, showValidation: true, ...options,\n    };\n    this.sheetIndex = 1;\n    this.datas = [];\n    if (typeof selectors === 'string') {\n      targetEl = document.querySelector(selectors);\n    }\n    this.bottombar = this.options.showBottomBar ? new Bottombar(() => {\n      if (this.options.mode === 'read') return;\n      const d = this.addSheet();\n      this.sheet.resetData(d);\n    }, (index) => {\n      const d = this.datas[index];\n      this.sheet.resetData(d);\n    }, () => {\n      this.deleteSheet();\n    }, (index, value) => {\n      this.datas[index].name = value;\n      this.sheet.trigger('change');\n    }) : null;\n    this.data = this.addSheet();\n    const rootEl = h('div', `${cssPrefix}`)\n      .on('contextmenu', evt => evt.preventDefault());\n    // create canvas element\n    targetEl.appendChild(rootEl.el);\n    this.sheet = new Sheet(rootEl, this.data);\n    if (this.bottombar !== null) {\n      rootEl.child(this.bottombar.el);\n    }\n    if (!this.options.style || !this.options.style.bgcolor) {\n      this.options.style = this.options.style || {};\n      const bgColor = global.getComputedStyle(rootEl.el)\n        .getPropertyValue('--ss-background') || '#fff';\n      this.options.style.bgcolor = bgColor;\n      const color = global.getComputedStyle(rootEl.el)\n        .getPropertyValue('--ss-text-color') || '#000';\n      this.options.style.color = color;\n    }\n  }\n\n  addSheet(name, active = true) {\n    const n = name || `sheet${this.sheetIndex}`;\n    const d = new DataProxy(n, this.options);\n    d.change = (...args) => {\n      this.sheet.trigger('change', ...args);\n    };\n    this.datas.push(d);\n    // console.log('d:', n, d, this.datas);\n    if (this.bottombar !== null) {\n      this.bottombar.addItem(n, active, this.options);\n    }\n    this.sheetIndex += 1;\n    return d;\n  }\n\n  deleteSheet() {\n    if (this.bottombar === null) return;\n\n    const [oldIndex, nindex] = this.bottombar.deleteItem();\n    if (oldIndex >= 0) {\n      this.datas.splice(oldIndex, 1);\n      if (nindex >= 0) this.sheet.resetData(this.datas[nindex]);\n      this.sheet.trigger('change');\n    }\n  }\n\n  loadData(data) {\n    const ds = Array.isArray(data) ? data : [data];\n    if (this.bottombar !== null) {\n      this.bottombar.clear();\n    }\n    this.sheetIndex = 1;\n    this.datas = [];\n    if (ds.length > 0) {\n      for (let i = 0; i < ds.length; i += 1) {\n        const it = ds[i];\n        const nd = this.addSheet(it.name, i === 0);\n        nd.setData(it);\n        if (i === 0) {\n          this.sheet.resetData(nd);\n        }\n      }\n    }\n    return this;\n  }\n\n  getData() {\n    return this.datas.map(it => it.getData());\n  }\n\n  cellText(ri, ci, text, sheetIndex = 0) {\n    this.datas[sheetIndex].setCellText(ri, ci, text, 'finished');\n    return this;\n  }\n\n  cell(ri, ci, sheetIndex = 0) {\n    return this.datas[sheetIndex].getCell(ri, ci);\n  }\n\n  cellStyle(ri, ci, sheetIndex = 0) {\n    return this.datas[sheetIndex].getCellStyle(ri, ci);\n  }\n\n  reRender() {\n    this.sheet.table.render();\n    return this;\n  }\n\n  on(eventName, func) {\n    this.sheet.on(eventName, func);\n    return this;\n  }\n\n  validate() {\n    const { validations } = this.data;\n    return validations.errors.size <= 0;\n  }\n\n  change(cb) {\n    this.sheet.on('change', cb);\n    return this;\n  }\n\n  static locale(lang, message) {\n    locale(lang, message);\n  }\n}\n\nconst spreadsheet = (el, options = {}) => new Spreadsheet(el, options);\n\nif (window) {\n  window.x_spreadsheet = spreadsheet;\n  window.x_spreadsheet.locale = (lang, message) => locale(lang, message);\n}\n\n// export default Spreadsheet;\n// export {\n//   spreadsheet,\n// };\n// exports.Spreadsheet = Spreadsheet;\n// exports.Spreadsheet = Spreadsheet;\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.numfmt=t():e.numfmt=t()}(\"undefined\"!=typeof self?self:this,(function(){return function(){\"use strict\";var e={d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return he}});var n={1078:\"af\",1052:\"sq\",1118:\"am\",5121:\"ar_DZ\",15361:\"ar_BH\",3073:\"ar_EG\",2049:\"ar_IQ\",11265:\"ar_JO\",13313:\"ar_KW\",12289:\"ar_LB\",4097:\"ar_LY\",6145:\"ar_MA\",8193:\"ar_OM\",16385:\"ar_QA\",1025:\"ar_SA\",10241:\"ar_SY\",7169:\"ar_TN\",14337:\"ar_AE\",9217:\"ar_YE\",1067:\"hy\",1101:\"as\",2092:\"az_AZ\",1068:\"az_AZ\",1069:\"eu\",1059:\"be\",2117:\"bn\",1093:\"bn_IN\",5146:\"bs\",1026:\"bg\",1109:\"my\",1027:\"ca\",2052:\"zh_CN\",3076:\"zh_HK\",5124:\"zh_MO\",4100:\"zh_SG\",1028:\"zh_TW\",1050:\"hr\",1029:\"cs\",1030:\"da\",1125:\"dv\",2067:\"nl_BE\",1043:\"nl_NL\",1126:\"bin\",3081:\"en_AU\",10249:\"en_BZ\",4105:\"en_CA\",9225:\"en_CB\",2057:\"en_GB\",16393:\"en_IN\",6153:\"en_IE\",8201:\"en_JM\",5129:\"en_NZ\",13321:\"en_PH\",7177:\"en_ZA\",11273:\"en_TT\",1033:\"en_US\",12297:\"en_ZW\",1061:\"et\",1071:\"mk\",1080:\"fo\",1065:\"fa\",1124:\"fil\",1035:\"fi\",2060:\"fr_BE\",11276:\"fr_CM\",3084:\"fr_CA\",9228:\"fr_CG\",12300:\"fr_CI\",1036:\"fr_FR\",5132:\"fr_LU\",13324:\"fr_ML\",6156:\"fr_MC\",14348:\"fr_MA\",10252:\"fr_SN\",4108:\"fr_CH\",7180:\"fr\",1122:\"fy_NL\",2108:\"gd_IE\",1084:\"gd\",1110:\"gl\",1079:\"ka\",3079:\"de_AT\",1031:\"de_DE\",5127:\"de_LI\",4103:\"de_LU\",2055:\"de_CH\",1032:\"el\",1140:\"gn\",1095:\"gu\",1279:\"en\",1037:\"he\",1081:\"hi\",1038:\"hu\",1039:\"is\",1136:\"ig_NG\",1057:\"id\",1040:\"it_IT\",2064:\"it_CH\",1041:\"ja\",1099:\"kn\",1120:\"ks\",1087:\"kk\",1107:\"km\",1111:\"kok\",1042:\"ko\",1088:\"ky\",1108:\"lo\",1142:\"la\",1062:\"lv\",1063:\"lt\",2110:\"ms_BN\",1086:\"ms_MY\",1100:\"ml\",1082:\"mt\",1112:\"mni\",1153:\"mi\",1102:\"mr\",1104:\"mn\",2128:\"mn\",1121:\"ne\",1044:\"no_NO\",2068:\"no_NO\",1096:\"or\",1045:\"pl\",1046:\"pt_BR\",2070:\"pt_PT\",1094:\"pa\",1047:\"rm\",2072:\"ro_MO\",1048:\"ro_RO\",1049:\"ru\",2073:\"ru_MO\",1083:\"se\",1103:\"sa\",3098:\"sr_SP\",2074:\"sr_SP\",1072:\"st\",1074:\"tn\",1113:\"sd\",1115:\"si\",1051:\"sk\",1060:\"sl\",1143:\"so\",1070:\"sb\",11274:\"es_AR\",16394:\"es_BO\",13322:\"es_CL\",9226:\"es_CO\",5130:\"es_CR\",7178:\"es_DO\",12298:\"es_EC\",17418:\"es_SV\",4106:\"es_GT\",18442:\"es_HN\",2058:\"es_MX\",19466:\"es_NI\",6154:\"es_PA\",15370:\"es_PY\",10250:\"es_PE\",20490:\"es_PR\",1034:\"es_ES\",14346:\"es_UY\",8202:\"es_VE\",1089:\"sw\",2077:\"sv_FI\",1053:\"sv_SE\",1114:\"syc\",1064:\"tg\",1097:\"ta\",1092:\"tt\",1098:\"te\",1054:\"th\",1105:\"bo\",1073:\"ts\",1055:\"tr\",1090:\"tk\",1058:\"uk\",1056:\"ur\",2115:\"uz_UZ\",1091:\"uz_UZ\",1075:\"ve\",1066:\"vi\",1106:\"cy\",1076:\"xh\",1085:\"yi\",1077:\"zu\"};const a=/^([a-z\\d]+)(?:[_-]([a-z\\d]+))?(?:\\.([a-z\\d]+))?(?:@([a-z\\d]+))?$/i,r={},i={group:\"\",decimal:\".\",positive:\"+\",negative:\"-\",percent:\"%\",exponent:\"E\",nan:\"NaN\",infinity:\"\",ampm:[\"AM\",\"PM\"],mmmm6:[\"Muharram\",\"Safar\",\"Rabi I\",\"Rabi II\",\"Jumada I\",\"Jumada II\",\"Rajab\",\"Shaban\",\"Ramadan\",\"Shawwal\",\"Dhul-Qidah\",\"Dhul-Hijjah\"],mmm6:[\"Muh.\",\"Saf.\",\"Rab. I\",\"Rab. II\",\"Jum. I\",\"Jum. II\",\"Raj.\",\"Sha.\",\"Ram.\",\"Shaw.\",\"Dhul-Q.\",\"Dhul-H.\"],mmmm:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],mmm:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dddd:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],ddd:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"]};function s(e){const t=a.exec(e);if(!t)throw new SyntaxError(\"Malformed locale: \".concat(e));return{lang:t[1]+(t[2]?\"_\"+t[2]:\"\"),language:t[1],territory:t[2]||\"\",codeset:t[3]||\"\",modifier:t[4]||\"\"}}function o(e){if(\"number\"==typeof e)return n[65535&e]||null;const t=parseInt(e,16);return isFinite(t)&&n[65535&t]?n[65535&t]||null:a.test(e)?e:null}function l(e){const t=o(e);let n=null;if(t){const e=s(t);n=r[e.lang]||r[e.language]||null}return n}function d(e){return Object.assign({},i,e)}function m(e,t){const n=\"object\"==typeof t?t:s(t);return r[n.lang]=d(e),n.language===n.lang||r[n.language]||(r[n.language]=d(e)),r[n.lang]}const u=d({group:\",\"});function c(e,t){if(\"number\"!=typeof e)return e;if(e<0)return-c(-e,t);if(t){const n=10**(t||0)||1;return c(e*n,0)/n}return Math.round(e)}u.isDefault=!0,m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"zh_CN\"),m({group:\",\",nan:\"\",ampm:[\"\",\"\"],mmmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"zh_TW\"),m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"ja\"),m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"ko\"),m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\".\",\".\",\".\",\".\",\".\",\".\",\".\"]},\"th\"),m({decimal:\",\",ampm:[\"dop.\",\"odp.\"],mmmm:[\"ledna\",\"nora\",\"bezna\",\"dubna\",\"kvtna\",\"ervna\",\"ervence\",\"srpna\",\"z\",\"jna\",\"listopadu\",\"prosince\"],mmm:[\"led\",\"no\",\"be\",\"dub\",\"kv\",\"vn\",\"vc\",\"srp\",\"z\",\"j\",\"lis\",\"pro\"],dddd:[\"nedle\",\"pondl\",\"ter\",\"steda\",\"tvrtek\",\"ptek\",\"sobota\"],ddd:[\"ne\",\"po\",\"t\",\"st\",\"t\",\"p\",\"so\"]},\"cs\"),m({group:\".\",decimal:\",\",mmmm:[\"januar\",\"februar\",\"marts\",\"april\",\"maj\",\"juni\",\"juli\",\"august\",\"september\",\"oktober\",\"november\",\"december\"],mmm:[\"jan.\",\"feb.\",\"mar.\",\"apr.\",\"maj\",\"jun.\",\"jul.\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"sndag\",\"mandag\",\"tirsdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lrdag\"],ddd:[\"sn.\",\"man.\",\"tir.\",\"ons.\",\"tor.\",\"fre.\",\"lr.\"]},\"da\"),m({group:\".\",decimal:\",\",ampm:[\"a.m.\",\"p.m.\"],mmmm:[\"januari\",\"februari\",\"maart\",\"april\",\"mei\",\"juni\",\"juli\",\"augustus\",\"september\",\"oktober\",\"november\",\"december\"],mmm:[\"jan.\",\"feb.\",\"mrt.\",\"apr.\",\"mei\",\"jun.\",\"jul.\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"zondag\",\"maandag\",\"dinsdag\",\"woensdag\",\"donderdag\",\"vrijdag\",\"zaterdag\"],ddd:[\"zo\",\"ma\",\"di\",\"wo\",\"do\",\"vr\",\"za\"]},\"nl\"),m({group:\",\"},\"en\"),m({decimal:\",\",nan:\"epluku\",ampm:[\"ap.\",\"ip.\"],mmmm:[\"tammikuuta\",\"helmikuuta\",\"maaliskuuta\",\"huhtikuuta\",\"toukokuuta\",\"keskuuta\",\"heinkuuta\",\"elokuuta\",\"syyskuuta\",\"lokakuuta\",\"marraskuuta\",\"joulukuuta\"],mmm:[\"tammik.\",\"helmik.\",\"maalisk.\",\"huhtik.\",\"toukok.\",\"kesk.\",\"heink.\",\"elok.\",\"syysk.\",\"lokak.\",\"marrask.\",\"jouluk.\"],dddd:[\"sunnuntaina\",\"maanantaina\",\"tiistaina\",\"keskiviikkona\",\"torstaina\",\"perjantaina\",\"lauantaina\"],ddd:[\"su\",\"ma\",\"ti\",\"ke\",\"to\",\"pe\",\"la\"]},\"fi\"),m({group:\"\",decimal:\",\",mmmm:[\"janvier\",\"fvrier\",\"mars\",\"avril\",\"mai\",\"juin\",\"juillet\",\"aot\",\"septembre\",\"octobre\",\"novembre\",\"dcembre\"],mmm:[\"janv.\",\"fvr.\",\"mars\",\"avr.\",\"mai\",\"juin\",\"juil.\",\"aot\",\"sept.\",\"oct.\",\"nov.\",\"dc.\"],dddd:[\"dimanche\",\"lundi\",\"mardi\",\"mercredi\",\"jeudi\",\"vendredi\",\"samedi\"],ddd:[\"dim.\",\"lun.\",\"mar.\",\"mer.\",\"jeu.\",\"ven.\",\"sam.\"]},\"fr\"),m({group:\".\",decimal:\",\",mmmm:[\"Januar\",\"Februar\",\"Mrz\",\"April\",\"Mai\",\"Juni\",\"Juli\",\"August\",\"September\",\"Oktober\",\"November\",\"Dezember\"],mmm:[\"Jan.\",\"Feb.\",\"Mrz\",\"Apr.\",\"Mai\",\"Juni\",\"Juli\",\"Aug.\",\"Sept.\",\"Okt.\",\"Nov.\",\"Dez.\"],dddd:[\"Sonntag\",\"Montag\",\"Dienstag\",\"Mittwoch\",\"Donnerstag\",\"Freitag\",\"Samstag\"],ddd:[\"So.\",\"Mo.\",\"Di.\",\"Mi.\",\"Do.\",\"Fr.\",\"Sa.\"]},\"de\"),m({group:\".\",decimal:\",\",ampm:[\"..\",\"..\"],mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"el\"),m({decimal:\",\",ampm:[\"de.\",\"du.\"],mmmm:[\"janur\",\"februr\",\"mrcius\",\"prilis\",\"mjus\",\"jnius\",\"jlius\",\"augusztus\",\"szeptember\",\"oktber\",\"november\",\"december\"],mmm:[\"jan.\",\"febr.\",\"mrc.\",\"pr.\",\"mj.\",\"jn.\",\"jl.\",\"aug.\",\"szept.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"vasrnap\",\"htf\",\"kedd\",\"szerda\",\"cstrtk\",\"pntek\",\"szombat\"],ddd:[\"V\",\"H\",\"K\",\"Sze\",\"Cs\",\"P\",\"Szo\"]},\"hu\"),m({group:\".\",decimal:\",\",ampm:[\"f.h.\",\"e.h.\"],mmmm:[\"janar\",\"febrar\",\"mars\",\"aprl\",\"ma\",\"jn\",\"jl\",\"gst\",\"september\",\"oktber\",\"nvember\",\"desember\"],mmm:[\"jan.\",\"feb.\",\"mar.\",\"apr.\",\"ma\",\"jn.\",\"jl.\",\"g.\",\"sep.\",\"okt.\",\"nv.\",\"des.\"],dddd:[\"sunnudagur\",\"mnudagur\",\"rijudagur\",\"mivikudagur\",\"fimmtudagur\",\"fstudagur\",\"laugardagur\"],ddd:[\"sun.\",\"mn.\",\"ri.\",\"mi.\",\"fim.\",\"fs.\",\"lau.\"]},\"is\"),m({group:\".\",decimal:\",\",mmmm:[\"Januari\",\"Februari\",\"Maret\",\"April\",\"Mei\",\"Juni\",\"Juli\",\"Agustus\",\"September\",\"Oktober\",\"November\",\"Desember\"],mmm:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"Mei\",\"Jun\",\"Jul\",\"Agu\",\"Sep\",\"Okt\",\"Nov\",\"Des\"],dddd:[\"Minggu\",\"Senin\",\"Selasa\",\"Rabu\",\"Kamis\",\"Jumat\",\"Sabtu\"],ddd:[\"Min\",\"Sen\",\"Sel\",\"Rab\",\"Kam\",\"Jum\",\"Sab\"]},\"id\"),m({group:\".\",decimal:\",\",mmmm:[\"gennaio\",\"febbraio\",\"marzo\",\"aprile\",\"maggio\",\"giugno\",\"luglio\",\"agosto\",\"settembre\",\"ottobre\",\"novembre\",\"dicembre\"],mmm:[\"gen\",\"feb\",\"mar\",\"apr\",\"mag\",\"giu\",\"lug\",\"ago\",\"set\",\"ott\",\"nov\",\"dic\"],dddd:[\"domenica\",\"luned\",\"marted\",\"mercoled\",\"gioved\",\"venerd\",\"sabato\"],ddd:[\"dom\",\"lun\",\"mar\",\"mer\",\"gio\",\"ven\",\"sab\"]},\"it\"),m({decimal:\",\",ampm:[\"a.m.\",\"p.m.\"],mmmm:[\"januar\",\"februar\",\"mars\",\"april\",\"mai\",\"juni\",\"juli\",\"august\",\"september\",\"oktober\",\"november\",\"desember\"],mmm:[\"jan.\",\"feb.\",\"mar.\",\"apr.\",\"mai\",\"jun.\",\"jul.\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"des.\"],dddd:[\"sndag\",\"mandag\",\"tirsdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lrdag\"],ddd:[\"sn.\",\"man.\",\"tir.\",\"ons.\",\"tor.\",\"fre.\",\"lr.\"]},\"nb\"),m({decimal:\",\",mmmm:[\"stycznia\",\"lutego\",\"marca\",\"kwietnia\",\"maja\",\"czerwca\",\"lipca\",\"sierpnia\",\"wrzenia\",\"padziernika\",\"listopada\",\"grudnia\"],mmm:[\"sty\",\"lut\",\"mar\",\"kwi\",\"maj\",\"cze\",\"lip\",\"sie\",\"wrz\",\"pa\",\"lis\",\"gru\"],dddd:[\"niedziela\",\"poniedziaek\",\"wtorek\",\"roda\",\"czwartek\",\"pitek\",\"sobota\"],ddd:[\"niedz.\",\"pon.\",\"wt.\",\"r.\",\"czw.\",\"pt.\",\"sob.\"]},\"pl\"),m({group:\".\",decimal:\",\",mmmm:[\"janeiro\",\"fevereiro\",\"maro\",\"abril\",\"maio\",\"junho\",\"julho\",\"agosto\",\"setembro\",\"outubro\",\"novembro\",\"dezembro\"],mmm:[\"jan.\",\"fev.\",\"mar.\",\"abr.\",\"mai.\",\"jun.\",\"jul.\",\"ago.\",\"set.\",\"out.\",\"nov.\",\"dez.\"],dddd:[\"domingo\",\"segunda-feira\",\"tera-feira\",\"quarta-feira\",\"quinta-feira\",\"sexta-feira\",\"sbado\"],ddd:[\"dom.\",\"seg.\",\"ter.\",\"qua.\",\"qui.\",\"sex.\",\"sb.\"]},\"pt\"),m({decimal:\",\",nan:\"\",mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\".\",\".\",\".\",\".\",\"\",\".\",\".\",\".\",\".\",\".\",\".\",\".\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"ru\"),m({decimal:\",\",mmmm:[\"janura\",\"februra\",\"marca\",\"aprla\",\"mja\",\"jna\",\"jla\",\"augusta\",\"septembra\",\"oktbra\",\"novembra\",\"decembra\"],mmm:[\"jan\",\"feb\",\"mar\",\"apr\",\"mj\",\"jn\",\"jl\",\"aug\",\"sep\",\"okt\",\"nov\",\"dec\"],dddd:[\"nedea\",\"pondelok\",\"utorok\",\"streda\",\"tvrtok\",\"piatok\",\"sobota\"],ddd:[\"ne\",\"po\",\"ut\",\"st\",\"t\",\"pi\",\"so\"]},\"sk\"),m({group:\".\",decimal:\",\",ampm:[\"a.m.\",\"p.m.\"],mmmm:[\"enero\",\"febrero\",\"marzo\",\"abril\",\"mayo\",\"junio\",\"julio\",\"agosto\",\"septiembre\",\"octubre\",\"noviembre\",\"diciembre\"],mmm:[\"ene.\",\"feb.\",\"mar.\",\"abr.\",\"may.\",\"jun.\",\"jul.\",\"ago.\",\"sept.\",\"oct.\",\"nov.\",\"dic.\"],dddd:[\"domingo\",\"lunes\",\"martes\",\"mircoles\",\"jueves\",\"viernes\",\"sbado\"],ddd:[\"dom.\",\"lun.\",\"mar.\",\"mi.\",\"jue.\",\"vie.\",\"sb.\"]},\"es\"),m({decimal:\",\",ampm:[\"fm\",\"em\"],mmmm:[\"januari\",\"februari\",\"mars\",\"april\",\"maj\",\"juni\",\"juli\",\"augusti\",\"september\",\"oktober\",\"november\",\"december\"],mmm:[\"jan.\",\"feb.\",\"mars\",\"apr.\",\"maj\",\"juni\",\"juli\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"sndag\",\"mndag\",\"tisdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lrdag\"],ddd:[\"sn\",\"mn\",\"tis\",\"ons\",\"tors\",\"fre\",\"lr\"]},\"sv\"),m({group:\".\",decimal:\",\",ampm:[\"\",\"S\"],mmmm:[\"Ocak\",\"ubat\",\"Mart\",\"Nisan\",\"Mays\",\"Haziran\",\"Temmuz\",\"Austos\",\"Eyll\",\"Ekim\",\"Kasm\",\"Aralk\"],mmm:[\"Oca\",\"ub\",\"Mar\",\"Nis\",\"May\",\"Haz\",\"Tem\",\"Au\",\"Eyl\",\"Eki\",\"Kas\",\"Ara\"],dddd:[\"Pazar\",\"Pazartesi\",\"Sal\",\"aramba\",\"Perembe\",\"Cuma\",\"Cumartesi\"],ddd:[\"Paz\",\"Pzt\",\"Sal\",\"ar\",\"Per\",\"Cum\",\"Cmt\"]},\"tr\");function p(e,t,n){const a=e<0?-1:1,r=10**(t||2),i=10**(n||2);let s,o,l=Math.abs(e),d=0,m=0,u=0,c=1;if((e=l)%1==0)o=[e*a,1];else if(e<1e-19)o=[a,1e19];else if(e>1e19)o=[1e19*a,1];else{do{if(l=1/(l-Math.floor(l)),s=c,c=c*Math.floor(l)+d,d=s,m=u,u=Math.floor(e*c+.5),u>=r||c>=i)return[a*m,d]}while(Math.abs(e-u/c)>=1e-10&&l!==Math.floor(l));o=[a*u,c]}return o}const f={overflow:\"######\",dateErrorThrows:!1,dateErrorNumber:!0,dateSpanLarge:!0,leap1900:!0,nbsp:!0,throws:!0,invalid:\"######\",locale:\"\",ignoreTimezone:!1},g=Object.assign({},f);function h(e){if(null===e&&(e=f),e)for(const t in e)if(t in f){const n=e[t];g[t]=null==n?f[t]:n}return{...g}}const y=16,_=32,b=64,j={\"#\":\"\",0:\"0\",\"?\":\"\"},v={\"@\":\"text\",\"-\":\"minus\",\"+\":\"plus\"},M=[\"#000\",\"#FFF\",\"#F00\",\"#0F0\",\"#00F\",\"#FF0\",\"#F0F\",\"#0FF\",\"#000\",\"#FFF\",\"#F00\",\"#0F0\",\"#00F\",\"#FF0\",\"#F0F\",\"#0FF\",\"#800\",\"#080\",\"#008\",\"#880\",\"#808\",\"#088\",\"#CCC\",\"#888\",\"#99F\",\"#936\",\"#FFC\",\"#CFF\",\"#606\",\"#F88\",\"#06C\",\"#CCF\",\"#008\",\"#F0F\",\"#FF0\",\"#0FF\",\"#808\",\"#800\",\"#088\",\"#00F\",\"#0CF\",\"#CFF\",\"#CFC\",\"#FF9\",\"#9CF\",\"#F9C\",\"#C9F\",\"#FC9\",\"#36F\",\"#3CC\",\"#9C0\",\"#FC0\"],k=[\"\",\"$\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],x=new RegExp(\"[\"+k.join(\"\")+\"]\");function F(e,t,n){return t[n+\"_max\"]=e.length,t[n+\"_min\"]=e.replace(/#/g,\"\").length,t}const z={};function w(e){if(!(e in z)){const t=[],n=e.replace(/^[#,]+/,\"\").replace(/[1-9]\\d*/g,(e=>\"?\".repeat(e.length)));for(let e=0;e<n.length;e++){const a=n.charAt(e);t[e]=a in j?j[a]:a}z[e]=t.join(\"\")}return z[e]}function D(e,t){\"string\"==typeof e&&(e={type:\"string\",value:e=e.replace(/ /g,j[\"?\"])}),t.push(e)}function S(e){const t=[],n={scale:1,percent:!1,text:!1,date:0,date_eval:!1,date_system:1,sec_decimals:0,general:!1,clock:24,int_pattern:[],frac_pattern:[],man_pattern:[],den_pattern:[],num_pattern:[],tokens:t};let a=e+\"\",r=\"int\",i=!1,s=null;const l=[];let d,m,u=!1;for(;a&&!i;){if(d=/^General/i.exec(a))n.general=!0,D({type:\"general\"},t);else if(\"int\"===r&&(d=/^[#?0]+(?:,[#?0]+)*/.exec(a))||\"den\"===r&&(d=/^[#?\\d]+/.exec(a))||(d=/^[#?0]+/.exec(a)))n[r+\"_pattern\"].push(d[0]),s={type:r,num:d[0]},D(s,t);else if((d=/^\\//.exec(a))&&n[r+\"_pattern\"].length){if(!s)throw new SyntaxError(\"Missing a numerator in pattern \".concat(e));n.fractions=!0,n.num_pattern.push(n[r+\"_pattern\"].pop()),s.type=\"num\",r=\"den\",D({type:\"div\"},t)}else if(d=/^,+/.exec(a)){const e=a.charAt(1)in j;m.slice(-1)in j&&(d[0].length>1||!e)?n.scale=.001**d[0].length:n.dec_fractions||D(d[0],t)}else{if(d=/^;/.exec(a)){i=!0;break}if(d=/^[@+-]/.exec(a))\"@\"===d[0]&&(n.text=!0),D({type:v[d[0]]},t);else if(d=/^(?:\\[(h+|m+|s+)\\])/i.exec(a)){const e=d[1].toLowerCase(),a=e[0],r={type:\"\",size:0,date:1,raw:d[0],pad:e.length};\"h\"===a?(r.size=y,r.type=\"hour-elap\"):\"m\"===a?(r.size=_,r.type=\"min-elap\"):(r.size=b,r.type=\"sec-elap\"),n.date=n.date|r.size,l.push(r),D(r,t)}else if(d=/^(?:B2)/i.exec(a))u||(n.date_system=6);else if(d=/^(?:B1)/i.exec(a))u||(n.date_system=1);else if(d=/^(?:([hHmMsSyYbBdDegG])\\1*)/.exec(a)){const e={type:\"\",size:0,date:1,raw:d[0]},a=d[0].toLowerCase(),r=a[0];if(\"y\"===a||\"yy\"===a)e.size=2,e.type=\"year-short\";else if(\"y\"===r||\"e\"===r)e.size=2,e.type=\"year\";else if(\"b\"===a||\"bb\"===a)e.size=2,e.type=\"b-year-short\";else if(\"b\"===r)e.size=2,e.type=\"b-year\";else if(\"d\"===a||\"dd\"===a)e.size=8,e.type=\"day\",e.pad=/dd/.test(a);else if(\"ddd\"===a)e.size=8,e.type=\"weekday-short\";else if(\"d\"===r)e.size=8,e.type=\"weekday\";else if(\"h\"===r)e.size=y,e.type=\"hour\",e.pad=/hh/i.test(a);else if(\"m\"===r){3===a.length?(e.size=4,e.type=\"monthname-short\"):5===a.length?(e.size=4,e.type=\"monthname-single\"):a.length>=4&&(e.size=4,e.type=\"monthname\");const t=l[l.length-1];!e.type&&t&&!t.used&&80&t.size&&(t.used=!0,e.size=_,e.type=\"min\",e.pad=/mm/.test(a)),e.type||(e.size=4,e.type=\"month\",e.pad=/mm/.test(a),e.indeterminate=!0)}else if(\"s\"===r){e.size=b,e.type=\"sec\",e.pad=/ss/.test(a);const t=l[l.length-1];t&&t.size&_?e.used=!0:t&&t.indeterminate&&(delete t.indeterminate,t.size=_,t.type=\"min\",e.used=!0)}n.date=n.date|e.size,n.date_eval=!0,l.push(e),D(e,t)}else if(d=/^(?:AM\\/PM|am\\/pm|A\\/P)/.exec(a))n.clock=12,n.date=n.date|y,n.date_eval=!0,D({type:\"am\",short:\"A/P\"===d[0]},t);else if(n.date&&(d=/^\\.0{1,3}/i.exec(a))){const e=d[0].length-1,a=[b,128,256,512][e];n.date=n.date|a,n.date_eval=!0,n.sec_decimals=Math.max(n.sec_decimals,e),D({type:\"subsec\",size:a,decimals:e,date:1,raw:d[0]},t)}else if((d=/^\\\\(.)/.exec(a))||(d=/^\"([^\"]*?)\"/.exec(a)))D(d[1],t);else if(d=/^\\[(<[=>]?|>=?|=)\\s*(-?[.\\d]+)\\]/.exec(a))n.condition=[d[1],parseFloat(d[2],10)];else if(d=/^\\[\\$([^\\]]+)\\]/.exec(a)){const e=d[1].split(\"-\"),a=e.length<2?\"\":e[e.length-1],r=e[0];r&&D(r,t);const i=o(a);i&&(n.locale=i);const s=parseInt(a,16);if(isFinite(s)&&16711680&s){6===(s>>16&255)&&(n.date_system=6)}u=!0}else if(d=/^\\[(black|blue|cyan|green|magenta|red|white|yellow|color\\s*(\\d+))\\]/i.exec(a))n.color=d[2]?M[parseInt(d[2],10)]||\"#000\":d[1].toLowerCase();else if(d=/^\\[(DBNum1|ENG|HIJ|JPN|TWN)\\]/i.exec(a));else if(d=/^%/.exec(a))n.scale=100,n.percent=!0,D(\"%\",t);else if(d=/^_(\\\\.|.)/.exec(a))D(\" \",t);else if(d=/^\\./.exec(a))D({type:\"point\",value:d[0]},t),n.dec_fractions=!0,r=\"frac\";else if(d=/^[Ee]([+-]?|(?=[0#?]))/.exec(a))n.exponential=!0,n.exp_plus=\"+\"===d[1],r=\"man\",D({type:\"exp\",plus:\"+\"===d[1]},t);else if(d=/^\\*(\\\\.|.)/.exec(a));else{if(d=/^[BENn[]/.exec(a))throw new SyntaxError(\"Unexpected char \".concat(a.charAt(0),\" in pattern \").concat(e));\"(\"===a[0]&&(n.parens=!0),d=[a[0]],D(d[0],t)}}m=d[0],a=a.slice(d?d[0].length:1)}if(n.pattern=e.slice(0,e.length-a.length),/^((?:\\[[^\\]]+\\])+)(;|$)/.test(n.pattern)&&!/^\\[(?:h+|m+|s+)\\]/.test(n.pattern)&&D({type:\"text\"},t),n.fractions&&n.dec_fractions||n.fractions&&n.exponential)throw new SyntaxError(\"Invalid pattern: \".concat(n.pattern));const c=n.int_pattern.join(\"\");if(n.grouping=c.indexOf(\",\")>=0,n.grouping){const e=c.split(\",\"),t=e.length;2===t?(n.group_pri=e[1].length,n.group_sec=n.group_pri):t>2&&(n.group_pri=e[t-1].length,n.group_sec=e[t-2].length)}else n.group_pri=0,n.group_sec=0;F(c.replace(/[,]/g,\"\"),n,\"int\"),F(n.frac_pattern.join(\"\"),n,\"frac\"),F(n.man_pattern.join(\"\"),n,\"man\");let p=n.num_pattern.join(\"\"),f=n.den_pattern.join(\"\");const g=/\\?/.test(f)||/\\?/.test(p);return f=f.replace(/\\d/g,g?\"?\":\"#\"),g&&(f=f.replace(/#$/g,\"?\")),F(p,n,\"num\"),F(f,n,\"den\"),g&&(p=p.replace(/#$/g,\"?\")),n.int_padding=w(n.int_pattern.join(\"\")),n.man_padding=w(n.man_pattern.join(\"\")),n.num_padding=w(p),n.den_padding=w(f),n.den_pattern.length&&(n.denominator=parseInt(n.den_pattern.join(\"\").replace(/\\D/g,\"\"),10)),n.integer=!!n.int_pattern.join(\"\").length,n.fractions&&t.forEach(((e,n)=>{const a=t[n+1];\"string\"===e.type&&a&&(\"num\"===a.type?e.rule=\"num+int\":\"div\"===a.type?e.rule=\"num\":\"den\"===a.type&&(e.rule=\"den\"))})),n}const C=e=>{const t=e.condition;t&&t[1]<0&&(\"<\"===t[0]||\"<=\"===t[0]||\"=\"===t[0])||e.tokens.unshift({type:\"minus\",volatile:!0})};function E(e){const t=[];let n,a=!1,r=null,i=e,s=0,l=!1,d=0,m=0;do{if(l=S(i),(l.date||l.general)&&(l.int_pattern.length||l.frac_pattern.length||1!==l.scale||l.text))throw new Error(\"Illegal format\");if(l.condition&&(m++,a=!0),l.text){if(r)throw new Error(\"Unexpected partition\");r=l}l.locale&&(n=o(l.locale)),t.push(l),s=\";\"===i.charAt(l.pattern.length)?1:0,i=i.slice(l.pattern.length+s),d++}while(s&&d<4&&m<3);if(s)throw new Error(\"Unexpected partition\");if(m>2)throw new Error(\"Unexpected condition\");const u=t[3];if(u&&(u.int_pattern.length||u.frac_pattern.length||u.date))throw new Error(\"Unexpected partition\");if(a){const e=t.length;if(1===e&&(t[1]=S(\"General\"),t[1].generated=!0),e<3){const e=t[0],n=t[1];if(C(e),n.condition)C(n);else{const t=e.condition;(\"=\"===t[0]||t[1]>=0&&(\">\"===t[0]||\">=\"===t[0]))&&n.tokens.unshift({type:\"minus\",volatile:!0})}}else t.forEach(C)}else{if(t.length<4&&r)for(let e=0,n=t.length;e<n;e++)t[e]===r&&t.splice(e,1);if(t.length<1&&r&&(t[0]=S(\"General\"),t[0].generated=!0),t.length<2){const e=S(t[0].pattern);e.tokens.unshift({type:\"minus\",volatile:!0}),e.generated=!0,t.push(e)}if(t.length<3){const e=S(t[0].pattern);e.generated=!0,t.push(e)}if(t.length<4)if(r)t.push(r);else{const e=S(\"@\");e.generated=!0,t.push(e)}t[0].condition=[\">\",0],t[1].condition=[\"<\",0],t[2].condition=null}return{pattern:e,partitions:t,locale:n}}const A=Math.floor;function Y(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&e>=0){if(0===e)return[1900,1,0];if(60===e)return[1900,2,29];if(e<60)return[1900,e<32?1:2,(e-1)%31+1]}let n=e+68569+2415019;const a=A(4*n/146097);n-=A((146097*a+3)/4);const r=A(4e3*(n+1)/1461001);n=n-A(1461*r/4)+31;const i=A(80*n/2447),s=n-A(2447*i/80);n=A(i/11);const o=i+2-12*n,l=100*(a-49)+r+n;return[0|l,0|o,0|s]}function T(e){return Y(e+1462)}function N(e){if(60===e)throw new Error(\"#VALUE!\");if(e<=1)return[1317,8,29];if(e<60)return[1317,e<32?9:10,1+(e-2)%30];const t=10631/30,n=.1335;let a=e+466935;const r=A(a/10631);a-=10631*r;const i=A((a-n)/t);a-=A(i*t+n);const s=A((a+28.5001)/29.5);return 13===s?[30*r+i,12,30]:[30*r+i,s,a-A(29.5001*s-29)]}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=A(e);return 6===t?N(a):-1===t?T(a):Y(a,n)}const I=Math.floor,O=86400;function J(e,t){let n=null;if(Array.isArray(e)){const[t,a,r,i,s,o]=e;n=Date.UTC(t,null==a?0:a-1,null!=r?r:1,i||0,s||0,o||0)}else if(e instanceof Date&&(n=1*e,!t||!t.ignoreTimezone)){const t=new Date;t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n=1*t}if(null!=n&&isFinite(n)){const e=n/864e5;return e-(e<=-25509?-25568:-25569)}return e}function L(e,t){let n=0|e;const a=O*(e-n);let r=I(a);a-r>.9999&&(r+=1,r===O&&(r=0,n+=1));const i=r<0?O+r:r,[s,o,l]=P(e,0,t&&t.leap1900),d=I(i/60/60)%60,m=I(i/60)%60,u=I(i)%60;if(t&&t.nativeDate){const e=new Date(0);return e.setUTCFullYear(s,o-1,l),e.setUTCHours(d,m,u),e}return[s,o,l,d,m,u]}function U(e){return!!(e[0]&&e[0].percent||e[1]&&e[1].percent||e[2]&&e[2].percent||e[3]&&e[3].percent)}function R(e){return!!(e[0]&&e[0].date||e[1]&&e[1].date||e[2]&&e[2].date||e[3]&&e[3].date)}function G(e){const[t,n,a,r]=e;return!(t&&!t.generated||n&&!n.generated||a&&!a.generated||!r||!r.text||r.generated)}const H={text:15,datetime:10.8,date:10.8,time:10.8,percent:10.6,currency:10.4,grouped:10.2,scientific:6,number:4,fraction:2,general:0,error:0},B=[[\"DMY\",1],[\"DM\",2],[\"MY\",3],[\"MDY\",4],[\"MD\",5],[\"hmsa\",6],[\"hma\",7],[\"hms\",8],[\"hm\",9]];const $={total:1,sign:0,period:0,int:1,frac:0};const W=(e,t)=>e.replace(/\\./,t.decimal);function Z(e,t,n,a){const r=0|n;if(\"string\"==typeof n)e.push(n);else if(n===r)e.push(Math.abs(r));else{let t=0;const r=Math.abs(n);r&&(t=Math.floor(Math.log10(r)));let i=t<0?r*10**-t:r/10**t;10===i&&(i=1,t++);const s=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Math.abs(e);if(!n)return $;const a=t&&e<0?1:0,r=Math.floor(n),i=Math.floor(Math.log10(n)+1);let s=0,o=0;if(r!==n){s=1;const e=String(c(i<0?n*10**-i:n/10**i,15));let t=e.length,a=!0,r=0;for(;r<=e.length;){if(\".\"===e[r]){t--;break}\"0\"===e[r]&&a?t--:a=!1,r++}o=t-i,o<0&&(o=0,s=0)}return{total:a+Math.max(i,1)+s+o,digits:Math.max(i,0)+o,sign:a,period:s,int:Math.max(i,1),frac:o}}(r),o=()=>{const n=Math.abs(t);let r;r=1===i?i:c(i,5),e.push(W(r+\"\",a),a.exponent,t<0?a.negative:a.positive,n<10?\"0\":\"\",n)};if(t>=-4&&t<=-1){const n=r.toPrecision(10+t).replace(/0+$/,\"\");e.push(W(n,a))}else if(10===t){const t=r.toFixed(10).slice(0,12).replace(/\\.$/,\"\");e.push(W(t,a))}else if(Math.abs(t)<=9){const n=11;if(s.total<=n){const t=c(r,9).toFixed(s.frac);e.push(W(t,a))}else 9===t?e.push(Math.floor(r)):t>=0&&t<9?e.push(c(r,9-t)):o()}else s.total>=12?o():Math.floor(r)===r?e.push(Math.floor(r)):e.push(W(c(r,9).toFixed(s.frac),a))}return e}const K=86400,q={int:\"integer\",frac:\"fraction\",man:\"mantissa\",num:\"numerator\",den:\"denominator\"},V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Math.floor(Math.log10(e));return t>1?Math.floor(n/t)*t:n};function Q(e,t,n,a){let r=\"\",i=\"\",s=\"\",o=\"\",l=\"\",d=0,m=0|e,f=0,g=0,h=1,v=0,M=0,k=0,x=0,F=0,z=0;const w=a||u;if(!t.text&&isFinite(t.scale)&&1!==t.scale&&(e=function(e){if(0===e)return e;const t=Math.ceil(Math.log10(e<0?-e:e)),n=10**(16-Math.floor(t));return Math.round(e*n)/n}(e*t.scale)),t.exponential){let n=Math.abs(e);if(n){const e=10**-V(n,t.int_max),a=c(n*e,t.frac_max)/e;d=V(a,t.int_max)}n/=10**d,e=e<0?-n:n,r+=Math.abs(d)}if(t.integer){const n=Math.abs(c(e,t.fractions?1:t.frac_max));l+=n<1?\"\":Math.floor(n)}if(t.grouping){let e=\"\",n=l.length;for(n>t.group_pri&&(n-=t.group_pri,e=w.group+l.slice(n,n+t.group_pri)+e);n>t.group_sec;)n-=t.group_sec,e=w.group+l.slice(n,n+t.group_sec)+e;l=n?l.slice(0,n)+e:e}t.dec_fractions&&(o=String(c(e,t.frac_max)).split(\".\")[1]||\"\");let D=!1;if(t.fractions){const n=Math.abs(t.integer?e%1:e);if(n)if(D=!0,isFinite(t.denominator))s+=t.denominator,i+=c(n*t.denominator),\"0\"===i&&(i=\"\",s=\"\",D=!1,l||(l=\"0\"));else{const e=p(n,t.integer?t.num_max:1/0,t.den_max);i+=e[0],s+=e[1],t.integer&&\"0\"===i&&(l||(l=\"0\"),i=\"\",s=\"\",D=!1)}}if(t.date_eval&&((e,t)=>t?e<-694324||e>=35830291:e<0||e>=2958466)(e,n.dateSpanLarge)){if(n.dateErrorThrows)throw new Error(\"Date out of bounds\");if(n.dateErrorNumber){return Z(e<0?[w.negative]:[],0,e,w).join(\"\")}return n.overflow}if(t.date){m=0|e;const a=K*(e-m);if(f=Math.floor(a),z=a-f,Math.abs(z)<1e-6?z=0:z>.9999&&(z=0,f+=1,f===K&&(f=0,m+=1)),m||t.date_system){const a=P(e,t.date_system,n.leap1900);g=a[0],h=a[1],v=a[2]}if(f||z){const e=512&t.date||256&t.date||128&t.date||t.date&b||t.date&_||t.date&y;(512===e&&z>.9995||256===e&&z>.995||128===e&&z>.95||e===b&&z>=.5||e===_&&z>=.5||e===y&&z>=.5)&&(f++,z=0);const n=f<0?K+f:f;F=Math.floor(n)%60,x=Math.floor(n/60)%60,k=Math.floor(n/60/60)%60}M=(6+m)%7}if(t.int_padding&&(l=1===t.int_padding.length?l||t.int_padding:t.int_padding.substring(0,t.int_padding.length-l.length)+l),t.num_padding&&(i=1===t.num_padding.length?i||t.num_padding:t.num_padding.substring(0,t.num_padding.length-i.length)+i),t.den_padding&&(s=1===t.den_padding.length?s||t.den_padding:s+t.den_padding.slice(s.length)),t.man_padding){const e=t.exp_plus?\"+\":\"\";r=1===t.man_padding.length?(d<0?\"-\":e)+(r||t.man_padding):(d<0?\"-\":e)+t.man_padding.slice(0,t.man_padding.length-r.length)+r}const S=[];let C=0;const E={int:0,frac:0,man:0,num:0,den:0};for(let d=0,u=t.tokens.length;d<u;d++){const u=t.tokens[d],c=u.num?u.num.length:0;if(\"string\"===u.type)u.rule?\"num\"===u.rule?D?S.push(u.value):(t.num_min>0||t.den_min>0)&&S.push(u.value.replace(/./g,j[\"?\"])):\"num+int\"===u.rule?D&&l?S.push(u.value):t.den_min>0&&(l||t.num_min)&&S.push(u.value.replace(/./g,j[\"?\"])):\"den\"===u.rule&&(D?S.push(u.value):(t.den_min>0||t.den_min>0)&&S.push(u.value.replace(/./g,j[\"?\"]))):S.push(u.value);else if(\"error\"===u.type)S.push(n.invalid);else if(\"point\"===u.type)S.push(t.date?u.value:w.decimal);else if(\"general\"===u.type)Z(S,0,e,w);else if(\"exp\"===u.type)S.push(w.exponent);else if(\"minus\"===u.type)u.volatile&&t.date||u.volatile&&(e>=0||\"number\"!=typeof e)||(u.volatile&&!t.fractions&&(t.integer||t.dec_fractions)?(e<0&&l&&\"0\"!==l||o)&&S.push(w.negative):S.push(w.negative));else if(\"plus\"===u.type)S.push(w.positive);else if(\"text\"===u.type)S.push(e);else if(\"div\"===u.type)D?S.push(\"/\"):t.num_min>0||t.den_min>0?S.push(j[\"?\"]):S.push(j[\"#\"]);else if(\"int\"===u.type)if(1===t.int_pattern.length)S.push(l);else{const e=C?t.int_pattern.join(\"\").length-E.int:1/0,n=C===t.int_pattern.length-1?0:t.int_pattern.join(\"\").length-(E.int+u.num.length);S.push(l.substring(l.length-e,l.length-n)),C++,E.int+=u.num.length}else if(\"frac\"===u.type){const e=E.frac;for(let t=0;t<c;t++)S.push(o[t+e]||j[u.num[t]]);E.frac+=c}else if(u.type in q)1===t[u.type+\"_pattern\"].length?(\"int\"===u.type&&S.push(l),\"frac\"===u.type&&S.push(o),\"man\"===u.type&&S.push(r),\"num\"===u.type&&S.push(i),\"den\"===u.type&&S.push(s)):(S.push(q[u.type].slice(E[u.type],E[u.type]+c)),E[u.type]+=c);else if(\"year\"===u.type)g<0&&S.push(w.negative),S.push(String(Math.abs(g)).padStart(4,\"0\"));else if(\"year-short\"===u.type){const e=g%100;S.push(e<10?\"0\":\"\",e)}else if(\"month\"===u.type)S.push(u.pad&&h<10?\"0\":\"\",h);else if(\"monthname-single\"===u.type)6===t.date_system?S.push(w.mmmm6[h-1].charAt(0)):S.push(w.mmmm[h-1].charAt(0));else if(\"monthname-short\"===u.type)6===t.date_system?S.push(w.mmm6[h-1]):S.push(w.mmm[h-1]);else if(\"monthname\"===u.type)6===t.date_system?S.push(w.mmmm6[h-1]):S.push(w.mmmm[h-1]);else if(\"weekday-short\"===u.type)S.push(w.ddd[M]);else if(\"weekday\"===u.type)S.push(w.dddd[M]);else if(\"day\"===u.type)S.push(u.pad&&v<10?\"0\":\"\",v);else if(\"hour\"===u.type){const e=k%t.clock||(t.clock<24?t.clock:0);S.push(u.pad&&e<10?\"0\":\"\",e)}else if(\"min\"===u.type)S.push(u.pad&&x<10?\"0\":\"\",x);else if(\"sec\"===u.type)S.push(u.pad&&F<10?\"0\":\"\",F);else if(\"subsec\"===u.type){S.push(w.decimal);const e=z.toFixed(t.sec_decimals);S.push(e.slice(2,2+u.decimals))}else if(\"am\"===u.type){const e=k<12?0:1;u.short&&!a?S.push(\"AP\"[e]):S.push(w.ampm[e])}else if(\"hour-elap\"===u.type){e<0&&S.push(w.negative);const t=24*m+Math.floor(Math.abs(f)/3600);S.push(String(Math.abs(t)).padStart(u.pad,\"0\"))}else if(\"min-elap\"===u.type){e<0&&S.push(w.negative);const t=1440*m+Math.floor(Math.abs(f)/60);S.push(String(Math.abs(t)).padStart(u.pad,\"0\"))}else if(\"sec-elap\"===u.type){e<0&&S.push(w.negative);const t=m*K+Math.abs(f);S.push(String(Math.abs(t)).padStart(u.pad,\"0\"))}else if(\"b-year\"===u.type)S.push(g+543);else if(\"b-year-short\"===u.type){const e=(g+543)%100;S.push(e<10?\"0\":\"\",e)}}return n.nbsp?S.join(\"\"):S.join(\"\").replace(/\\u00a0/g,\" \")}function X(e,t){for(let n=0;n<3;n++){const a=t[n];if(a){let t;if(a.condition){const n=a.condition[0],r=a.condition[1];\"=\"===n?t=e===r:\">\"===n?t=e>r:\"<\"===n?t=e<r:\">=\"===n?t=e>=r:\"<=\"===n?t=e<=r:\"<>\"===n&&(t=e!==r)}else t=!0;if(t)return a}}}const ee=S(\"@\"),te=\"black\";const ne={};function ae(e,t){if(e){const n=e[0];t[n]=t[n]||{},ae(e.slice(1),t[n])}else t.$=!0}[\"d-F-y\",\"d-F-Y\",\"d-M-y\",\"d-M-Y\",\"F-d-y\",\"F-d-Y\",\"F-j-y\",\"F-j-Y\",\"j-F-y\",\"j-F-Y\",\"j-M-y\",\"j-M-Y\",\"M-d-y\",\"M-d-Y\",\"M-j-y\",\"M-j-Y\",\"m-d-y\",\"m-d-Y\",\"m-j-y\",\"m-j-Y\",\"n-d-y\",\"n-d-Y\",\"n-j-y\",\"n-j-Y\",\"y-F-d\",\"y-F-j\",\"y-M-d\",\"y-M-j\",\"Y-F-d\",\"Y-F-j\",\"Y-M-d\",\"Y-m-d\",\"Y-M-j\",\"Y-m-j\",\"Y-n-d\",\"Y-n-j\",\"j-F\",\"j-M\",\"d-F\",\"d-M\",\"n-d\",\"n-j\",\"n-Y\",\"m-d\",\"m-j\",\"m-Y\",\"M-Y\",\"M-y\",\"F-y\",\"F-Y\",\"Y-M\",\"Y-n\",\"Y-m\",\"Y-F\",\"Y-M\"].forEach((e=>{ae(e,ne),ae(e+\" x\",ne),ae(e+\" l\",ne),ae(e+\" l x\",ne),ae(\"l \"+e,ne),ae(\"l \"+e+\" x\",ne),ae(e+\" D\",ne),ae(e+\" D x\",ne),ae(\"D \"+e,ne),ae(\"D \"+e+\" x\",ne)}));const re={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},ie={january:1,february:2,march:3,april:4,june:6,july:7,august:8,september:9,october:10,november:11,december:12},se={sunday:\"l\",monday:\"l\",tuesday:\"l\",wednesday:\"l\",thursday:\"l\",friday:\"l\",saturday:\"l\",sun:\"D\",mon:\"D\",tue:\"D\",wed:\"D\",thu:\"D\",fri:\"D\",sat:\"D\"},oe=(new Date).getUTCFullYear();function le(e){const t=new RegExp(\"^([\\\\s+%\"+k.join(\"\")+\"(-]*)(((?:(?:\\\\d[\\\\d,]*)(?:\\\\.\\\\d*)?|(?:\\\\.\\\\d+)))([eE][+-]?\\\\d+)?)([\\\\s%\"+k.join(\"\")+\")]*)$\").exec(e);if(t){const[,e,n,a,r,i]=t;let s=1,o=\"\",l=!1,d=!1,m=!1,u=!1,c=!1,p=null,f=!1,g=parseFloat(n.replace(/,/g,\"\"));if(!isFinite(g))return null;for(let t=0;t<e.length;t++){const n=e[t];if(\"-\"===n){if(l||d)return null;l=!0,s=-1}else if(x.test(n)){if(c)return null;c=!0,p=n}else if(\"(\"===n){if(d||l)return null;d=!0,s=-1}else if(\"%\"===n){if(u)return null;u=!0}}for(let e=0;e<i.length;e++){const t=i[e];if(x.test(t)){if(c)return null;c=!0,p=t,f=!0}else if(\")\"===t){if(m||!d)return null;m=!0}else if(\"%\"===t){if(u)return null;u=!0}}if(r){if(u||c)return null;o=\"0.00E+00\"}else if(u){if(c)return null;o=a.includes(\".\")?\"0.00%\":\"0%\",g*=.01}else if(c){const e=a.includes(\".\")?\"#,##0.00\":\"#,##0\";o=f?e+p:p+e}else a.includes(\",\")&&(o=a.includes(\".\")?\"#,##0.00\":\"#,##0\");const h={v:g*s};return o&&(h.z=o),h}}const de=(e,t,n)=>{const a=n.path||\"\",r=Object.keys(t);for(let i=0;i<r.length;i++){let s;const o=r[i];if(t[o]){if(\"$\"===o||\"\"===o)e||(s=n);else if(\"-\"===o){const r=/^(\\s*([./-]|,\\s)\\s*|\\s+)/.exec(e);if(r){const i=\"-\"===r[1]||\"/\"===r[1]||\".\"===r[1]?r[1]:\" \";if(!n.sep||n.sep===i){const l=r[0].replace(/\\s+/g,\" \");s=de(e.slice(r[0].length),t[o],{...n,sep:i,path:a+l})}}}else if(\" \"===o){const r=/^[,.]?\\s+/.exec(e);if(r){const i=r[0].replace(/\\s+/g,\" \");s=de(e.slice(r[0].length),t[o],{...n,path:a+i})}}else if(\"j\"===o||\"d\"===o){const r=/^(0?[1-9]|1\\d|2\\d|3[01])\\b/.exec(e);r&&(s=de(e.slice(r[0].length),t[o],{...n,day:r[0],path:a+o}))}else if(\"n\"===o||\"m\"===o){const r=/^(0?[1-9]|1[012])\\b/.exec(e);r&&(s=de(e.slice(r[0].length),t[o],{...n,month:+r[0],_mon:r[0],path:a+o}))}else if(\"F\"===o||\"M\"===o){const r=/^([a-z]{3,9})\\b/i.exec(e),i=r&&(\"F\"===o?ie:re)[r[0].toLowerCase()];i&&(s=de(e.slice(r[0].length),t[o],{...n,month:i,_mon:r[0],path:a+o}))}else if(\"l\"===o||\"D\"===o){const r=/^([a-z]{3,9})\\b/i.exec(e);(r&&se[r[0].toLowerCase()])===o&&(s=de(e.slice(r[0].length),t[o],{...n,path:a+o}))}else if(\"y\"===o){const r=/^\\d\\d\\b/.exec(e);if(r){const i=+r[0]>=30?+r[0]+1900:+r[0]+2e3;s=de(e.slice(r[0].length),t[o],{...n,year:i,path:a+o})}}else if(\"Y\"===o){const r=/^\\d\\d\\d\\d\\b/.exec(e);r&&(s=de(e.slice(r[0].length),t[o],{...n,year:+r[0],path:a+o}))}else{if(\"x\"!==o)throw new Error('Unknown date token \"'.concat(o,'\"'));{const r=ue(e);r&&(s=de(\"\",t[o],{...n,time:r.v,tf:r.z,path:a+o}))}}if(s)return s}}};function me(e,t){const n=de(e.trim(),ne,{path:\"\"});if(n){var a;if(\".\"===n.sep&&3===n.path.length)return null;const e=+(null!==(a=n.year)&&void 0!==a?a:oe);if(n.day||(n.day=1),!function(e,t,n){if(n<1)return!1;if(t<1||t>12)return!1;if(2===t){if(n>(e%4==0&&e%100!=0||e%400==0||1900===e?29:28))return!1}else if((4===t||6===t||9===t||11===t)&&n>30||(1===t||3===t||5===t||7===t||8===t||10===t||12===t)&&n>31)return!1;return!0}(e,n.month,n.day))return null;let r=-1/0;if(e<1900)return null;e<=1900&&n.month<=2?r=25568:e<1e4&&(r=25569);const i=Date.UTC(e,n.month-1,n.day)/864e5+r+(n.time||0);if(i>=0&&i<=2958465){const e=\"0\"===n._mon[0]||\"0\"===n.day[0]||2===n._mon.length&&2===n.day.length,a=n.path.replace(/[jdlDnmMFyYx-]/g,(t=>\"j\"===t||\"d\"===t?e?\"dd\":\"d\":\"D\"===t?\"ddd\":\"l\"===t?\"dddd\":\"n\"===t||\"m\"===t?e?\"mm\":\"m\":\"M\"===t?\"mmm\":\"F\"===t?\"mmmm\":\"y\"===t?\"yy\":\"x\"===t?n.tf||\"\":\"Y\"===t?\"yyyy\":t));return t&&t.nativeDate?{v:L(i,t),z:a}:{v:i,z:a}}}return null}function ue(e){const t=/^\\s*([10]?\\d|2[0-4])(?::([0-5]\\d|\\d))?(?::([0-5]\\d|\\d))?(\\.\\d{1,10})?(?:\\s*([AP])M?)?\\s*$/i.exec(e);if(t){const[,e,n,a,r,i]=t;if(r&&!a)return null;if(!i&&!n&&!a)return null;let s=1*(e||0);if(i){if(s>=13)return null;\"p\"!==i[0]&&\"P\"!==i[0]||(s+=12)}return{v:(60*s*60+60*(1*(n||0))+1*(a||0)+1*(r||0))/86400,z:(2===e.length?\"hh\":\"h\")+\":mm\"+(a?\":ss\":\"\")+(i?\" AM/PM\":\"\")}}return null}function ce(e){return/^\\s*true\\s*$/i.test(e)?{v:!0}:/^\\s*false\\s*$/i.test(e)?{v:!1}:null}const pe={};function fe(e,t){const{pattern:n,partitions:a,locale:r}=e,i=e=>{const n=Object.assign({},h(),t,e);return r&&(n.locale=r),n},s=(e,t)=>{const n=i(t);return function(e,t,n){const a=l(n.locale),r=t[3]?t[3]:ee;if(\"boolean\"==typeof e&&(e=e?\"TRUE\":\"FALSE\"),null==e)return\"\";if(\"number\"!=typeof e)return Q(e,r,n,a);if(!isFinite(e)){const t=a||u;return isNaN(e)?t.nan:(e<0?t.negative:\"\")+t.infinity}const i=X(e,t);return i?Q(e,i,n,a):n.overflow}(J(e,n),a,n)};s.color=(e,t)=>function(e,t){if(\"number\"!=typeof e||!isFinite(e))return(t[3]?t[3].color:ee.color)||te;const n=X(e,t);return n&&n.color||te}(J(e,i(t)),a);const o=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[a,r]=e,i=a.frac_max,s={type:\"general\",isDate:R(e),isText:G(e),isPercent:U(e),maxDecimals:a.general?9:i,scale:null!==(t=a.scale)&&void 0!==t?t:1,color:0,parentheses:0,grouped:a.grouping?1:0,_partitions:e},o=!s.isDate&&!s.isText&&!a.error&&a.tokens.some((e=>\"string\"===e.type&&(n?e.value===n:x.test(e.value))));let l=\"G\",d=i>=0?Math.min(15,i):\"\",m=\"\",u=\"\";if(r&&r.color&&(u=\"-\",s.color=1),a.parens&&(m=\"()\",s.parentheses=1),o)l=\"C\",s.type=\"currency\";else if(a.error)s.type=\"error\",s.maxDecimals=0;else if(s.isDate){let e=0,t=0,n=\"\";a.tokens.forEach((a=>{const r=a.type;/^(b-)?year/.test(r)?(n+=\"Y\",t++):r.startsWith(\"month\")?(n+=\"M\",t++):/^(week)?day/.test(r)?(n+=\"D\",t++):\"hour\"!==r&&\"min\"!==r&&\"sec\"!==r&&\"am\"!==r||(n+=r[0],e++)})),s.type=\"date\",t&&e?s.type=\"datetime\":!t&&e&&(s.type=\"time\");const r=B.find((e=>n.startsWith(e[0])));l=r?\"D\":\"G\",d=r?r[1]:\"\"}else s.isText?(l=\"G\",s.type=\"text\",d=\"\",s.maxDecimals=0):a.general?(l=\"G\",s.type=\"general\",d=\"\"):a.fractions?(l=\"G\",s.type=\"fraction\",d=\"\"):a.exponential?(l=\"S\",s.type=\"scientific\"):s.isPercent?(l=\"P\",s.type=\"percent\"):a.grouping?(l=\",\",s.type=\"grouped\"):(a.int_max||i)&&(l=\"F\",s.type=\"number\");return s.code=l+d+u+m,s.level=H[s.type],Object.freeze(s)}(a,(t||{}).currency)||new SyntaxError;return s.info=o,s.dateInfo=function(e){const[t]=e;return{year:!!(2&t.date),month:!!(4&t.date),day:!!(8&t.date),hours:!!(t.date&y),minutes:!!(t.date&_),seconds:!!(t.date&b),clockType:12===t.clock?12:24}}(a),s.isPercent=()=>!!o.isPercent,s.isDate=()=>!!o.isDate,s.isText=()=>!!o.isText,s.pattern=n,e.error&&(s.error=e.error),s.options=i,s.locale=r||t&&t.locale||\"\",Object.freeze(s)}function ge(e,t){e||(e=\"General\");let n=null;if(pe[e])n=pe[e];else{n=Object.assign({},h(),t).throws?E(e):function(e){try{return E(e)}catch(t){const n={tokens:[{type:\"error\"}],error:t.message};return{pattern:e,partitions:[n,n,n,n],error:t.message,locale:null}}}(e),n.error||(pe[e]=n)}return fe(n,t)}ge.isDate=e=>ge(e,{throws:!1}).isDate(),ge.isPercent=e=>ge(e,{throws:!1}).isPercent(),ge.isText=e=>ge(e,{throws:!1}).isText(),ge.getInfo=(e,t)=>ge(e,{...t,throws:!1}).info,ge.getDateInfo=(e,t)=>ge(e,{...t,throws:!1}).dateInfo,ge.dateToSerial=J,ge.dateFromSerial=L,ge.options=h,ge.dec2frac=p,ge.round=c,ge.codeToLocale=n,ge.parseLocale=s,ge.getLocale=l,ge.addLocale=(e,t)=>{const n=s(t);return delete pe[n.lang],delete pe[n.language],m(e,n)},ge.format=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n&&\"object\"==typeof n?n:{locale:n,throws:!a};return ge(e,r)(J(t,r),r)},ge.is_date=ge.isDate,ge.parseNumber=le,ge.parseDate=me,ge.parseTime=ue,ge.parseBool=ce,ge.parseValue=function(e,t){var n,a,r;return null!==(n=null!==(a=null!==(r=le(e))&&void 0!==r?r:me(e,t))&&void 0!==a?a:ue(e))&&void 0!==n?n:ce(e)};var he=ge;return t=t.default}()}));"],"sourceRoot":""}