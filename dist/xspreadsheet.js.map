{"version":3,"sources":["webpack://x_data_spreadsheet/webpack/universalModuleDefinition","webpack://x_data_spreadsheet/webpack/bootstrap","webpack://x_data_spreadsheet/./src/component/element.js","webpack://x_data_spreadsheet/./src/config.js","webpack://x_data_spreadsheet/./src/locale/locale.js","webpack://x_data_spreadsheet/./src/locale/en.js","webpack://x_data_spreadsheet/./src/component/event.js","webpack://x_data_spreadsheet/./src/component/icon.js","webpack://x_data_spreadsheet/./assets/undo.svg","webpack://x_data_spreadsheet/./assets/redo.svg","webpack://x_data_spreadsheet/./assets/print.svg","webpack://x_data_spreadsheet/./assets/paintformat.svg","webpack://x_data_spreadsheet/./assets/clearformat.svg","webpack://x_data_spreadsheet/./assets/bold.svg","webpack://x_data_spreadsheet/./assets/font-italic.svg","webpack://x_data_spreadsheet/./assets/underline.svg","webpack://x_data_spreadsheet/./assets/strikeout.svg","webpack://x_data_spreadsheet/./assets/color.svg","webpack://x_data_spreadsheet/./assets/bgcolor.svg","webpack://x_data_spreadsheet/./assets/merge.svg","webpack://x_data_spreadsheet/./assets/align-left.svg","webpack://x_data_spreadsheet/./assets/align-center.svg","webpack://x_data_spreadsheet/./assets/align-right.svg","webpack://x_data_spreadsheet/./assets/align-top.svg","webpack://x_data_spreadsheet/./assets/align-middle.svg","webpack://x_data_spreadsheet/./assets/align-bottom.svg","webpack://x_data_spreadsheet/./assets/textwrap.svg","webpack://x_data_spreadsheet/./assets/filter.svg","webpack://x_data_spreadsheet/./assets/formulas.svg","webpack://x_data_spreadsheet/./assets/arrow-down.svg","webpack://x_data_spreadsheet/./assets/arrow-right.svg","webpack://x_data_spreadsheet/./assets/link.svg","webpack://x_data_spreadsheet/./assets/graph.svg","webpack://x_data_spreadsheet/./assets/freeze.svg","webpack://x_data_spreadsheet/./assets/ellipsis.svg","webpack://x_data_spreadsheet/./assets/add.svg","webpack://x_data_spreadsheet/./assets/border-all.svg","webpack://x_data_spreadsheet/./assets/border-inside.svg","webpack://x_data_spreadsheet/./assets/border-horizontal.svg","webpack://x_data_spreadsheet/./assets/border-vertical.svg","webpack://x_data_spreadsheet/./assets/border-outside.svg","webpack://x_data_spreadsheet/./assets/border-left.svg","webpack://x_data_spreadsheet/./assets/border-top.svg","webpack://x_data_spreadsheet/./assets/border-right.svg","webpack://x_data_spreadsheet/./assets/border-bottom.svg","webpack://x_data_spreadsheet/./assets/border-none.svg","webpack://x_data_spreadsheet/./assets/line-color.svg","webpack://x_data_spreadsheet/./assets/line-type.svg","webpack://x_data_spreadsheet/./assets/chevron-left.svg","webpack://x_data_spreadsheet/./assets/chevron-right.svg","webpack://x_data_spreadsheet/./assets/close.svg","webpack://x_data_spreadsheet/./src/core/helper.js","webpack://x_data_spreadsheet/./src/core/alphabet.js","webpack://x_data_spreadsheet/./src/core/cell_range.js","webpack://x_data_spreadsheet/./src/component/dropdown.js","webpack://x_data_spreadsheet/./node_modules/numfmt/index.js","webpack://x_data_spreadsheet/./src/core/format.js","webpack://x_data_spreadsheet/./src/core/font.js","webpack://x_data_spreadsheet/./src/canvas/draw.js","webpack://x_data_spreadsheet/./src/component/form_input.js","webpack://x_data_spreadsheet/./src/core/formula.js","webpack://x_data_spreadsheet/./src/component/table.js","webpack://x_data_spreadsheet/(webpack)/buildin/global.js","webpack://x_data_spreadsheet/./src/core/cell.js","webpack://x_data_spreadsheet/./src/component/bottombar.js","webpack://x_data_spreadsheet/./src/component/resizer.js","webpack://x_data_spreadsheet/./src/component/scrollbar.js","webpack://x_data_spreadsheet/./src/component/selector.js","webpack://x_data_spreadsheet/./src/component/suggest.js","webpack://x_data_spreadsheet/./src/component/calendar.js","webpack://x_data_spreadsheet/./src/component/datepicker.js","webpack://x_data_spreadsheet/./src/component/editor.js","webpack://x_data_spreadsheet/./src/component/button.js","webpack://x_data_spreadsheet/./src/component/print.js","webpack://x_data_spreadsheet/./src/component/contextmenu.js","webpack://x_data_spreadsheet/./src/component/toolbar/item.js","webpack://x_data_spreadsheet/./src/component/tooltip.js","webpack://x_data_spreadsheet/./src/component/toolbar/dropdown_item.js","webpack://x_data_spreadsheet/./src/component/dropdown_align.js","webpack://x_data_spreadsheet/./src/component/toolbar/align.js","webpack://x_data_spreadsheet/./src/component/toolbar/valign.js","webpack://x_data_spreadsheet/./src/component/toolbar/toggle_item.js","webpack://x_data_spreadsheet/./src/component/toolbar/autofilter.js","webpack://x_data_spreadsheet/./src/component/toolbar/bold.js","webpack://x_data_spreadsheet/./src/component/toolbar/italic.js","webpack://x_data_spreadsheet/./src/component/toolbar/strike.js","webpack://x_data_spreadsheet/./src/component/toolbar/underline.js","webpack://x_data_spreadsheet/./src/component/color_palette.js","webpack://x_data_spreadsheet/./src/component/dropdown_color.js","webpack://x_data_spreadsheet/./src/component/dropdown_linetype.js","webpack://x_data_spreadsheet/./src/component/border_palette.js","webpack://x_data_spreadsheet/./src/component/dropdown_border.js","webpack://x_data_spreadsheet/./src/component/toolbar/border.js","webpack://x_data_spreadsheet/./src/component/toolbar/icon_item.js","webpack://x_data_spreadsheet/./src/component/toolbar/clearformat.js","webpack://x_data_spreadsheet/./src/component/toolbar/paintformat.js","webpack://x_data_spreadsheet/./src/component/toolbar/text_color.js","webpack://x_data_spreadsheet/./src/component/toolbar/fill_color.js","webpack://x_data_spreadsheet/./src/component/dropdown_fontsize.js","webpack://x_data_spreadsheet/./src/component/toolbar/font_size.js","webpack://x_data_spreadsheet/./src/component/dropdown_font.js","webpack://x_data_spreadsheet/./src/component/toolbar/font.js","webpack://x_data_spreadsheet/./src/component/dropdown_format.js","webpack://x_data_spreadsheet/./src/component/toolbar/format.js","webpack://x_data_spreadsheet/./src/component/dropdown_formula.js","webpack://x_data_spreadsheet/./src/component/toolbar/formula.js","webpack://x_data_spreadsheet/./src/component/toolbar/freeze.js","webpack://x_data_spreadsheet/./src/component/toolbar/merge.js","webpack://x_data_spreadsheet/./src/component/toolbar/redo.js","webpack://x_data_spreadsheet/./src/component/toolbar/undo.js","webpack://x_data_spreadsheet/./src/component/toolbar/print.js","webpack://x_data_spreadsheet/./src/component/toolbar/textwrap.js","webpack://x_data_spreadsheet/./src/component/toolbar/more.js","webpack://x_data_spreadsheet/./src/component/toolbar/index.js","webpack://x_data_spreadsheet/./src/component/modal.js","webpack://x_data_spreadsheet/./src/component/form_select.js","webpack://x_data_spreadsheet/./src/component/form_field.js","webpack://x_data_spreadsheet/./src/component/modal_validation.js","webpack://x_data_spreadsheet/./src/component/sort_filter.js","webpack://x_data_spreadsheet/./src/component/message.js","webpack://x_data_spreadsheet/./src/component/sheet.js","webpack://x_data_spreadsheet/./src/core/selector.js","webpack://x_data_spreadsheet/./src/core/scroll.js","webpack://x_data_spreadsheet/./src/core/history.js","webpack://x_data_spreadsheet/./src/core/clipboard.js","webpack://x_data_spreadsheet/./src/core/auto_filter.js","webpack://x_data_spreadsheet/./src/core/merge.js","webpack://x_data_spreadsheet/./src/core/row.js","webpack://x_data_spreadsheet/./src/core/col.js","webpack://x_data_spreadsheet/./src/core/validator.js","webpack://x_data_spreadsheet/./src/core/validation.js","webpack://x_data_spreadsheet/./src/core/data_proxy.js","webpack://x_data_spreadsheet/./src/index.js","webpack://x_data_spreadsheet/./node_modules/numfmt/numfmt.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Element","tag","className","arguments","length","undefined","_classCallCheck","this","el","document","createElement","data","eventNames","handler","_eventNames$split2","_toArray","split","fen","oen","slice","eventName","test","navigator","userAgent","addEventListener","evt","k","button","stopPropagation","_this","keys","forEach","css","concat","_this$el","top","offsetTop","left","offsetLeft","height","offsetHeight","width","offsetWidth","v","scrollLeft","scrollTop","getBoundingClientRect","parentNode","_this2","_len","eles","Array","_key","childNodes","ele","child","removeChild","arg","createTextNode","appendChild","contains","classList","add","remove","cls","toggleClass","toggle","flag","addClass","removeClass","active","_this3","setAttribute","getAttribute","removeAttribute","content","innerHTML","focus","_this4","_len2","_key2","style","removeProperty","_this5","getComputedStyle","h","__webpack_exports__","cssPrefix","devicePixelRatio","locale","tf","$languages","$messages","en","toolbar","undo","redo","print","paintformat","clearformat","format","fontName","fontSize","fontBold","fontItalic","underline","strike","color","bgcolor","border","merge","align","valign","textwrap","freeze","autofilter","formula","more","contextmenu","copy","cut","paste","pasteValue","pasteFormat","hide","insertRow","insertColumn","deleteSheet","deleteRow","deleteColumn","deleteCell","deleteCellText","validation","cellprintable","cellnonprintable","celleditable","cellnoneditable","size","orientation","orientations","general","text","number","percent","rmb","usd","eur","date","time","datetime","duration","longdate","dateformat","sum","average","max","min","_if","and","or","product","count","mod","power","ceiling","floor","len","replace","substitute","vlookup","required","notMatch","between","notBetween","notIn","equal","notEqual","lessThan","lessThanEqual","greaterThan","greaterThanEqual","error","pasteForMergedCell","calendar","weeks","months","next","cancel","save","ok","sort","desc","asc","filter","empty","dataValidation","range","criteria","modeType","cell","column","row","type","list","phone","email","operator","be","nbe","lt","lte","gt","gte","eq","neq","translate","messages","_i","_$languages","lang","message","match","x_spreadsheet","unshift","target","fn","unbind","removeEventListener","unbindClickoutside","xclickoutside","body","bindClickoutside","cb","detail","mouseMoveUp","movefunc","upfunc","xEvtUp","calTouchDirection","spanx","spany","Math","abs","bindTouch","_ref","move","end","startx","starty","_evt$touches$","touches","pageX","pageY","_evt$changedTouches$","changedTouches","preventDefault","_evt$changedTouches$2","createEventEmitter","listeners","Map","on","callback","currentListener","has","isArray","push","set","removeListener","idx","indexOf","splice","current","once","execCalllback","args","apply","fire","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","_toConsumableArray","err","exec","removeAllListeners","clear","icons","font-bold","font-italic","align-left","align-center","align-right","align-top","align-middle","align-bottom","arrow-down","arrow-right","link","graph","ellipsis","border-all","border-inside","border-horizontal","border-vertical","border-outside","border-left","border-top","border-right","border-bottom","border-none","line-color","line-type","chevron-left","chevron-right","close","buildSVG","console","log","Icon","_possibleConstructorReturn","_getPrototypeOf","svg","iconNameEl","firstChild","numberCalc","mergeDeep","sources","source","digits","a","ret","charAt","a1","a2","Number","isNaN","al1","al2","num1","num2","toFixed","cloneDeep","obj","JSON","parse","stringify","equals","obj1","obj2","v1","v2","ai","arrayEquals","objOrAry","total","rangeEach","rangeSum","getv","rangeReduceIf","inits","initv","ifv","deleteProperty","oldv","alphabets","stringAt","index","str","cindex","parseInt","last","indexAt","charCodeAt","expr2xy","src","x","y","xlock","ylock","xy2expr","y$","expr2expr","xn","yn","condition","_expr2xy2","_slicedToArray","CellRange","sri","sci","eri","eci","w","ref","refs","_expr2xy4","_expr2xy6","ri","ci","_expr2xy","rowFilter","j","other","addRet","dsr","dsc","der","dec","multiple","Dropdown","title","showArrow","placement","classname","change","headerClick","contentEl","children","setContentChildren","headerEl","show","_this$contentEl","html","parent","dateFmt","baseFormats","numfmt","render","label","formatm","mergeFormats","custom","bf","find","f","nf","numfmtCache","cellText","settings","parseValue","fontSizes","baseFonts","getFontSizePxByPt","pt","px","dpr","thinLineWidth","npx","npxLine","DrawBox","padding","borderTop","borderRight","borderBottom","borderLeft","bottom","right","drawFontLine","tx","ty","blheight","blwidth","floffset","line","Draw","ctx","getContext","resize","scale","clearRect","options","assign","beginPath","restore","fillRect","fillText","mtxt","box","attr","textWrap","font","textx","textAlign","textBaseline","italic","bold","fillStyle","strokeStyle","txts","biw","innerWidth","ntxts","it","txtWidth","measureText","textLine","start","substr","txtHeight","texty","txt","lineWidth","setLineDash","_ref2","_ref3","moveTo","_ref4","_ref5","x1","y1","lineTo","stroke","topxys","rightxys","bottomxys","leftxys","sx","sy","closePath","fill","dtextcb","rect","clip","FormInput","hint","vchange","input","setTimeout","val","isNumber","parseFloat","isFinite","baseFormulas","ary","flat","reduce","b","map","_ref7","_ref8","_ref9","every","_ref11","some","_ref13","join","_ref15","_ref17","_ref18","_ref19","_ref20","pow","_ref21","_ref22","ceil","_ref23","_ref25","String","_ref27","_ref28","oldText","startNum","numChars","newText","zstart","_ref29","_ref30","replaceAll","_ref31","_ref32","lookupValue","table","colIndex","rangeLookup","findIndex","formulas","formulam","cellPaddingWidth","getDrawBox","rindex","yoffset","_data$cellRect","cellRect","getFillStyle","draw","global","canvas","getPropertyValue","getStrokeStyle","getTextStyle","getAccent","alpha","accent_h","accent_s","accent_l","renderCell","sortedRowMap","rows","cols","isHide","nrindex","getCell","frozen","editable","getCellStyleOrDefault","dbox","setBorders","strokeBorders","evalPaused","_cell","getCellTextOrDefault","validations","getError","renderContent","viewRange","fw","fh","exceptRowSet","exceptRowTotalHeight","each","getHeight","filteredTranslateFunc","rset","Set","eachMergesInView","sumHeight","autoFilter","afRange","hrange","intersects","dropdown","renderSelectedHeaderCell","renderFixedHeaders","sumWidth","nty","ntx","_data$selector$range","selector","textColor","rowEach","rowHeight","ii","colEach","colWidth","renderContentGrid","showGrid","ch","cw","Table","viewWidth","viewHeight","indexWidth","freezeTotalWidth","freezeTotalHeight","_data$scroll","scroll","_data$freeze","fri","fci","vr","clone","freezeViewRange","ftw","fth","twidth","theight","g","Function","e","buildRange","stack","pop","ex","ey","items","infixExprToSuffixExpr","operatorStack","subStrs","fnArgType","fnArgOperator","fnArgsLen","oldc","locked","toUpperCase","c1","nc","evalSubExpr","subExpr","cellRender","fl","expr","substring","evalSuffixExpr","srcStack","formulaMap","cellList","fc","params","reverse","includes","getCellText","DropdownMore","click","icon","contentClick","menuItems","buildMenu","item","itemClick","ContextMenu","_h$css","offset","Bottombar","addFunc","swapFunc","deleteFunc","updateFunc","dataNames","activeEl","deleteEl","moreEl","clickSwap2","contextMenu","menuEl","_this6","_evt$target","setOffset","nindex","renameItem","clickSwap","reset","_this7","Resizer","vertical","minDistance","moving","unhideHoverEl","mousedblclickHandler","hoverEl","mousedownHandler","lineEl","cRect","finishedFn","unhideFn","unhideIndex","hideUnhide","startEvt","distance","buttons","movementX","movementY","Scrollbar","scrollbar_classCallCheck","moveFn","contentDistance","cssKey","startZIndex","SelectorElement","useHideInput","autoFocus","selector_classCallCheck","inputChange","cornerEl","areaEl","clipboardEl","autofillEl","hideInput","hideInputDiv","of","calBRAreaOffset","ftwidth","ftheight","left0","top0","calTAreaOffset","calLAreaOffset","setBRAreaOffset","br","setAreaOffset","setTAreaOffset","setLAreaOffset","setLClipboardOffset","setClipboardOffset","setBRClipboardOffset","setTClipboardOffset","setAllAreaOffset","tl","setAllClipboardOffset","Selector","areaOffset","indexes","arange","lastri","lastci","resetAreaOffset","freezeHeight","freezeWidth","getSelectedRect","coffset","getClipboardRect","resetOffset","indexesUpdated","cellRange","calSelectedRangeByStart","cri","cci","setIndexes","moveIndexes","calSelectedRangeByEnd","_this$data$selector$r","setEnd","_this$range","nri","nci","srn","ern","ecn","getRect","showAutofill","hideAutofill","showClipboard","hideClipboard","inputEnter","filterItems","itemIndex","Suggest","suggest_classCallCheck","cssRemoveKeys","word","_el$html","startsWith","keyCode","ctrlKey","addMonth","step","setMonth","getMonth","weekday","Date","setDate","getDay","Calendar","_h","calendar_classCallCheck","cvalue","headerLeftEl","bodyEl","buildAll","prev","calendar_toConsumableArray","week","selectChange","buildHeaderLeft","buildBody","getFullYear","_bodyEl$html","trs","year","month","cdate","startDate","datess","disabled","getDate","monthDays","_h2","tds","it1","toString","Datepicker","datepicker_classCallCheck","setValue","RegExp","resetTextareaSize","inputText","textlineEl","textEl","maxTxtSize","editor_toConsumableArray","fontWidth","tlineWidth","maxWidth","viewFn","h1","keydownEventHandler","altKey","itxt","selectionEnd","ntxt","setSelectionRange","setText","position","blur","Editor","editor_classCallCheck","suggest","validator","lastIndexOf","sit","eit","datepicker","dateFormat","search","bindInputEvents","setItems","suggestPosition","elOffset","sOffset","values","Button","button_classCallCheck","PAGER_SIZES","PAGER_ORIENTATIONS","inches2px","inc","btnClick","toPrint","Print","print_classCallCheck","paper","print_toConsumableArray","ps","preview","iwidth","iheight","cr","contentRange","pages","canvases","mViewRange","_loop","th","yo","wrap","rh","yof","contentWindow","idoc","head","cn","cloneNode","drawImage","bi","showValidation","valIndex","contextmenu_classCallCheck","contextmenu_toConsumableArray","setMode","hideEl","view","vhf","Item","shortcut","item_classCallCheck","tip","element","_target$getBoundingCl","where","parentElement","elBox","wherebox","tooltipLeft","tooltiptop","tooltip","DropdownItem","dd","getValue","_get","dropdown_item_getPrototypeOf","setTitle","DropdownAlign","aligns","_getPrototypeOf2","dropdown_align_classCallCheck","naligns","iconName","dropdown_align_possibleConstructorReturn","dropdown_align_getPrototypeOf","dropdown_align_toConsumableArray","setName","Align","align_classCallCheck","align_possibleConstructorReturn","align_getPrototypeOf","Valign","valign_classCallCheck","valign_possibleConstructorReturn","valign_getPrototypeOf","ToggleItem","toggle_item_get","toggle_item_getPrototypeOf","hasClass","Autofilter","autofilter_classCallCheck","autofilter_possibleConstructorReturn","autofilter_getPrototypeOf","Bold","bold_classCallCheck","bold_possibleConstructorReturn","bold_getPrototypeOf","Italic","italic_classCallCheck","italic_possibleConstructorReturn","italic_getPrototypeOf","Strike","strike_classCallCheck","strike_possibleConstructorReturn","strike_getPrototypeOf","Underline","underline_classCallCheck","underline_possibleConstructorReturn","underline_getPrototypeOf","themeColorPlaceHolders","themeColors","standardColors","buildTd","ColorPalette","_h4","color_palette_classCallCheck","color_palette_toConsumableArray","_h3","DropdownColor","dropdown_color_classCallCheck","colorPalette","dropdown_color_possibleConstructorReturn","dropdown_color_getPrototypeOf","lineTypes","DropdownLineType","dropdown_linetype_classCallCheck","beforei","lineTypeEls","iti","dropdown_linetype_possibleConstructorReturn","dropdown_linetype_getPrototypeOf","dropdown_linetype_toConsumableArray","buildTable","BorderPalette","border_palette_classCallCheck","ddColor","ddType","border_palette_toConsumableArray","DropdownBorder","dropdown_border_classCallCheck","borderPalette","dropdown_border_possibleConstructorReturn","dropdown_border_getPrototypeOf","Border","border_classCallCheck","border_possibleConstructorReturn","border_getPrototypeOf","IconItem","icon_item_get","icon_item_getPrototypeOf","Clearformat","clearformat_classCallCheck","clearformat_possibleConstructorReturn","clearformat_getPrototypeOf","Paintformat","paintformat_classCallCheck","paintformat_possibleConstructorReturn","paintformat_getPrototypeOf","TextColor","text_color_classCallCheck","text_color_possibleConstructorReturn","text_color_getPrototypeOf","FillColor","fill_color_classCallCheck","fill_color_possibleConstructorReturn","fill_color_getPrototypeOf","DropdownFontSize","dropdown_fontsize_classCallCheck","nfontSizes","dropdown_fontsize_possibleConstructorReturn","dropdown_fontsize_getPrototypeOf","dropdown_fontsize_toConsumableArray","Format","font_size_classCallCheck","font_size_possibleConstructorReturn","font_size_getPrototypeOf","DropdownFontsize","DropdownFont","dropdown_font_classCallCheck","nfonts","dropdown_font_possibleConstructorReturn","dropdown_font_getPrototypeOf","dropdown_font_toConsumableArray","Font","font_classCallCheck","font_possibleConstructorReturn","font_getPrototypeOf","DropdownFormat","dropdown_format_classCallCheck","nformats","dropdown_format_possibleConstructorReturn","dropdown_format_getPrototypeOf","dropdown_format_toConsumableArray","format_classCallCheck","format_possibleConstructorReturn","format_getPrototypeOf","DropdownFormula","dropdown_formula_classCallCheck","nformulas","dropdown_formula_possibleConstructorReturn","dropdown_formula_getPrototypeOf","dropdown_formula_toConsumableArray","formula_classCallCheck","formula_possibleConstructorReturn","formula_getPrototypeOf","Freeze","freeze_classCallCheck","freeze_possibleConstructorReturn","freeze_getPrototypeOf","Merge","merge_classCallCheck","merge_possibleConstructorReturn","merge_getPrototypeOf","Redo","redo_classCallCheck","redo_possibleConstructorReturn","redo_getPrototypeOf","Undo","undo_classCallCheck","undo_possibleConstructorReturn","undo_getPrototypeOf","toolbar_print_classCallCheck","print_possibleConstructorReturn","print_getPrototypeOf","Textwrap","textwrap_classCallCheck","textwrap_possibleConstructorReturn","textwrap_getPrototypeOf","more_classCallCheck","moreBtns","more_possibleConstructorReturn","more_getPrototypeOf","More","buildDivider","moreResize","_btns$html","_moreBtns$html","btns","btns2","_moreEl$dd","widthFn","sumWidth2","list1","list2","toolbar_slicedToArray","genBtn","btn","onClick","getData","Toolbar","toolbar_classCallCheck","defaultStyle","undoEl","redoEl","showPrint","paintformatEl","clearformatEl","formatEl","fontEl","fontSizeEl","FontSize","boldEl","italicEl","underlineEl","strikeEl","textColorEl","fillColorEl","borderEl","mergeEl","alignEl","valignEl","textwrapEl","freezeEl","autofilterEl","formulaEl","Formula","_data$settings$extend","extendToolbar","_el$computedStyle","computedStyle","marginLeft","marginRight","_it$computedStyle","getSelectedCellStyle","setState","canUndo","canRedo","canUnmerge","canAutofilter","freezeIsActive","Modal","modal_classCallCheck","modal_toConsumableArray","dimmer","_this$el$show$box","_document$documentEle","documentElement","clientHeight","clientWidth","xkeydownEsc","FormSelect","getTitle","form_select_classCallCheck","itemEl","patterns","FormField","rule","labelWidth","form_field_classCallCheck","validate","pattern","fieldLabelWidth","ModalValidation","modal_validation_classCallCheck","mf","rf","cf","criteriaSelected","criteriaOperatorSelected","minvf","maxvf","svf","vf","modal_validation_possibleConstructorReturn","modal_validation_getPrototypeOf","action","attrs","field","isShow","clsName","buildSortItem","resetFilterHeader","filterhEl","filterValues","checked","SortFilter","sort_filter_classCallCheck","filterbEl","filterClick","sortAscEl","sortDescEl","sortDesc","from","order","cnt","tindex","xtoast","_el$box","throttle","func","wait","timeout","that","selectorSet","trigger","selectorMove","direction","_selector$indexes","sheet_slicedToArray","_selector$range","_selector$moveIndexes","verticalScrollbar","horizontalScrollbar","_data$getSelectedRect","tableOffset","getTableOffset","fsw","fsh","verticalScrollbarSet","erth","totalHeight","horizontalScrollbarSet","totalWidth","sheetReset","tableEl","overlayerEl","overlayerCEl","tOffset","vRect","editor","fwidth","fheight","setFreezeLengths","clearClipboard","copyToSystemClipboard","what","clipboard","isClear","pasteFromSystemClipboard","msg","cdata","clipboardData","pasteFromText","unhideRowsOrCols","overlayerMousedown","sortFilter","offsetX","offsetY","isAutofillEl","getCellRectByXY","getFilter","getSort","shiftKey","_data$getCellRectByXY","autofill","paintformatActive","paintformatToggle","editorSetOffset","sPosition","editorSet","setCell","getSelectedCell","getSelectedValidator","dataSetCellText","state","setSelectedCellText","_data$selector","insertDeleteRowColumn","insert","setSelectedCellAttr","toolbarChange","_data$selector2","sheetInitEvents","rowResizer","colResizer","modalValidation","tRect","showUnhide","xyInSelectedRect","setPosition","deltaY","deltaX","loopValue","vFunc","moveY","tempY","tempX","temp","horizontal","getWidth","moveX","setAutoFilter","_selector$range2","setHeight","_selector$range3","col","setWidth","scrolly","resetBRLAreaOffset","scrollx","resetBRTAreaOffset","itext","_this6$data","addValidation","removeValidation","getSelectedValidation","hideRowsOrCols","reload","focusing","which","metaKey","Sheet","targetEl","sheet_classCallCheck","eventMap","_data$settings","showToolbar","showContextmenu","minWidth","_len3","_key3","resetData","setData","setFreeze","_this$data","_this$getRect","Scroll","scroll_classCallCheck","History","history_classCallCheck","undoItems","redoItems","currentd","Clipboard","clipboard_classCallCheck","Filter","auto_filter_classCallCheck","Sort","AutoFilter","filters","fset","ctext","_this$range2","valueOf","Merges","_","within","union","deleteWithin","cbWithin","rn","merges","Rows","row_classCallCheck","getOrNew","setHide","exceptSet","helper","cells","getCellOrNew","srcCellRange","dstCellRange","dsri","dsci","deri","deci","_srcCellRange$size","_srcCellRange$size2","_dstCellRange$size","_dstCellRange$size2","drn","dcn","isAdd","dn","jj","ncell","result","ncellmm","eachCells","setCellText","ndata","rndata","_this8","ks","entries","Cols","col_classCallCheck","rules","returnMessage","Validator","validator_classCallCheck","_value","validator_slicedToArray","_value2","Validation","validation_classCallCheck","nrefs","difference","Validations","errors","_v$validator$validate2","validation_slicedToArray","getByValidator","addRef","defaultSettings","showBottomBar","autoFillOnCopy","canPaste","dst","_src$size2","data_proxy_slicedToArray","scn","_dst$size2","copyPaste","deleteCells","_cell$merge","cutPaste","setStyleBorder","bss","styles","cstyle","addStyle","DataProxy","data_proxy_classCallCheck","hyperlinks","comments","history","unsortedRowMap","changeData","_this$selector","_this$selector2","copyText","_this$selector$range","clearData","writeText","then","isCopy","isCut","resetSheet","eventTrigger","readText","contentToPaste","parseClipboardContent","startRow","startColumn","cellContent","clipboardContent","parsedData","lines","srcRange","getFirstIncludes","_this9","unmerge","isSingleSelected","mergeIndexes","_merges$ii","mri","mci","_cell$merge2","mrl","mcl","getCellMerge","_selector$size2","nfont","oldCell","vIndex","_this$selector3","_this$getSelectedRect","_getCellRowByY$call","scrollOffsety","frset","_getCellColByX$call","scrollOffsetx","_helper$rangeReduceIf2","_this$cellRect","_this$selector$range2","_cell$merge3","_this$selector$range3","_cell$merge4","_this10","_selector$size4","_this11","_selector$range4","_this12","addFilter","setSort","resetAutoFilter","_this13","_autoFilter$filteredR","filteredRows","fary","oldAry","_this14","_this15","_this15$selector$rang","si","shift","_this16","_selector$range5","_selector$range$size2","rsize","csize","_helper$rangeReduceIf4","_helper$rangeReduceIf6","_cell$merge5","cellStyle","_this$selector4","_this$freeze","_this17","_this18","_this19","_this$settings","_this$freeze2","_rows$maxCell2","maxCell","exceptRows","exceptRowTH","filterIntersects","_selector$size6","rlen","clen","_selector$range6","unhide","frary","nstyle","_this20","Spreadsheet","selectors","_objectSpread","sheetIndex","datas","querySelector","bottombar","addSheet","sheet","rootEl","formats","bgColor","_this2$sheet","addItem","_this$bottombar$delet2","deleteItem","oldIndex","ds","nd","getCellStyle","self","default","he","1078","1052","1118","5121","15361","3073","2049","11265","13313","12289","4097","6145","8193","16385","1025","10241","7169","14337","9217","1067","1101","2092","1068","1069","1059","2117","1093","5146","1026","1109","1027","2052","3076","5124","4100","1028","1050","1029","1030","1125","2067","1043","1126","3081","10249","4105","9225","2057","16393","6153","8201","5129","13321","7177","11273","1033","12297","1061","1071","1080","1065","1124","1035","2060","11276","3084","9228","12300","1036","5132","13324","6156","14348","10252","4108","7180","1122","2108","1084","1110","1079","3079","1031","5127","4103","2055","1032","1140","1095","1279","1037","1081","1038","1039","1136","1057","1040","2064","1041","1099","1120","1087","1107","1111","1042","1088","1108","1142","1062","1063","2110","1086","1100","1082","1112","1153","1102","1104","2128","1121","1044","2068","1096","1045","1046","2070","1094","1047","2072","1048","1049","2073","1083","1103","3098","2074","1072","1074","1113","1115","1051","1060","1143","1070","11274","16394","13322","9226","5130","7178","12298","17418","4106","18442","2058","19466","6154","15370","10250","20490","1034","14346","8202","1089","2077","1053","1114","1064","1097","1092","1098","1054","1105","1073","1055","1090","1058","1056","2115","1091","1075","1066","1106","1076","1085","1077","group","decimal","positive","negative","exponent","nan","infinity","ampm","mmmm6","mmm6","mmmm","mmm","dddd","ddd","SyntaxError","language","territory","codeset","modifier","u","round","isDefault","overflow","dateErrorThrows","dateErrorNumber","dateSpanLarge","leap1900","nbsp","throws","invalid","ignoreTimezone","#","0","?","@","-","+","M","F","z","repeat","D","S","date_eval","date_system","sec_decimals","clock","int_pattern","frac_pattern","man_pattern","den_pattern","num_pattern","tokens","num","fractions","dec_fractions","toLowerCase","raw","pad","used","indeterminate","short","decimals","exponential","exp_plus","plus","parens","grouping","group_pri","group_sec","int_padding","man_padding","num_padding","den_padding","denominator","integer","C","volatile","E","Error","generated","partitions","A","Y","P","N","T","I","O","J","UTC","setUTCFullYear","setUTCHours","getHours","getMinutes","getSeconds","getMilliseconds","L","nativeDate","U","R","G","H","currency","grouped","scientific","fraction","B","$","sign","period","int","frac","W","Z","log10","toPrecision","K","q","man","den","V","Q","int_max","frac_max","num_max","den_max","num_min","den_min","padStart","X","ee","te","ne","ae","re","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","ie","january","february","march","april","june","july","august","september","october","november","december","se","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sun","mon","tue","wed","thu","sat","oe","getUTCFullYear","le","de","path","day","_mon","ue","me","trim","ce","pe","ge","isDate","isText","isPercent","maxDecimals","parentheses","_partitions","code","level","info","dateInfo","hours","minutes","seconds","clockType","fe","getInfo","getDateInfo","dateToSerial","dateFromSerial","dec2frac","codeToLocale","parseLocale","getLocale","addLocale","is_date","parseNumber","parseDate","parseTime","parseBool"],"mappings":"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AuBnB,EAAvBvR,OAAA2S,cAAAL,GAAAG,EAAAC,EAAA/F,QAAAiG,MAAAN,GAAA,OAAWhB,EAAXmB,EAAAvS,MAAwCoR,EAASlS,KAATgT,MAAAd,EAAQ,CAAM,MAANpO,OAAA2P,EAAeV,MAF9C,MAAAW,GAAAP,GAAA,EAAAC,EAAAM,EAAA,YAAAR,GAAA,MAAAI,EAAA,QAAAA,EAAA,oBAAAH,EAAA,MAAAC,IAMZO,IAqCPnB,iBACAoB,mBAZF,WACE7B,EAAU8B,imCCzFd,IAAMC,EAAQ,CACZlM,KCnDa,wcDoDbC,KEpDa,qeFqDbC,MGrDa,2cHsDbC,YItDa,+WJuDbC,YKvDa,oYLwDb+L,YMxDa,0gBNyDbC,cOzDa,4RP0Db1L,UQ1Da,2WR2DbC,OS3Da,2uET4DbC,MU5Da,6TV6DbC,QW7Da,qjBX8DbE,MY9Da,obZ+DbsL,aa/Da,qUbgEbC,echEa,sUdiEbC,cejEa,sUfkEbC,YgBlEa,uShBmEbC,eiBnEa,6WjBoEbC,ekBpEa,kTlBqEbxL,SmBrEa,ybnBsEbE,WoBtEa,0RpBuEbC,QqBvEa,qRrBwEbsL,asBxEa,oMtByEbC,cuBzEa,4MvB0EbC,KwB1Ea,qhBxB2EbC,MyB3Ea,ydzB4Eb3L,O0B5Ea,8W1B6Eb4L,S2B7Ea,ojB3B8EbhP,I4B9Ea,iR5B+EbiP,a6B/Ea,8X7BgFbC,gB8BhFa,otB9BiFbC,oB+BjFa,0zB/BkFbC,kBgClFa,wzBhCmFbC,iBiCnFa,gcjCoFbC,ckCpFa,wzBlCqFbC,amCrFa,8zBnCsFbC,eoCtFa,kyBpCuFbC,gBqCvFa,gyBrCwFbC,csCxFa,s8BtCyFbC,auCzFa,uYvC0FbC,YwC1Fa,0ZxC2FbC,eyC3Fa,sMzC4FbC,gB0C5Fa,qN1C6FbC,M2C7Fa,iU3C2GFC,EAAW,SAACvV,GACvB,OAAG0T,EAAM1T,GACA0T,EAAM1T,IAEbwV,QAAQC,IAAR,QAAA/R,OAAoB1D,EAApB,eAEK,KAGY0V,cACnB,SAAAA,EAAY1V,GAAM,IAAAsD,+FAAAvB,CAAAC,KAAA0T,GAChBpS,EAAAqS,EAAA3T,KAAA4T,EAAAF,GAAA9V,KAAAoC,KAAM,MAAN,GAAA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C,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,MAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,MAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,MAAAC,KAAA,KAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,QAAAC,KAAA,QAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,MAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC,KAAA,KAAAC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","file":"xspreadsheet.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"x_data_spreadsheet\"] = factory();\n\telse\n\t\troot[\"x_data_spreadsheet\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n","/* global document */\n/* global window */\nclass Element {\n  constructor(tag, className = '') {\n    if (typeof tag === 'string') {\n      this.el = document.createElement(tag);\n      this.el.className = className;\n    } else {\n      this.el = tag;\n    }\n    this.data = {};\n  }\n\n  data(key, value) {\n    if (value !== undefined) {\n      this.data[key] = value;\n      return this;\n    }\n    return this.data[key];\n  }\n\n  on(eventNames, handler) {\n    const [fen, ...oen] = eventNames.split('.');\n    let eventName = fen;\n    if (eventName === 'mousewheel' && /Firefox/i.test(window.navigator.userAgent)) {\n      eventName = 'DOMMouseScroll';\n    }\n    this.el.addEventListener(eventName, (evt) => {\n      handler(evt);\n      for (let i = 0; i < oen.length; i += 1) {\n        const k = oen[i];\n        if (k === 'left' && evt.button !== 0) {\n          return;\n        }\n        if (k === 'right' && evt.button !== 2) {\n          return;\n        }\n        if (k === 'stop') {\n          evt.stopPropagation();\n        }\n      }\n    });\n    return this;\n  }\n\n  offset(value) {\n    if (value !== undefined) {\n      Object.keys(value).forEach((k) => {\n        this.css(k, `${value[k]}px`);\n      });\n      return this;\n    }\n    const {\n      offsetTop, offsetLeft, offsetHeight, offsetWidth,\n    } = this.el;\n    return {\n      top: offsetTop,\n      left: offsetLeft,\n      height: offsetHeight,\n      width: offsetWidth,\n    };\n  }\n\n  scroll(v) {\n    const { el } = this;\n    if (v !== undefined) {\n      if (v.left !== undefined) {\n        el.scrollLeft = v.left;\n      }\n      if (v.top !== undefined) {\n        el.scrollTop = v.top;\n      }\n    }\n    return { left: el.scrollLeft, top: el.scrollTop };\n  }\n\n  box() {\n    return this.el.getBoundingClientRect();\n  }\n\n  parent() {\n    return new Element(this.el.parentNode);\n  }\n\n  children(...eles) {\n    if (arguments.length === 0) {\n      return this.el.childNodes;\n    }\n    eles.forEach(ele => this.child(ele));\n    return this;\n  }\n\n  removeChild(el) {\n    this.el.removeChild(el);\n  }\n\n  /*\n  first() {\n    return this.el.firstChild;\n  }\n\n  last() {\n    return this.el.lastChild;\n  }\n\n  remove(ele) {\n    return this.el.removeChild(ele);\n  }\n\n  prepend(ele) {\n    const { el } = this;\n    if (el.children.length > 0) {\n      el.insertBefore(ele, el.firstChild);\n    } else {\n      el.appendChild(ele);\n    }\n    return this;\n  }\n\n  prev() {\n    return this.el.previousSibling;\n  }\n\n  next() {\n    return this.el.nextSibling;\n  }\n  */\n\n  child(arg) {\n    let ele = arg;\n    if (typeof arg === 'string') {\n      ele = document.createTextNode(arg);\n    } else if (arg instanceof Element) {\n      ele = arg.el;\n    }\n    this.el.appendChild(ele);\n    return this;\n  }\n\n  contains(ele) {\n    return this.el.contains(ele);\n  }\n\n  className(v) {\n    if (v !== undefined) {\n      this.el.className = v;\n      return this;\n    }\n    return this.el.className;\n  }\n\n  addClass(name) {\n    this.el.classList.add(name);\n    return this;\n  }\n\n  hasClass(name) {\n    return this.el.classList.contains(name);\n  }\n\n  removeClass(name) {\n    this.el.classList.remove(name);\n    return this;\n  }\n\n  toggle(cls = 'active') {\n    return this.toggleClass(cls);\n  }\n\n  toggleClass(name) {\n    return this.el.classList.toggle(name);\n  }\n\n  active(flag = true, cls = 'active') {\n    if (flag) this.addClass(cls);\n    else this.removeClass(cls);\n    return this;\n  }\n\n  checked(flag = true) {\n    this.active(flag, 'checked');\n    return this;\n  }\n\n  disabled(flag = true) {\n    if (flag) this.addClass('disabled');\n    else this.removeClass('disabled');\n    return this;\n  }\n\n  // key, value\n  // key\n  // {k, v}...\n  attr(key, value) {\n    if (value !== undefined) {\n      this.el.setAttribute(key, value);\n    } else {\n      if (typeof key === 'string') {\n        return this.el.getAttribute(key);\n      }\n      Object.keys(key).forEach((k) => {\n        this.el.setAttribute(k, key[k]);\n      });\n    }\n    return this;\n  }\n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n    return this;\n  }\n\n  html(content) {\n    if (content !== undefined) {\n      this.el.innerHTML = content;\n      return this;\n    }\n    return this.el.innerHTML;\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.el.value = v;\n      return this;\n    }\n    return this.el.value;\n  }\n\n  focus() {\n    this.el.focus();\n  }\n\n  cssRemoveKeys(...keys) {\n    keys.forEach(k => this.el.style.removeProperty(k));\n    return this;\n  }\n\n  // css( propertyName )\n  // css( propertyName, value )\n  // css( properties )\n  css(name, value) {\n    if (value === undefined && typeof name !== 'string') {\n      Object.keys(name).forEach((k) => {\n        this.el.style[k] = name[k];\n      });\n      return this;\n    }\n    if (value !== undefined) {\n      this.el.style[name] = value;\n      return this;\n    }\n    return this.el.style[name];\n  }\n\n  computedStyle() {\n    return window.getComputedStyle(this.el, null);\n  }\n\n  show() {\n    this.css('display', 'block');\n    return this;\n  }\n\n  hide() {\n    this.css('display', 'none');\n    return this;\n  }\n}\n\nconst h = (tag, className = '') => new Element(tag, className);\n\nexport {\n  Element,\n  h,\n};\n","/* global window */\nexport const cssPrefix = 'x-spreadsheet';\nexport const dpr = window.devicePixelRatio || 1;\nexport default {\n  cssPrefix,\n  dpr,\n};\n","/* global window */\nimport en from './en';\n\n// Defines the fallback language as English\nlet $languages = ['en'];\nconst $messages = {\n  en,\n};\n\nfunction translate(key, messages) {\n  if (messages) {\n    // Return the translation from the first language in the languages array\n    // that has a value for the provided key.\n    for (const lang of $languages) {\n      if (!messages[lang]) break;\n\n      let message = messages[lang];\n\n      // Splits the key at '.' except where escaped as '\\.'\n      const keys = key.match(/(?:\\\\.|[^.])+/g);\n\n      for (let i = 0; i < keys.length; i += 1) {\n        const property = keys[i];\n        const value = message[property];\n\n        // If value doesn't exist, try next language\n        if (!value) break;\n\n        if (i === keys.length - 1) return value;\n\n        // Move down to the next level of the messages object\n        message = value;\n      }\n    }\n  }\n\n  return undefined;\n}\n\nfunction t(key) {\n  let v = translate(key, $messages);\n  if (!v && window && window.x_spreadsheet && window.x_spreadsheet.$messages) {\n    v = translate(key, window.x_spreadsheet.$messages);\n  }\n  return v || key;\n}\n\nfunction tf(key) {\n  return () => t(key);\n}\n\n// If clearLangList is set to false, lang will be added to the front of the\n// languages array. The languages in the language array are searched in order\n// to find a translation. This allows the use of other languages as a fallback\n// if lang is missing some keys. The language array is preloaded with English.\n// To set the languages array to only include lang, set clearLangList to true.\nfunction locale(lang, message, clearLangList = false) {\n  if (clearLangList) {\n    $languages = [lang];\n  } else {\n    // Append to front of array.\n    // Translation method will use the first language in the list that has a\n    // matching key.\n    $languages.unshift(lang);\n  }\n\n  if (message) {\n    $messages[lang] = message;\n  }\n}\n\nexport default {\n  t,\n};\n\nexport {\n  locale,\n  t,\n  tf,\n};\n","export default {\n  toolbar: {\n    undo: 'Undo',\n    redo: 'Redo',\n    print: 'Print',\n    paintformat: 'Paint format',\n    clearformat: 'Clear format',\n    format: 'Format',\n    fontName: 'Font',\n    fontSize: 'Font size',\n    fontBold: 'Font bold',\n    fontItalic: 'Font italic',\n    underline: 'Underline',\n    strike: 'Strike',\n    color: 'Text color',\n    bgcolor: 'Fill color',\n    border: 'Borders',\n    merge: 'Merge cells',\n    align: 'Horizontal align',\n    valign: 'Vertical align',\n    textwrap: 'Text wrapping',\n    freeze: 'Freeze cell',\n    autofilter: 'Filter',\n    formula: 'Functions',\n    more: 'More',\n  },\n  contextmenu: {\n    copy: 'Copy',\n    cut: 'Cut',\n    paste: 'Paste',\n    pasteValue: 'Paste values only',\n    pasteFormat: 'Paste format only',\n    hide: 'Hide',\n    insertRow: 'Insert row',\n    insertColumn: 'Insert column',\n    deleteSheet: 'Delete',\n    deleteRow: 'Delete row',\n    deleteColumn: 'Delete column',\n    deleteCell: 'Delete cell',\n    deleteCellText: 'Delete cell text',\n    validation: 'Data validations',\n    cellprintable: 'Enable export',\n    cellnonprintable: 'Disable export',\n    celleditable: 'Enable editing',\n    cellnoneditable: 'Disable editing',\n  },\n  print: {\n    size: 'Paper size',\n    orientation: 'Page orientation',\n    orientations: ['Landscape', 'Portrait'],\n  },\n  format: {\n    general: 'General',\n    text: 'Plain Text',\n    number: 'Number',\n    percent: 'Percent',\n    rmb: 'RMB',\n    usd: 'USD',\n    eur: 'EUR',\n    date: 'Date',\n    time: 'Time',\n    datetime: 'Date time',\n    duration: 'Duration',\n    longdate: 'Long Date',\n    dateformat: 'mm/dd/yyyy',\n  },\n  formula: {\n    sum: 'Sum',\n    average: 'Average',\n    max: 'Max',\n    min: 'Min',\n    _if: 'IF',\n    and: 'AND',\n    or: 'OR',\n    concat: 'Concat',\n    product: 'Product',\n    count: 'Count',\n    mod: 'Mod',\n    power: 'Power',\n    ceiling: 'Ceiling',\n    floor: 'Floor',\n    len: 'Length',\n    replace: 'Replace',\n    substitute: 'Substitute',\n    vlookup: 'Vertical Lookup',\n  },\n  validation: {\n    required: 'it must be required',\n    notMatch: 'it not match its validation rule',\n    between: 'it is between {} and {}',\n    notBetween: 'it is not between {} and {}',\n    notIn: 'it is not in list',\n    equal: 'it equal to {}',\n    notEqual: 'it not equal to {}',\n    lessThan: 'it less than {}',\n    lessThanEqual: 'it less than or equal to {}',\n    greaterThan: 'it greater than {}',\n    greaterThanEqual: 'it greater than or equal to {}',\n  },\n  error: {\n    pasteForMergedCell: 'Unable to do this for merged cells',\n  },\n  calendar: {\n    weeks: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n  },\n  button: {\n    next: 'Next',\n    cancel: 'Cancel',\n    remove: 'Remove',\n    save: 'Save',\n    ok: 'OK',\n  },\n  sort: {\n    desc: 'Sort Z -> A',\n    asc: 'Sort A -> Z',\n  },\n  filter: {\n    empty: 'empty',\n  },\n  dataValidation: {\n    mode: 'Mode',\n    range: 'Cell Range',\n    criteria: 'Criteria',\n    modeType: {\n      cell: 'Cell',\n      column: 'Colun',\n      row: 'Row',\n    },\n    type: {\n      list: 'List',\n      number: 'Number',\n      date: 'Date',\n      phone: 'Phone',\n      email: 'Email',\n    },\n    operator: {\n      be: 'between',\n      nbe: 'not betwwen',\n      lt: 'less than',\n      lte: 'less than or equal to',\n      gt: 'greater than',\n      gte: 'greater than or equal to',\n      eq: 'equal to',\n      neq: 'not equal to',\n    },\n  },\n};\n","/* global window */\nexport function bind(target, name, fn) {\n  target.addEventListener(name, fn);\n}\nexport function unbind(target, name, fn) {\n  target.removeEventListener(name, fn);\n}\nexport function unbindClickoutside(el) {\n  if (el.xclickoutside) {\n    unbind(window.document.body, 'click', el.xclickoutside);\n    delete el.xclickoutside;\n  }\n}\n\n// the left mouse button: mousedown  mouseup  click\n// the right mouse button: mousedown  contenxtmenu  mouseup\n// the right mouse button in firefox(>65.0): mousedown  contenxtmenu  mouseup  click on window\nexport function bindClickoutside(el, cb) {\n  el.xclickoutside = (evt) => {\n    // ignore double click\n    // console.log('evt:', evt);\n    if (evt.detail === 2 || el.contains(evt.target)) return;\n    if (cb) cb(el);\n    else {\n      el.hide();\n      unbindClickoutside(el);\n    }\n  };\n  bind(window.document.body, 'click', el.xclickoutside);\n}\nexport function mouseMoveUp(target, movefunc, upfunc) {\n  bind(target, 'mousemove', movefunc);\n  const t = target;\n  t.xEvtUp = (evt) => {\n    // console.log('mouseup>>>');\n    unbind(target, 'mousemove', movefunc);\n    unbind(target, 'mouseup', target.xEvtUp);\n    upfunc(evt);\n  };\n  bind(target, 'mouseup', target.xEvtUp);\n}\n\nfunction calTouchDirection(spanx, spany, evt, cb) {\n  let direction = '';\n  // console.log('spanx:', spanx, ', spany:', spany);\n  if (Math.abs(spanx) > Math.abs(spany)) {\n    // horizontal\n    direction = spanx > 0 ? 'right' : 'left';\n    cb(direction, spanx, evt);\n  } else {\n    // vertical\n    direction = spany > 0 ? 'down' : 'up';\n    cb(direction, spany, evt);\n  }\n}\n// cb = (direction, distance) => {}\nexport function bindTouch(target, { move, end }) {\n  let startx = 0;\n  let starty = 0;\n  bind(target, 'touchstart', (evt) => {\n    const { pageX, pageY } = evt.touches[0];\n    startx = pageX;\n    starty = pageY;\n  });\n  bind(target, 'touchmove', (evt) => {\n    if (!move) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    if (Math.abs(spanx) > 10 || Math.abs(spany) > 10) {\n      // console.log('spanx:', spanx, ', spany:', spany);\n      calTouchDirection(spanx, spany, evt, move);\n      startx = pageX;\n      starty = pageY;\n    }\n    evt.preventDefault();\n  });\n  bind(target, 'touchend', (evt) => {\n    if (!end) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    calTouchDirection(spanx, spany, evt, end);\n  });\n}\n\n// eventemiter\nexport function createEventEmitter() {\n  const listeners = new Map();\n\n  function on(eventName, callback) {\n    const push = () => {\n      const currentListener = listeners.get(eventName);\n      return (Array.isArray(currentListener)\n          && currentListener.push(callback))\n          || false;\n    };\n\n    const create = () => listeners.set(eventName, [].concat(callback));\n\n    return (listeners.has(eventName)\n        && push())\n        || create();\n  }\n\n  function fire(eventName, args) {\n    const exec = () => {\n      const currentListener = listeners.get(eventName);\n      for (const callback of currentListener) callback.call(null, ...args);\n    };\n\n    return listeners.has(eventName)\n        && exec();\n  }\n\n  function removeListener(eventName, callback) {\n    const remove = () => {\n      const currentListener = listeners.get(eventName);\n      const idx = currentListener.indexOf(callback);\n      return (idx >= 0)\n          && currentListener.splice(idx, 1)\n          && listeners.get(eventName).length === 0\n          && listeners.delete(eventName);\n    };\n\n    return listeners.has(eventName)\n        && remove();\n  }\n\n  function once(eventName, callback) {\n    const execCalllback = (...args) => {\n      callback.call(null, ...args);\n      removeListener(eventName, execCalllback);\n    };\n\n    return on(eventName, execCalllback);\n  }\n\n  function removeAllListeners() {\n    listeners.clear();\n  }\n\n  return {\n    get current() {\n      return listeners;\n    },\n    on,\n    once,\n    fire,\n    removeListener,\n    removeAllListeners,\n  };\n}\n","import { Element, h } from './element';\nimport { cssPrefix } from '../config';\n\n\n// import * as undo from '../../assets/undo.svg';\n// const undo = require('raw-loader!../../assets/undo.svg');\nimport * as undo from '!!raw-loader!../../assets/undo.svg';\nimport * as redo from '!!raw-loader!../../assets/redo.svg';\nimport * as print from '!!raw-loader!../../assets/print.svg';\nimport * as paintformat from '!!raw-loader!../../assets/paintformat.svg';\nimport * as clearformat from '!!raw-loader!../../assets/clearformat.svg';\nimport * as bold from '!!raw-loader!../../assets/bold.svg';\nimport * as fontitalic from '!!raw-loader!../../assets/font-italic.svg';\nimport * as underline from '!!raw-loader!../../assets/underline.svg';\nimport * as strikeout from '!!raw-loader!../../assets/strikeout.svg';\nimport * as color from '!!raw-loader!../../assets/color.svg';\nimport * as bgcolor from '!!raw-loader!../../assets/bgcolor.svg';\nimport * as merge from '!!raw-loader!../../assets/merge.svg';\nimport * as alignleft from '!!raw-loader!../../assets/align-left.svg';\nimport * as aligncenter from '!!raw-loader!../../assets/align-center.svg';\nimport * as alignright from '!!raw-loader!../../assets/align-right.svg';\nimport * as aligntop from '!!raw-loader!../../assets/align-top.svg';\nimport * as alignmiddle from '!!raw-loader!../../assets/align-middle.svg';\nimport * as alignbottom from '!!raw-loader!../../assets/align-bottom.svg';\nimport * as textwrap from '!!raw-loader!../../assets/textwrap.svg';\nimport * as filter from '!!raw-loader!../../assets/filter.svg';\nimport * as formula from '!!raw-loader!../../assets/formulas.svg';\nimport * as arrowDown from '!!raw-loader!../../assets/arrow-down.svg';\nimport * as arrowRight from '!!raw-loader!../../assets/arrow-right.svg';\nimport * as link from '!!raw-loader!../../assets/link.svg';\nimport * as graph from '!!raw-loader!../../assets/graph.svg';\nimport * as freeze from '!!raw-loader!../../assets/freeze.svg';\nimport * as ellipsis from '!!raw-loader!../../assets/ellipsis.svg';\nimport * as add from '!!raw-loader!../../assets/add.svg';\nimport * as borderall from '!!raw-loader!../../assets/border-all.svg';\nimport * as borderinside from '!!raw-loader!../../assets/border-inside.svg';\nimport * as borderhorizontal from '!!raw-loader!../../assets/border-horizontal.svg';\nimport * as bordervertical from '!!raw-loader!../../assets/border-vertical.svg';\nimport * as borderoutside from '!!raw-loader!../../assets/border-outside.svg';\nimport * as borderleft from '!!raw-loader!../../assets/border-left.svg';\nimport * as bordertop from '!!raw-loader!../../assets/border-top.svg';\nimport * as borderright from '!!raw-loader!../../assets/border-right.svg';\nimport * as borderbottom from '!!raw-loader!../../assets/border-bottom.svg';\nimport * as bordernone from '!!raw-loader!../../assets/border-none.svg';\nimport * as linecolor from '!!raw-loader!../../assets/line-color.svg';\nimport * as linetype from '!!raw-loader!../../assets/line-type.svg';\nimport * as chevronleft from '!!raw-loader!../../assets/chevron-left.svg';\nimport * as chevronright from '!!raw-loader!../../assets/chevron-right.svg';\nimport * as close from '!!raw-loader!../../assets/close.svg';\n\nconst icons = {\n  undo: undo.default,\n  redo: redo.default,\n  print: print.default,\n  paintformat: paintformat.default,\n  clearformat: clearformat.default,\n  'font-bold': bold.default,\n  'font-italic': fontitalic.default,\n  underline: underline.default,\n  strike: strikeout.default,\n  color: color.default,\n  bgcolor: bgcolor.default,\n  merge: merge.default,\n  'align-left': alignleft.default,\n  'align-center': aligncenter.default,\n  'align-right': alignright.default,\n  'align-top': aligntop.default,\n  'align-middle': alignmiddle.default,\n  'align-bottom': alignbottom.default,\n  textwrap: textwrap.default,\n  autofilter: filter.default,\n  formula: formula.default,\n  'arrow-down': arrowDown.default,\n  'arrow-right': arrowRight.default,\n  link: link.default,\n  graph: graph.default,\n  freeze: freeze.default,\n  ellipsis: ellipsis.default,\n  add: add.default,\n  'border-all': borderall.default,\n  'border-inside': borderinside.default,\n  'border-horizontal': borderhorizontal.default,\n  'border-vertical': bordervertical.default,\n  'border-outside': borderoutside.default,\n  'border-left': borderleft.default,\n  'border-top': bordertop.default,\n  'border-right': borderright.default,\n  'border-bottom': borderbottom.default,\n  'border-none': bordernone.default,\n  'line-color': linecolor.default,\n  'line-type': linetype.default,\n  'chevron-left': chevronleft.default,\n  'chevron-right': chevronright.default,\n  close: close.default,\n};\n\n\nexport const buildImg = (name) => {\n  const icon = h('img');\n  if(icons[name]) {\n    icon.attr('src', icons[name])\n  } else {\n    console.log(`icon ${name} not found`);\n  }\n  return icon;\n}\n\nexport const buildSVG = (name) => {\n  if(icons[name]) {\n    return icons[name];\n  } else {\n    console.log(`icon ${name} not found`);\n  }\n  return \"\";\n}\n\nexport default class Icon extends Element {\n  constructor(name) {\n    super('div', `${cssPrefix}-icon icon-${name}`);\n    // const icon = buildImg(name);\n    const svg = buildSVG(name);\n    // icon.attr('src', undo);\n    // this.iconNameEl = h('img');\n    // this.iconNameEl.attr('src', undo);\n    // this.iconNameEl = h('div', `${cssPrefix}-icon-img ${name}`);\n    // this.iconNameEl = icon;\n    // this.child(undo);\n    // this.iconNameEl = this.child.appendChild(svg);\n    // this.child(this.iconNameEl);\n    this.el.innerHTML += svg;\n    this.iconNameEl = this.el.firstChild;\n  }\n\n  setName(name) {\n    this.className(` icon-${name}`);\n  }\n}\n","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g><path  fill-rule=\\\"evenodd\\\" d=\\\"M11.5656391,4.43436088 L9,7 L16,7 L16,0 L13.0418424,2.95815758 C11.5936787,1.73635959 9.72260775,1 7.67955083,1 C4.22126258,1 1.25575599,3.10984908 0,6 L2,7 C2.93658775,4.60974406 5.12943697,3.08011229 7.67955083,3 C9.14881247,3.0528747 10.4994783,3.57862053 11.5656391,4.43436088 Z\\\" transform=\\\"matrix(-1 0 0 1 17 5)\\\"/>\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M11.5656391,4.43436088 L9,7 L16,7 L16,0 L13.0418424,2.95815758 C11.5936787,1.73635959 9.72260775,1 7.67955083,1 C4.22126258,1 1.25575599,3.10984908 0,6 L2,7 C2.93658775,4.60974406 5.12943697,3.08011229 7.67955083,3 C9.14881247,3.0528747 10.4994783,3.57862053 11.5656391,4.43436088 Z\\\"\\n            transform=\\\"translate(1 5)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M13,14 L3,14 L3,11 L0,11 L0,6.00591905 C0,4.89808055 0.894513756,4 1.99406028,4 L14.0059397,4 C15.1072288,4 16,4.88655484 16,6.00591905 L16,11 L13,11 L13,14 Z M5,9 L11,9 L11,12 L5,12 L5,9 Z M3,0 L13,0 L13,3 L3,3 L3,0 Z M12,6 L14,6 L14,8 L12,8 L12,6 Z\\\"\\n            transform=\\\"translate(1 2)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9,0 L1,0 C0.45,0 0,0.45 0,1 L0,4 C0,4.55 0.45,5 1,5 L9,5 C9.55,5 10,4.55 10,4 L10,3 L11,3 L11,6 L4,6 L4,14 L6,14 L6,8 L13,8 L13,2 L10,2 L10,1 C10,0.45 9.55,0 9,0 Z\\\"\\n            transform=\\\"translate(3 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0.27,1.55 L5.43,6.7 L3,12 L5.5,12 L7.14,8.42 L11.73,13 L13,11.73 L1.55,0.27 L0.27,1.55 L0.27,1.55 Z M3.82,0 L5.82,2 L7.58,2 L7.03,3.21 L8.74,4.92 L10.08,2 L14,2 L14,0 L3.82,0 L3.82,0 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9,3.5 C9,1.57 7.43,0 5.5,0 L1.77635684e-15,0 L1.77635684e-15,12 L6.25,12 C8.04,12 9.5,10.54 9.5,8.75 C9.5,7.45 8.73,6.34 7.63,5.82 C8.46,5.24 9,4.38 9,3.5 Z M5,2 C5.82999992,2 6.5,2.67 6.5,3.5 C6.5,4.33 5.82999992,5 5,5 L3,5 L3,2 L5,2 Z M3,10 L3,7 L5.5,7 C6.32999992,7 7,7.67 7,8.5 C7,9.33 6.32999992,10 5.5,10 L3,10 Z\\\"\\n            transform=\\\"translate(4 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\"\\n            points=\\\"4 0 4 2 6.58 2 2.92 10 0 10 0 12 8 12 8 10 5.42 10 9.08 2 12 2 12 0\\\"\\n            transform=\\\"translate(3 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path\\n            d=\\\"M6,12 C8.76,12 11,9.76 11,7 L11,0 L9,0 L9,7 C9,8.75029916 7.49912807,10 6,10 C4.50087193,10 3,8.75837486 3,7 L3,0 L1,0 L1,7 C1,9.76 3.24,12 6,12 Z M0,13 L0,15 L12,15 L12,13 L0,13 Z\\\"\\n            transform=\\\"translate(3 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M2.8875,3.06 C2.8875,2.6025 2.985,2.18625 3.18375,1.8075 C3.3825,1.42875 3.66,1.10625 4.02,0.84 C4.38,0.57375 4.80375,0.3675 5.29875,0.22125 C5.79375,0.075 6.33375,0 6.92625,0 C7.53375,0 8.085,0.0825 8.58,0.25125 C9.075,0.42 9.49875,0.6525 9.85125,0.95625 C10.20375,1.25625 10.47375,1.6125 10.665,2.02875 C10.85625,2.44125 10.95,2.895 10.95,3.38625 L8.6925,3.38625 C8.6925,3.1575 8.655,2.94375 8.58375,2.74875 C8.5125,2.55 8.4,2.38125 8.25,2.2425 C8.1,2.10375 7.9125,1.99125 7.6875,1.91625 C7.4625,1.8375 7.19625,1.8 6.88875,1.8 C6.5925,1.8 6.3375,1.83375 6.11625,1.8975 C5.89875,1.96125 5.71875,2.05125 5.57625,2.1675 C5.43375,2.28375 5.325,2.41875 5.25375,2.5725 C5.1825,2.72625 5.145,2.895 5.145,3.0675 C5.145,3.4275 5.32875,3.73125 5.69625,3.975 C5.71780203,3.98908066 5.73942012,4.00311728 5.76118357,4.01733315 C6.02342923,4.18863185 6.5,4.5 7,5 L4,5 C4,5 3.21375,4.37625 3.17625,4.30875 C2.985,3.9525 2.8875,3.53625 2.8875,3.06 Z M14,6 L0,6 L0,8 L7.21875,8 C7.35375,8.0525 7.51875,8.105 7.63125,8.15375 C7.90875,8.2775 8.12625,8.40875 8.28375,8.53625 C8.44125,8.6675 8.54625,8.81 8.6025,8.96 C8.65875,9.11375 8.685,9.28625 8.685,9.47375 C8.685,9.65 8.65125,9.815 8.58375,9.965 C8.51625,10.11875 8.41125,10.25 8.2725,10.35875 C8.13375,10.4675 7.95375,10.55375 7.74,10.6175 C7.5225,10.68125 7.27125,10.71125 6.97875,10.71125 C6.6525,10.71125 6.35625,10.6775 6.09,10.61375 C5.82375,10.55 5.59875,10.445 5.41125,10.3025 C5.22375,10.16 5.0775,9.9725 4.9725,9.74375 C4.8675,9.515 4.78125,9.17 4.78125,9 L2.55,9 C2.55,9.2525 2.61,9.6875 2.72625,10.025 C2.8425,10.3625 3.0075,10.66625 3.21375,10.9325 C3.42,11.19875 3.6675,11.4275 3.94875,11.6225 C4.23,11.8175 4.53375,11.9825 4.86375,12.11 C5.19375,12.24125 5.535,12.33875 5.89875,12.39875 C6.25875,12.4625 6.6225,12.4925 6.9825,12.4925 C7.5825,12.4925 8.13,12.425 8.6175,12.28625 C9.105,12.1475 9.525,11.94875 9.87,11.69375 C10.215,11.435 10.48125,11.12 10.6725,10.74125 C10.86375,10.3625 10.95375,9.935 10.95375,9.455 C10.95375,9.005 10.875,8.6 10.72125,8.24375 C10.68375,8.1575 10.6425,8.075 10.59375,7.9925 L14,8 L14,6 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M7,0 L5,0 L0.5,12 L2.5,12 L3.62,9 L8.37,9 L9.49,12 L11.49,12 L7,0 L7,0 Z M4.38,7 L6,2.67 L7.62,7 L4.38,7 L4.38,7 Z\\\"\\n            transform=\\\"translate(3 1)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g fill-rule=\\\"evenodd\\\">\\n        <path\\n            d=\\\"M14.5,8.87 C14.5,8.87 13,10.49 13,11.49 C13,12.32 13.67,12.99 14.5,12.99 C15.33,12.99 16,12.32 16,11.49 C16,10.5 14.5,8.87 14.5,8.87 L14.5,8.87 Z M12.71,6.79 L5.91,0 L4.85,1.06 L6.44,2.65 L2.29,6.79 C1.9,7.18 1.9,7.81 2.29,8.2 L6.79,12.7 C6.99,12.9 7.24,13 7.5,13 C7.76,13 8.01,12.9 8.21,12.71 L12.71,8.21 C13.1,7.82 13.1,7.18 12.71,6.79 L12.71,6.79 Z M4.21,7 L7.5,3.71 L10.79,7 L4.21,7 L4.21,7 Z\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M3,6 L1,6 L1,2 L8,2 L8,4 L3,4 L3,6 Z M10,4 L10,2 L17,2 L17,6 L15,6 L15,4 L10,4 Z M10,14 L15,14 L15,12 L17,12 L17,16 L10,16 L10,14 Z M1,12 L3,12 L3,14 L8,14 L8,16 L1,16 L1,12 Z M1,8 L5,8 L5,6 L8,9 L5,12 L5,10 L1,10 L1,8 Z M10,9 L13,6 L13,8 L17,8 L17,10 L13,10 L13,12 L10,9 Z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,14 L10,14 L10,12 L0,12 L0,14 Z M10,4 L0,4 L0,6 L10,6 L10,4 Z M0,0 L0,2 L14,2 L14,0 L0,0 Z M0,10 L14,10 L14,8 L0,8 L0,10 Z\\\"\\n            transform=\\\"translate(2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M2,12 L2,14 L12,14 L12,12 L2,12 Z M2,4 L2,6 L12,6 L12,4 L2,4 Z M0,10 L14,10 L14,8 L0,8 L0,10 Z M0,0 L0,2 L14,2 L14,0 L0,0 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M4,14 L14,14 L14,12 L4,12 L4,14 Z M0,10 L14,10 L14,8 L0,8 L0,10 Z M0,0 L0,2 L14,2 L14,0 L0,0 Z M4,6 L14,6 L14,4 L4,4 L4,6 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L0,2 L12,2 L12,0 L0,0 L0,0 Z M2.5,7 L5,7 L5,14 L7,14 L7,7 L9.5,7 L6,3.5 L2.5,7 L2.5,7 Z\\\"\\n            transform=\\\"translate(3 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"18\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9.5,3 L7,3 L7,0 L5,0 L5,3 L2.5,3 L6,6.5 L9.5,3 L9.5,3 Z M0,8 L0,10 L12,10 L12,8 L0,8 L0,8 Z M2.5,15 L5,15 L5,18 L7,18 L7,15 L9.5,15 L6,11.5 L2.5,15 L2.5,15 Z\\\"\\n            transform=\\\"translate(3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9.5,7 L7,7 L7,0 L5,0 L5,7 L2.5,7 L6,10.5 L9.5,7 L9.5,7 Z M0,12 L0,14 L12,14 L12,12 L0,12 L0,12 Z\\\"\\n            transform=\\\"translate(3 2)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M14,0 L0,0 L0,2 L14,2 L14,0 Z M0,12 L4,12 L4,10 L0,10 L0,12 Z M11.5,5 L0,5 L0,7 L11.75,7 C12.58,7 13.25,7.67 13.25,8.5 C13.25,9.33 12.58,10 11.75,10 L9,10 L9,8 L6,11 L9,14 L9,12 L11.5,12 C13.43,12 15,10.43 15,8.5 C15,6.57 13.43,5 11.5,5 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L0,1 L6,7 L6,12 L8,11 L8,7 L14,1 L14,0 L0,0 Z M4,3 L10,3 L7,6 L4,3 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\"\\n            points=\\\"10 0 0 0 0 1.8 5.5 7 0 12.2 0 14 10 14 10 12 3.1 12 8 7 3.1 2 10 2\\\"\\n            transform=\\\"translate(4 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\" points=\\\"0 0 4 4 8 0\\\" transform=\\\"translate(0 7)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\" points=\\\"-2 2 2 6 6 2\\\" transform=\\\"rotate(-90 8 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M1.9,4 C1.9,2.84 2.84,1.9 4,1.9 L8,1.9 L8,0 L4,0 C1.79,0 0,1.79 0,4 C0,6.21 1.79,8 4,8 L8,8 L8,6.1 L4,6.1 C2.84,6.1 1.9,5.16 1.9,4 L1.9,4 Z M14,0 L10,0 L10,1.9 L14,1.9 C15.16,1.9 16.1,2.84 16.1,4 C16.1,5.16 15.16,6.1 14,6.1 L10,6.1 L10,8 L14,8 C16.21,8 18,6.21 18,4 C18,1.79 16.21,0 14,0 L14,0 Z M6,5 L12,5 L12,3 L6,3 L6,5 L6,5 Z\\\"\\n            transform=\\\"translate(-1 5)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M15,0 C15.55,0 16,0.45 16,1 L16,15 C16,15.55 15.55,16 15,16 L1,16 C0.45,16 0,15.55 0,15 L0,1 C0,0.45 0.45,0 1,0 L15,0 Z M2,2 L2,14 L14,14 L14,2 L2,2 Z M6,12 L4,12 L4,7 L6,7 L6,12 L6,12 Z M9,12 L7,12 L7,4 L9,4 L9,12 L9,12 Z M12,12 L10,12 L10,8 L12,8 L12,12 L12,12 Z\\\"\\n            transform=\\\"translate(1 1)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <path stroke=\\\"#000000\\\" d=\\\"M1.5 3.5H16.5V15.5H1.5z\\\" />\\n        <path fill=\\\"#000000\\\" d=\\\"M6 8H7V15H6z\\\" />\\n        <path fill=\\\"#D8D8D8\\\" d=\\\"M2 4H16V7H2z\\\" />\\n        <path fill=\\\"#000000\\\" d=\\\"M2 7H16V8H2zM2 11H16V12H2z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M2,0.5 C1.17,0.5 0.5,1.17 0.5,2 C0.5,2.83 1.17,3.5 2,3.5 C2.83,3.5 3.5,2.83 3.5,2 C3.5,1.17 2.83,0.5 2,0.5 L2,0.5 Z M12,0.5 C11.17,0.5 10.5,1.17 10.5,2 C10.5,2.83 11.17,3.5 12,3.5 C12.83,3.5 13.5,2.83 13.5,2 C13.5,1.17 12.83,0.5 12,0.5 L12,0.5 Z M7,0.5 C6.17,0.5 5.5,1.17 5.5,2 C5.5,2.83 6.17,3.5 7,3.5 C7.83,3.5 8.5,2.83 8.5,2 C8.5,1.17 7.83,0.5 7,0.5 L7,0.5 Z\\\"\\n            transform=\\\"translate(2 7)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M6,4 L6,0 L4,0 L4,4 L0,4 L0,6 L4,6 L4,10 L6,10 L6,6 L10,6 L10,4 L6,4 Z\\\"\\n            transform=\\\"translate(4 4)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L0,14 L14,14 L14,0 L0,0 L0,0 Z M6,12 L2,12 L2,8 L6,8 L6,12 L6,12 Z M6,6 L2,6 L2,2 L6,2 L6,6 L6,6 Z M12,12 L8,12 L8,8 L12,8 L12,12 L12,12 Z M12,6 L8,6 L8,2 L12,2 L12,6 L12,6 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M2,3 L0,3 L0,5 L2,5 L2,3 L2,3 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M11,0 L9,0 L9,2 L11,2 L11,0 L11,0 Z M2,0 L0,0 L0,2 L2,2 L2,0 L2,0 Z M5,0 L3,0 L3,2 L5,2 L5,0 L5,0 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"8 0 6 0 6 6 0 6 0 8 6 8 6 14 8 14 8 8 14 8 14 6 8 6\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 8 14 8 14 6 0 6\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"6 14 8 14 8 0 6 0\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M8,3 L6,3 L6,5 L8,5 L8,3 L8,3 Z M11,6 L9,6 L9,8 L11,8 L11,6 L11,6 Z M8,6 L6,6 L6,8 L8,8 L8,6 L8,6 Z M8,9 L6,9 L6,11 L8,11 L8,9 L8,9 Z M5,6 L3,6 L3,8 L5,8 L5,6 L5,6 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <path d=\\\"M0,0 L14,0 L14,14 L0,14 L0,0 Z M12,12 L12,2 L2,2 L2,12 L12,12 Z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 14 2 14 2 0 0 0\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 0 0 2 14 2 14 0\\\" />\\n    </g>\\n</svg>\\n  \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"12 0 12 14 14 14 14 0\\\" />\\n    </g>\\n</svg>\\n  \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M5,0 L3,0 L3,2 L5,2 L5,0 L5,0 Z M8,6 L6,6 L6,8 L8,8 L8,6 L8,6 Z M8,9 L6,9 L6,11 L8,11 L8,9 L8,9 Z M11,6 L9,6 L9,8 L11,8 L11,6 L11,6 Z M5,6 L3,6 L3,8 L5,8 L5,6 L5,6 Z M11,0 L9,0 L9,2 L11,2 L11,0 L11,0 Z M8,3 L6,3 L6,5 L8,5 L8,3 L8,3 Z M8,0 L6,0 L6,2 L8,2 L8,0 L8,0 Z M2,9 L0,9 L0,11 L2,11 L2,9 L2,9 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M2,0 L0,0 L0,2 L2,2 L2,0 L2,0 Z M2,3 L0,3 L0,5 L2,5 L2,3 L2,3 Z M2,6 L0,6 L0,8 L2,8 L2,6 L2,6 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 14 14 14 14 12 0 12\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z\\\"\\n            transform=\\\"translate(2 2)\\\" opacity=\\\".54\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M6.5,3.62 L0,10.12 L0,13 L2.88,13 L9.38,6.5 L6.5,3.62 Z M11.85,4.02 C12.05,3.82 12.05,3.51 11.85,3.31 L9.68,1.14 C9.48,0.94 9.17,0.94 8.97,1.14 L7.62,2.5 L10.5,5.38 L11.85,4.02 L11.85,4.02 Z\\\"\\n            transform=\\\"translate(4)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L14,0 L14,2 L0,2 L0,0 Z M0,4 L6,4 L6,6 L0,6 L0,4 Z M0,8 L2,8 L2,10 L0,10 L0,8 Z M8,4 L14,4 L14,6 L8,6 L8,4 Z M4,8 L6,8 L6,10 L4,10 L4,8 Z M8,8 L10,8 L10,10 L8,10 L8,8 Z M12,8 L14,8 L14,10 L12,10 L12,8 Z\\\"\\n            transform=\\\"translate(2 4)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\" points=\\\"-2 2 2 6 6 2\\\" transform=\\\"rotate(90 3 10)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill=\\\"#000000\\\" fill-rule=\\\"evenodd\\\" points=\\\"-2 2 2 6 6 2\\\" transform=\\\"rotate(-90 8 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\"\\n            points=\\\"7.53 1.53 6.47 .47 4 2.94 1.53 .47 .47 1.53 2.94 4 .47 6.47 1.53 7.53 4 5.06 6.47 7.53 7.53 6.47 5.06 4\\\"\\n            transform=\\\"translate(5 5)\\\" />\\n    </g>\\n</svg>\\n    \";","/* eslint-disable no-param-reassign */\nfunction cloneDeep(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nconst mergeDeep = (object = {}, ...sources) => {\n  sources.forEach((source) => {\n    Object.keys(source).forEach((key) => {\n      const v = source[key];\n      // console.log('k:', key, ', v:', source[key], typeof v, v instanceof Object);\n      if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {\n        object[key] = v;\n      } else if (typeof v !== 'function' && !Array.isArray(v) && v instanceof Object) {\n        object[key] = object[key] || {};\n        mergeDeep(object[key], v);\n      } else {\n        object[key] = v;\n      }\n    });\n  });\n  // console.log('::', object);\n  return object;\n};\n\nfunction equals(obj1, obj2) {\n  const keys = Object.keys(obj1);\n  if (keys.length !== Object.keys(obj2).length) return false;\n  for (let i = 0; i < keys.length; i += 1) {\n    const k = keys[i];\n    const v1 = obj1[k];\n    const v2 = obj2[k];\n    if (v2 === undefined) return false;\n    if (typeof v1 === 'string' || typeof v1 === 'number' || typeof v1 === 'boolean') {\n      if (v1 !== v2) return false;\n    } else if (Array.isArray(v1)) {\n      if (v1.length !== v2.length) return false;\n      for (let ai = 0; ai < v1.length; ai += 1) {\n        if (!equals(v1[ai], v2[ai])) return false;\n      }\n    } else if (typeof v1 !== 'function' && !Array.isArray(v1) && v1 instanceof Object) {\n      if (!equals(v1, v2)) return false;\n    }\n  }\n  return true;\n}\n\n/*\n  objOrAry: obejct or Array\n  cb: (value, index | key) => { return value }\n*/\nconst sum = (objOrAry, cb = value => value) => {\n  let total = 0;\n  let size = 0;\n  Object.keys(objOrAry).forEach((key) => {\n    total += cb(objOrAry[key], key);\n    size += 1;\n  });\n  return [total, size];\n};\n\nfunction deleteProperty(obj, property) {\n  const oldv = obj[`${property}`];\n  delete obj[`${property}`];\n  return oldv;\n}\n\nfunction rangeReduceIf(min, max, inits, initv, ifv, getv) {\n  let s = inits;\n  let v = initv;\n  let i = min;\n  for (; i < max; i += 1) {\n    if (s > ifv) break;\n    v = getv(i);\n    s += v;\n  }\n  return [i, s - v, v];\n}\n\nfunction rangeSum(min, max, getv) {\n  let s = 0;\n  for (let i = min; i < max; i += 1) {\n    s += getv(i);\n  }\n  return s;\n}\n\nfunction rangeEach(min, max, cb) {\n  for (let i = min; i < max; i += 1) {\n    cb(i);\n  }\n}\n\nfunction arrayEquals(a1, a2) {\n  if (a1.length === a2.length) {\n    for (let i = 0; i < a1.length; i += 1) {\n      if (a1[i] !== a2[i]) return false;\n    }\n  } else return false;\n  return true;\n}\n\nfunction digits(a) {\n  const v = `${a}`;\n  let ret = 0;\n  let flag = false;\n  for (let i = 0; i < v.length; i += 1) {\n    if (flag === true) ret += 1;\n    if (v.charAt(i) === '.') flag = true;\n  }\n  return ret;\n}\n\nexport function numberCalc(type, a1, a2) {\n  if (Number.isNaN(a1) || Number.isNaN(a2)) {\n    return a1 + type + a2;\n  }\n  const al1 = digits(a1);\n  const al2 = digits(a2);\n  const num1 = Number(a1);\n  const num2 = Number(a2);\n  let ret = 0;\n  if (type === '-') {\n    ret = num1 - num2;\n  } else if (type === '+') {\n    ret = num1 + num2;\n  } else if (type === '*') {\n    ret = num1 * num2;\n  } else if (type === '/') {\n    ret = num1 / num2;\n    if (digits(ret) > 5) return ret.toFixed(2);\n    return ret;\n  }\n  return ret.toFixed(Math.max(al1, al2));\n}\n\nexport default {\n  cloneDeep,\n  merge: (...sources) => mergeDeep({}, ...sources),\n  equals,\n  arrayEquals,\n  sum,\n  rangeEach,\n  rangeSum,\n  rangeReduceIf,\n  deleteProperty,\n  numberCalc,\n};\n","import './_.prototypes';\n\nconst alphabets = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\n/** index number 2 letters\n * @example stringAt(26) ==> 'AA'\n * @date 2019-10-10\n * @export\n * @param {number} index\n * @returns {string}\n */\nexport function stringAt(index) {\n  let str = '';\n  let cindex = index;\n  while (cindex >= alphabets.length) {\n    cindex /= alphabets.length;\n    cindex -= 1;\n    str += alphabets[parseInt(cindex, 10) % alphabets.length];\n  }\n  const last = index % alphabets.length;\n  str += alphabets[last];\n  return str;\n}\n\n/** translate letter in A1-tag to number\n * @date 2019-10-10\n * @export\n * @param {string} str \"AA\" in A1-tag \"AA1\"\n * @returns {number}\n */\nexport function indexAt(str) {\n  let ret = 0;\n  for(let i = 0; i !== str.length; ++i) ret = 26 * ret + str.charCodeAt(i) - 64;\n  return ret - 1;\n}\n\n\n// B10 => x,y\n/** translate A1-tag to XY-tag\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @returns {tagXY}\n */\nexport function expr2xy(src) {\n  let x = '';\n  let y = '';\n  let xlock = false;\n  let ylock = false;\n  for (let i = 0; i < src.length; i += 1) {\n    if(src.charAt(i) === '$') {\n      if(x.length > 0) ylock = true\n      else xlock = true\n    } else  if (src.charAt(i) >= '0' && src.charAt(i) <= '9') {\n      y += src.charAt(i);\n    } else {\n      x += src.charAt(i);\n    }\n  }\n\n  return [indexAt(x), parseInt(y, 10) - 1, xlock, ylock];\n}\n\n/** translate XY-tag to A1-tag\n * @example x,y => B10\n * @date 2019-10-10\n * @export\n * @param {number} x\n * @param {number} y\n * @returns {tagA1}\n */\nexport function xy2expr(x, y, xlock, ylock) {\n  const x$ = xlock ? '$' : '';\n  const y$ = ylock ? '$' : '';\n  return `${x$}${stringAt(x)}${y$}${y + 1}`;\n}\n\n/** translate A1-tag src by (xn, yn)\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @param {number} xn\n * @param {number} yn\n * @returns {tagA1}\n */\nexport function expr2expr(src, xn, yn, condition = () => true) {\n  if (xn === 0 && yn === 0) return src;\n  const [x, y, xlock, ylock] = expr2xy(src);\n  if (!condition(x, y)) return src;\n  return xy2expr(x + (xlock ? 0 : xn), y + (ylock ? 0 : yn), xlock, ylock);\n}\n\nexport default {\n  stringAt,\n  indexAt,\n  expr2xy,\n  xy2expr,\n  expr2expr,\n};\n","import { xy2expr, expr2xy } from './alphabet';\n\nclass CellRange {\n  constructor(sri, sci, eri, eci, w = 0, h = 0) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n    this.w = w;\n    this.h = h;\n  }\n\n  set(sri, sci, eri, eci) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n  }\n\n  multiple() {\n    return this.eri - this.sri > 0 || this.eci - this.sci > 0;\n  }\n\n  // cell-index: ri, ci\n  // cell-ref: A10\n  includes(...args) {\n    let [ri, ci] = [0, 0];\n    if (args.length === 1) {\n      [ci, ri] = expr2xy(args[0]);\n    } else if (args.length === 2) {\n      [ri, ci] = args;\n    }\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return sri <= ri && ri <= eri && sci <= ci && ci <= eci;\n  }\n\n  each(cb, rowFilter = () => true) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    for (let i = sri; i <= eri; i += 1) {\n      if (rowFilter(i)) {\n        for (let j = sci; j <= eci; j += 1) {\n          cb(i, j);\n        }\n      }\n    }\n  }\n\n  contains(other) {\n    return this.sri <= other.sri\n      && this.sci <= other.sci\n      && this.eri >= other.eri\n      && this.eci >= other.eci;\n  }\n\n  // within\n  within(other) {\n    return this.sri >= other.sri\n      && this.sci >= other.sci\n      && this.eri <= other.eri\n      && this.eci <= other.eci;\n  }\n\n  // disjoint\n  disjoint(other) {\n    return this.sri > other.eri\n      || this.sci > other.eci\n      || other.sri > this.eri\n      || other.sci > this.eci;\n  }\n\n  // intersects\n  intersects(other) {\n    return this.sri <= other.eri\n      && this.sci <= other.eci\n      && other.sri <= this.eri\n      && other.sci <= this.eci;\n  }\n\n  // union\n  union(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return new CellRange(\n      other.sri < sri ? other.sri : sri,\n      other.sci < sci ? other.sci : sci,\n      other.eri > eri ? other.eri : eri,\n      other.eci > eci ? other.eci : eci,\n    );\n  }\n\n  // intersection\n  // intersection(other) {}\n\n  // Returns Array<CellRange> that represents that part of this that does not intersect with other\n  // difference\n  difference(other) {\n    const ret = [];\n    const addRet = (sri, sci, eri, eci) => {\n      ret.push(new CellRange(sri, sci, eri, eci));\n    };\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    const dsr = other.sri - sri;\n    const dsc = other.sci - sci;\n    const der = eri - other.eri;\n    const dec = eci - other.eci;\n    if (dsr > 0) {\n      addRet(sri, sci, other.sri - 1, eci);\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, eci);\n        if (dsc > 0) {\n          addRet(other.sri, sci, other.eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, other.eri, eci);\n        }\n      } else {\n        if (dsc > 0) {\n          addRet(other.sri, sci, eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, eri, eci);\n        }\n      }\n    } else if (der > 0) {\n      addRet(other.eri + 1, sci, eri, eci);\n      if (dsc > 0) {\n        addRet(sri, sci, other.eri, other.sci - 1);\n      }\n      if (dec > 0) {\n        addRet(sri, other.eci + 1, other.eri, eci);\n      }\n    }\n    if (dsc > 0) {\n      addRet(sri, sci, eri, other.sci - 1);\n      if (dec > 0) {\n        addRet(sri, other.eri + 1, eri, eci);\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, other.eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, other.eci);\n        }\n      } else {\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, eci);\n        }\n      }\n    } else if (dec > 0) {\n      addRet(eri, other.eci + 1, eri, eci);\n      if (dsr > 0) {\n        addRet(sri, sci, other.sri - 1, other.eci);\n      }\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, other.eci);\n      }\n    }\n    return ret;\n  }\n\n  size() {\n    return [\n      this.eri - this.sri + 1,\n      this.eci - this.sci + 1,\n    ];\n  }\n\n  toString() {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    let ref = xy2expr(sci, sri);\n    if (this.multiple()) {\n      ref = `${ref}:${xy2expr(eci, eri)}`;\n    }\n    return ref;\n  }\n\n  clone() {\n    const {\n      sri, sci, eri, eci, w, h,\n    } = this;\n    return new CellRange(sri, sci, eri, eci, w, h);\n  }\n\n  /*\n  toJSON() {\n    return this.toString();\n  }\n  */\n\n  equals(other) {\n    return this.eri === other.eri\n      && this.eci === other.eci\n      && this.sri === other.sri\n      && this.sci === other.sci;\n  }\n\n  static valueOf(ref) {\n    // B1:B8, B1 => 1 x 1 cell range\n    const refs = ref.split(':');\n    const [sci, sri] = expr2xy(refs[0]);\n    let [eri, eci] = [sri, sci];\n    if (refs.length > 1) {\n      [eci, eri] = expr2xy(refs[1]);\n    }\n    return new CellRange(sri, sci, eri, eci);\n  }\n}\n\nexport default CellRange;\n\nexport {\n  CellRange,\n};\n","import { Element, h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { buildImg, default as Icon } from './icon';\n\nexport default class Dropdown extends Element {\n  constructor(title, width, showArrow, placement, classname, ...children) {\n    super('div', `${cssPrefix}-dropdown ${placement} ${classname||''}`);\n    this.title = title;\n    this.change = () => {};\n    this.headerClick = () => {};\n    if (typeof title === 'string') {\n      this.title = h('div', `${cssPrefix}-dropdown-title`).child(title);\n    } else if (showArrow) {\n      this.title.addClass('arrow-left');\n    }\n    this.contentEl = h('div', `${cssPrefix}-dropdown-content`)\n      .css('width', width)\n      .hide();\n\n    this.setContentChildren(...children);\n\n    this.headerEl = h('div', `${cssPrefix}-dropdown-header`);\n    this.headerEl.on('click', () => {\n      if (this.contentEl.css('display') !== 'block') {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }).children(\n      this.title,\n      showArrow ? h('div', `${cssPrefix}-icon arrow-right`).child(\n        // h('div', `${cssPrefix}-icon-img arrow-down`),\n        // buildImg('arrow-down') \n        new Icon('arrow-down')\n      ) : '',\n    );\n    this.children(this.headerEl, this.contentEl);\n  }\n\n  setContentChildren(...children) {\n    this.contentEl.html('');\n    if (children.length > 0) {\n      this.contentEl.children(...children);\n    }\n  }\n\n  setTitle(title) {\n    this.title.html(title);\n    this.hide();\n  }\n\n  show() {\n    const { contentEl } = this;\n    contentEl.show();\n    this.parent().active();\n    bindClickoutside(this.parent(), () => {\n      this.hide();\n    });\n  }\n\n  hide() {\n    this.parent().active(false);\n    this.contentEl.hide();\n    unbindClickoutside(this.parent());\n  }\n}\n","module.exports = require('./numfmt');\n","import numfmt from 'numfmt';\nimport { tf } from '../locale/locale';\n\n// eslint-disable-next-line no-unused-vars\nconst formatStringRender = v => v;\n\n// eslint-disable-next-line no-unused-vars\nconst formatNumberRender = (v) => {\n  // match \"-12.1\" or \"12\" or \"12.1\"\n  if (/^(-?\\d*.?\\d*)$/.test(v)) {\n    const v1 = Number(v).toFixed(2).toString();\n    const [first, ...parts] = v1.split('\\\\.');\n    return [first.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,'), ...parts];\n  }\n  return v;\n};\n\nconst generalFmt = ``;\nconst textFmt = '@';\nconst numericFmt = '#,##0.00';\nconst percentFmt = '#,##0.00%';\nconst rmbFmt = '#,##0.00';\nconst usdFmt = '$#,##0.00';\nconst eurFmt = '#,##0.00';\n// TODO: take from locale\nconst dateFmt = tf('format.dateformat')() || 'yyyy-mm-dd';\nconst timeFmt = '[$-F400]h:mm:ss AM/PM';\nconst longdateFmt = '[$-F800]dddd, mmmm dd, yyyy';\n\n\nconst baseFormats = [\n  {\n    // key: 'general',\n    numfmt: generalFmt,\n    title: tf('format.general'),\n    type: 'string',\n    render: numfmt(generalFmt),\n  },\n  {\n    // key: 'text',\n    numfmt: textFmt,\n    title: tf('format.text'),\n    type: 'string',\n    render: numfmt(textFmt),\n  },\n  {\n    // key: 'number',\n    numfmt: numericFmt,\n    title: tf('format.number'),\n    type: 'number',\n    label: '1,000.12',\n    render: numfmt(numericFmt),\n  },\n  {\n    // key: 'percent',\n    numfmt: percentFmt,\n    title: tf('format.percent'),\n    type: 'number',\n    label: '10.12%',\n    render: numfmt(percentFmt),\n  },\n  {\n    // key: 'rmb',\n    numfmt: rmbFmt,\n    title: tf('format.rmb'),\n    type: 'number',\n    label: '10.00',\n    render: numfmt(rmbFmt),\n  },\n  {\n    // key: 'usd',\n    numfmt: usdFmt,\n    title: tf('format.usd'),\n    type: 'number',\n    label: '$10.00',\n    render: numfmt(usdFmt),\n  },\n  {\n    // key: 'eur',\n    numfmt: eurFmt,\n    title: tf('format.eur'),\n    type: 'number',\n    label: '10.00',\n    render: numfmt(eurFmt),\n  },\n  {\n    key: 'date',\n    numfmt: dateFmt,\n    title: tf('format.date'),\n    type: 'date',\n    label: '26/09/2008',\n    render: numfmt(dateFmt),\n  },\n  \n  // {\n  //   key: 'datetime',\n  //   title: tf('format.datetime'),\n  //   type: 'date',\n  //   label: '26/09/2008 15:59:00',\n  //   render: timeFmt,\n  // },\n  {\n    key: 'longdate',\n    numfmt: longdateFmt,\n    title: tf('format.longdate'),\n    type: 'date',\n    label: 'Friday, Dec. 31, 1971',\n    render: numfmt(longdateFmt),\n  },\n  {\n    // key: 'time',\n    numfmt: timeFmt,\n    title: tf('format.time'),\n    type: 'date',\n    label: '15:59:00',\n    render: numfmt(timeFmt),\n  },\n];\n\n// const formats = (ary = []) => {\n//   const map = {};\n//   baseFormats.concat(ary).forEach((f) => {\n//     map[f.key] = f;\n//   });\n//   return map;\n// };\nconst formatm = {};\nbaseFormats.forEach((f) => {\n  formatm[f.numfmt] = f;\n});\n\nexport function mergeFormats(custom) {\n  custom.forEach(c => {\n    const bf = baseFormats.find(f => f.key === c.key);\n    if(bf) {\n      bf.numfmt = c.numfmt;\n      bf.label = c.label || bf.label;\n      bf.render = numfmt(c.numfmt);\n      bf.title = c.title ? ()=>c.title : bf.title;\n      bf.type = c.type || bf.type;\n    } else {\n      const nf = {\n        key: c.key,\n        numfmt: c.numfmt,\n        render: numfmt(c.numfmt),\n        title: ()=>c.title,\n        label: c.label,\n        type: c.type,\n      }\n      baseFormats.push(nf);\n      formatm[f.numfmt] = nf;\n    }\n  })\n}\n\nconst numfmtCache = new Map();\n\nformatm.render = (format, cellText, settings) => {\n  const p = numfmt.parseValue(cellText);\n\n  const v = (p && p.v) || cellText;\n  // if (p) {\n  //   const { v } = p;\n  //   // console.log(data.formatm, '>>', cell.format);\n  //   cellText = formatm[style.format].render(v);\n  // }\n  let f;\n  if (formatm[format]) {\n    f = formatm[format].render;\n  } else if (numfmtCache.has(format)) {\n    f = numfmtCache.get(format);\n  } else {\n    f = numfmt(format);\n    numfmtCache.set(format, f);\n  }\n  return f(v);\n};\n\nexport default {\n};\nexport {\n  formatm,\n  baseFormats,\n};\n","// docs\nimport './_.prototypes';\n\n/** default font list\n * @type {BaseFont[]}\n */\nconst baseFonts = [\n  { key: 'Arial', title: 'Arial' },\n  { key: 'Helvetica', title: 'Helvetica' },\n  { key: 'Source Sans Pro', title: 'Source Sans Pro' },\n  { key: 'Comic Sans MS', title: 'Comic Sans MS' },\n  { key: 'Courier New', title: 'Courier New' },\n  { key: 'Verdana', title: 'Verdana' },\n  { key: 'Lato', title: 'Lato' },\n];\n\n/** default fontSize list\n * @type {FontSize[]}\n */\nconst fontSizes = [\n  { pt: 7.5, px: 10 },\n  { pt: 8, px: 11 },\n  { pt: 9, px: 12 },\n  { pt: 10, px: 13 },\n  { pt: 10.5, px: 14 },\n  { pt: 11, px: 15 },\n  { pt: 12, px: 16 },\n  { pt: 14, px: 18.7 },\n  { pt: 15, px: 20 },\n  { pt: 16, px: 21.3 },\n  { pt: 18, px: 24 },\n  { pt: 22, px: 29.3 },\n  { pt: 24, px: 32 },\n  { pt: 26, px: 34.7 },\n  { pt: 36, px: 48 },\n  { pt: 42, px: 56 },\n  // { pt: 54, px: 71.7 },\n  // { pt: 63, px: 83.7 },\n  // { pt: 72, px: 95.6 },\n];\n\n/** map pt to px\n * @date 2019-10-10\n * @param {fontsizePT} pt\n * @returns {fontsizePX}\n */\nfunction getFontSizePxByPt(pt) {\n  for (let i = 0; i < fontSizes.length; i += 1) {\n    const fontSize = fontSizes[i];\n    if (fontSize.pt === pt) {\n      return fontSize.px;\n    }\n  }\n  return pt;\n}\n\n/** transform baseFonts to map\n * @date 2019-10-10\n * @param {BaseFont[]} [ary=[]]\n * @returns {object}\n */\nfunction fonts(ary = []) {\n  const map = {};\n  baseFonts.concat(ary).forEach((f) => {\n    map[f.key] = f;\n  });\n  return map;\n}\n\nexport default {};\nexport {\n  fontSizes,\n  fonts,\n  baseFonts,\n  getFontSizePxByPt,\n};\n","/* global window */\nfunction dpr() {\n  return window.devicePixelRatio || 1;\n}\n\nfunction thinLineWidth() {\n  return dpr() - 0.5;\n}\n\nfunction npx(px) {\n  return parseInt(px * dpr(), 10);\n}\n\nfunction npxLine(px) {\n  const n = npx(px);\n  return n > 0 ? n - 0.5 : 0.5;\n}\n\nclass DrawBox {\n  constructor(x, y, w, h, padding = 0) {\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n    this.padding = padding;\n    this.bgcolor = '#ffffff';\n    // border: [width, style, color]\n    this.borderTop = null;\n    this.borderRight = null;\n    this.borderBottom = null;\n    this.borderLeft = null;\n  }\n\n  setBorders({\n    top, bottom, left, right,\n  }) {\n    if (top) this.borderTop = top;\n    if (right) this.borderRight = right;\n    if (bottom) this.borderBottom = bottom;\n    if (left) this.borderLeft = left;\n  }\n\n  innerWidth() {\n    return this.width - (this.padding * 2) - 2;\n  }\n\n  innerHeight() {\n    return this.height - (this.padding * 2) - 2;\n  }\n\n  textx(align) {\n    const { width, padding } = this;\n    let { x } = this;\n    if (align === 'left') {\n      x += padding;\n    } else if (align === 'center') {\n      x += width / 2;\n    } else if (align === 'right') {\n      x += width - padding;\n    }\n    return x;\n  }\n\n  texty(align, h) {\n    const { height, padding } = this;\n    let { y } = this;\n    if (align === 'top') {\n      y += padding;\n    } else if (align === 'middle') {\n      y += height / 2 - h / 2;\n    } else if (align === 'bottom') {\n      y += height - padding - h;\n    }\n    return y;\n  }\n\n  topxys() {\n    const { x, y, width } = this;\n    return [[x, y], [x + width, y]];\n  }\n\n  rightxys() {\n    const {\n      x, y, width, height,\n    } = this;\n    return [[x + width, y], [x + width, y + height]];\n  }\n\n  bottomxys() {\n    const {\n      x, y, width, height,\n    } = this;\n    return [[x, y + height], [x + width, y + height]];\n  }\n\n  leftxys() {\n    const {\n      x, y, height,\n    } = this;\n    return [[x, y], [x, y + height]];\n  }\n}\n\nfunction drawFontLine(type, tx, ty, align, valign, blheight, blwidth) {\n  const floffset = { x: 0, y: 0 };\n  if (type === 'underline') {\n    if (valign === 'bottom') {\n      floffset.y = 0;\n    } else if (valign === 'top') {\n      floffset.y = -(blheight + 2);\n    } else {\n      floffset.y = -blheight / 2;\n    }\n  } else if (type === 'strike') {\n    if (valign === 'bottom') {\n      floffset.y = blheight / 2;\n    } else if (valign === 'top') {\n      floffset.y = -((blheight / 2) + 2);\n    }\n  }\n\n  if (align === 'center') {\n    floffset.x = blwidth / 2;\n  } else if (align === 'right') {\n    floffset.x = blwidth;\n  }\n  this.line(\n    [tx - floffset.x, ty - floffset.y],\n    [tx - floffset.x + blwidth, ty - floffset.y],\n  );\n}\n\nclass Draw {\n  constructor(el, width, height) {\n    this.el = el;\n    this.ctx = el.getContext('2d');\n    this.resize(width, height);\n    this.ctx.scale(dpr(), dpr());\n  }\n\n  resize(width, height) {\n    // console.log('dpr:', dpr);\n    this.el.style.width = `${width}px`;\n    this.el.style.height = `${height}px`;\n    this.el.width = npx(width);\n    this.el.height = npx(height);\n  }\n\n  clear() {\n    const { width, height } = this.el;\n    this.ctx.clearRect(0, 0, width, height);\n    return this;\n  }\n\n  attr(options) {\n    Object.assign(this.ctx, options);\n    return this;\n  }\n\n  save() {\n    this.ctx.save();\n    this.ctx.beginPath();\n    return this;\n  }\n\n  restore() {\n    this.ctx.restore();\n    return this;\n  }\n\n  beginPath() {\n    this.ctx.beginPath();\n    return this;\n  }\n\n  translate(x, y) {\n    this.ctx.translate(npx(x), npx(y));\n    return this;\n  }\n\n  scale(x, y) {\n    this.ctx.scale(x, y);\n    return this;\n  }\n\n  clearRect(x, y, w, h) {\n    this.ctx.clearRect(x, y, w, h);\n    return this;\n  }\n\n  fillRect(x, y, w, h) {\n    this.ctx.fillRect(npx(x) - 0.5, npx(y) - 0.5, npx(w), npx(h));\n    return this;\n  }\n\n  fillText(text, x, y) {\n    this.ctx.fillText(text, npx(x), npx(y));\n    return this;\n  }\n\n  /*\n    txt: render text\n    box: DrawBox\n    attr: {\n      align: left | center | right\n      valign: top | middle | bottom\n      color: '#333333',\n      strike: false,\n      font: {\n        name: 'Arial',\n        size: 14,\n        bold: false,\n        italic: false,\n      }\n    }\n    textWrap: text wrapping\n  */\n  text(mtxt, box, attr = {}, textWrap = true) {\n    const { ctx } = this;\n    const {\n      align, valign, font, color, strike, underline,\n    } = attr;\n    const tx = box.textx(align);\n    ctx.save();\n    ctx.beginPath();\n    this.attr({\n      textAlign: align,\n      textBaseline: valign,\n      font: `${font.italic ? 'italic' : ''} ${font.bold ? 'bold' : ''} ${npx(font.size)}px ${font.name}`,\n      fillStyle: color,\n      strokeStyle: color,\n    });\n    const txts = `${mtxt}`.split('\\n');\n    const biw = box.innerWidth();\n    const ntxts = [];\n    txts.forEach((it) => {\n      const txtWidth = ctx.measureText(it).width;\n      if (textWrap && txtWidth > npx(biw)) {\n        let textLine = { w: 0, len: 0, start: 0 };\n        for (let i = 0; i < it.length; i += 1) {\n          if (textLine.w >= npx(biw)) {\n            ntxts.push(it.substr(textLine.start, textLine.len));\n            textLine = { w: 0, len: 0, start: i };\n          }\n          textLine.len += 1;\n          textLine.w += ctx.measureText(it[i]).width + 1;\n        }\n        if (textLine.len > 0) {\n          ntxts.push(it.substr(textLine.start, textLine.len));\n        }\n      } else {\n        ntxts.push(it);\n      }\n    });\n    const txtHeight = (ntxts.length - 1) * (font.size + 2);\n    let ty = box.texty(valign, txtHeight);\n    ntxts.forEach((txt) => {\n      const txtWidth = ctx.measureText(txt).width;\n      this.fillText(txt, tx, ty);\n      if (strike) {\n        drawFontLine.call(this, 'strike', tx, ty, align, valign, font.size, txtWidth);\n      }\n      if (underline) {\n        drawFontLine.call(this, 'underline', tx, ty, align, valign, font.size, txtWidth);\n      }\n      ty += font.size + 2;\n    });\n    ctx.restore();\n    return this;\n  }\n\n  border(style, color) {\n    const { ctx } = this;\n    ctx.lineWidth = thinLineWidth;\n    ctx.strokeStyle = color;\n    // console.log('style:', style);\n    if (style === 'medium') {\n      ctx.lineWidth = npx(2) - 0.5;\n    } else if (style === 'thick') {\n      ctx.lineWidth = npx(3);\n    } else if (style === 'dashed') {\n      ctx.setLineDash([npx(3), npx(2)]);\n    } else if (style === 'dotted') {\n      ctx.setLineDash([npx(1), npx(1)]);\n    } else if (style === 'double') {\n      ctx.setLineDash([npx(2), 0]);\n    }\n    return this;\n  }\n\n  line(...xys) {\n    const { ctx } = this;\n    if (xys.length > 1) {\n      ctx.beginPath();\n      const [x, y] = xys[0];\n      ctx.moveTo(npxLine(x), npxLine(y));\n      for (let i = 1; i < xys.length; i += 1) {\n        const [x1, y1] = xys[i];\n        ctx.lineTo(npxLine(x1), npxLine(y1));\n      }\n      ctx.stroke();\n    }\n    return this;\n  }\n\n  strokeBorders(box) {\n    const { ctx } = this;\n    ctx.save();\n    // border\n    const {\n      borderTop, borderRight, borderBottom, borderLeft,\n    } = box;\n    if (borderTop) {\n      this.border(...borderTop);\n      // console.log('box.topxys:', box.topxys());\n      this.line(...box.topxys());\n    }\n    if (borderRight) {\n      this.border(...borderRight);\n      this.line(...box.rightxys());\n    }\n    if (borderBottom) {\n      this.border(...borderBottom);\n      this.line(...box.bottomxys());\n    }\n    if (borderLeft) {\n      this.border(...borderLeft);\n      this.line(...box.leftxys());\n    }\n    ctx.restore();\n  }\n\n  dropdown(box) {\n    const { ctx } = this;\n    const {\n      x, y, width, height,\n    } = box;\n    const sx = x + width - 15;\n    const sy = y + height - 15;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx), npx(sy));\n    ctx.lineTo(npx(sx + 8), npx(sy));\n    ctx.lineTo(npx(sx + 4), npx(sy + 6));\n    ctx.closePath();\n    ctx.fillStyle = box.color || 'rgba(0, 0, 0, .45)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  error(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(255, 0, 0, .65)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  frozen(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(0, 255, 0, .85)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  rect(box, dtextcb) {\n    const { ctx } = this;\n    const {\n      x, y, width, height, bgcolor,\n    } = box;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = bgcolor || '#fff';\n    ctx.rect(npxLine(x + 1), npxLine(y + 1), npx(width - 2), npx(height - 2));\n    ctx.clip();\n    ctx.fill();\n    dtextcb();\n    ctx.restore();\n  }\n}\n\nexport default {};\nexport {\n  Draw,\n  DrawBox,\n  thinLineWidth,\n  npx,\n};\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class FormInput {\n  constructor(width, hint) {\n    this.vchange = () => {};\n    this.el = h('div', `${cssPrefix}-form-input`);\n    this.input = h('input', '').css('width', width)\n      .on('input', evt => this.vchange(evt))\n      .attr('placeholder', hint);\n    this.el.child(this.input);\n  }\n\n  focus() {\n    setTimeout(() => {\n      this.input.el.focus();\n    }, 10);\n  }\n\n  hint(v) {\n    this.input.attr('placeholder', v);\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n}\n","/**\n  formula:\n    key\n    title\n    render\n*/\n/**\n * @typedef {object} Formula\n * @property {string} key\n * @property {function} title\n * @property {function} render\n */\nimport { tf } from '../locale/locale';\nimport { numberCalc } from './helper';\n\nfunction isNumber(str) {\n  // eslint-disable-next-line no-restricted-globals\n  return !Number.isNaN(parseFloat(str)) && isFinite(str);\n}\n\n\n\n\n/** @type {Formula[]} */\nconst baseFormulas = [\n  {\n    key: 'SUM',\n    title: tf('formula.sum'),\n    render: ary => ary.flat().flat().filter(isNumber).reduce((a, b) => numberCalc('+', a, b), 0),\n  },\n  {\n    key: 'AVERAGE',\n    title: tf('formula.average'),\n    render: ([...ary]) => ary.flat().flat().filter(isNumber).reduce((a, b) => Number(a) + Number(b), 0) / ary.flat().length,\n  },\n  {\n    key: 'MAX',\n    title: tf('formula.max'),\n    render: ([...ary]) => Math.max(...ary.flat().flat().filter(isNumber).map(v => Number(v))),\n  },\n  {\n    key: 'MIN',\n    title: tf('formula.min'),\n    render: ([...ary]) => Math.min(...ary.flat().flat().filter(isNumber).map(v => Number(v))),\n  },\n  {\n    key: 'IF',\n    title: tf('formula._if'),\n    render: ([b, t, f]) => (b ? t : f),\n  },\n  {\n    key: 'AND',\n    title: tf('formula.and'),\n    render: ([...ary]) => ary.flat().flat().every(it => it),\n  },\n  {\n    key: 'OR',\n    title: tf('formula.or'),\n    render: ([...ary]) => ary.flat().flat().some(it => it),\n  },\n  {\n    key: 'CONCAT',\n    title: tf('formula.concat'),\n    render: ([...ary]) => ary.flat().flat().join(''),\n  },\n  {\n    key: 'PRODUCT',\n    title: tf('formula.product'),\n    render: ([...ary]) => ary.flat().flat().filter(isNumber).reduce((a, b) => Number(a) * Number(b),1),\n  },\n  {\n    key: 'COUNT',\n    title: tf('formula.count'),\n    render: ary => ary.flat().flat().filter(isNumber).length,\n  },\n  {\n    key: 'MOD',\n    title: tf('formula.mod'),\n    render: ([a,b]) => Number(a) % Number(b),\n  },\n  {\n    key: 'POWER',\n    title: tf('formula.power'),\n    render: ([a,b]) => Number(a) ** Number(b),\n  },\n  {\n    key: 'CEILING',\n    title: tf('formula.ceiling'),\n    render: ([a, significance]) => Math.ceil(Number(a)),\n  }, \n  {\n    key: 'FLOOR',\n    title: tf('formula.floor'),\n    render: ([a]) => Math.floor(Number(a)),\n  },\n  {\n    key: 'LEN',\n    title: tf('formula.len'),\n    render: ([a]) => String(a).length,\n  },\n  {\n    key: 'REPLACE',\n    title: tf('formula.replace'),\n    render: ([oldText, startNum, numChars, newText]) => {\n      // Adjust the startNum from 1-based index to 0-based index for JavaScript\n      const zstart = startNum - 1;\n\n      // Get the parts of the old text to keep\n      const beginning = oldText.slice(0, zstart);\n      const ending = oldText.slice(zstart + numChars);\n\n      // Build and return the final string\n      return beginning + newText + ending;\n    }\n  },\n  {\n    key: 'SUBSTITUTE',\n    title: tf('formula.substitute'),\n    render: ([text, oldText, newText]) => String(text).replaceAll(oldText, newText)\n  },\n  {\n    key: 'VLOOKUP',\n    title: tf('formula.vlookup'),\n    render: ([lookupValue, table, colIndex, rangeLookup]) => {\n      console.log(lookupValue, table, colIndex, rangeLookup);\n      const index = table[0].findIndex(s => s == lookupValue);\n      if(index >= 0 && colIndex <= table.length) {\n        const lookup = table[colIndex-1];\n        const value = lookup[index];\n        return value;\n      }\n      return \"#N/A\";\n    },\n\n  }\n  /* support:  1 + A1 + B2 * 3\n  {\n    key: 'DIVIDE',\n    title: tf('formula.divide'),\n    render: ary => ary.reduce((a, b) => Number(a) / Number(b)),\n  },\n  {\n    key: 'PRODUCT',\n    title: tf('formula.product'),\n    render: ary => ary.reduce((a, b) => Number(a) * Number(b),1),\n  },\n  {\n    key: 'SUBTRACT',\n    title: tf('formula.subtract'),\n    render: ary => ary.reduce((a, b) => Number(a) - Number(b)),\n  },\n  */\n];\n\nconst formulas = baseFormulas;\n\n// const formulas = (formulaAry = []) => {\n//   const formulaMap = {};\n//   baseFormulas.concat(formulaAry).forEach((f) => {\n//     formulaMap[f.key] = f;\n//   });\n//   return formulaMap;\n// };\nconst formulam = {};\nbaseFormulas.forEach((f) => {\n  formulam[f.key] = f;\n});\n\nexport default {\n};\n\nexport {\n  formulam,\n  formulas,\n  baseFormulas,\n};\n","/* eslint-disable camelcase */\nimport { stringAt } from '../core/alphabet';\nimport { getFontSizePxByPt } from '../core/font';\nimport _cell from '../core/cell';\nimport { formulam } from '../core/formula';\nimport { formatm } from '../core/format';\n\nimport {\n  Draw, DrawBox, thinLineWidth, npx,\n} from '../canvas/draw';\n\n// gobal var\nconst cellPaddingWidth = 5;\n// const tableFixedHeaderCleanStyle= { fillStyle: '#f4f5f8'  };\n// const tableGridStyle = {\n//   fillStyle: '#fff',\n//   lineWidth: thinLineWidth,\n//   strokeStyle: '#e6e6e6',\n// };\n\nfunction tableFixedHeaderStyle() {\n  return {\n    textAlign: 'center',\n    textBaseline: 'middle',\n    font: `500 ${npx(12)}px Source Sans Pro`,\n    fillStyle: '#585757',\n    lineWidth: thinLineWidth(),\n    strokeStyle: '#e6e6e6',\n  };\n}\n\nfunction getDrawBox(data, rindex, cindex, yoffset = 0) {\n  const {\n    left, top, width, height,\n  } = data.cellRect(rindex, cindex);\n  const dbox = new DrawBox(left, top + yoffset, width, height, cellPaddingWidth);\n\n  return dbox;\n}\n\nfunction getFillStyle(draw) {\n  return global.getComputedStyle(draw.ctx.canvas)\n    .getPropertyValue('--table-header') || 'hsl(360deg 0% 88%)';\n}\n\nfunction getStrokeStyle(draw) {\n  return global.getComputedStyle(draw.ctx.canvas)\n    .getPropertyValue('--table-stroke') || 'hsl(220, 6%, 51%)';\n}\n\nfunction getTextStyle(draw) {\n  return global.getComputedStyle(draw.ctx.canvas)\n    .getPropertyValue('--table-header-text') || 'hsl(359deg 100% 0% / .6)';\n}\n\nfunction getAccent(draw, alpha) {\n  const accent_h = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--ss-accent-h') || '218';\n  const accent_s = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--ss-accent-s') || '100%';\n  const accent_l = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--ss-accent-l') || '65%';\n\n  const color = `hsl( ${accent_h}, ${accent_s}, ${accent_l}, ${alpha})`;\n  return color;\n}\n/*\nfunction renderCellBorders(bboxes, translateFunc) {\n  const { draw } = this;\n  if (bboxes) {\n    const rset = new Set();\n    // console.log('bboxes:', bboxes);\n    bboxes.forEach(({ ri, ci, box }) => {\n      if (!rset.has(ri)) {\n        rset.add(ri);\n        translateFunc(ri);\n      }\n      draw.strokeBorders(box);\n    });\n  }\n}\n*/\n\nexport function renderCell(draw, data, rindex, cindex, yoffset = 0) {\n  const { sortedRowMap, rows, cols } = data;\n  if (rows.isHide(rindex) || cols.isHide(cindex)) return;\n  let nrindex = rindex;\n  if (sortedRowMap.has(rindex)) {\n    nrindex = sortedRowMap.get(rindex);\n  }\n\n  const cell = data.getCell(nrindex, cindex);\n  if (cell === null) return;\n  let frozen = false;\n  if ('editable' in cell && cell.editable === false) {\n    frozen = true;\n  }\n\n  const style = data.getCellStyleOrDefault(nrindex, cindex);\n  const dbox = getDrawBox(data, rindex, cindex, yoffset);\n  dbox.bgcolor = style.bgcolor;\n  if (style.border !== undefined) {\n    dbox.setBorders(style.border);\n    // bboxes.push({ ri: rindex, ci: cindex, box: dbox });\n    draw.strokeBorders(dbox);\n  }\n  draw.rect(dbox, () => {\n    // render text\n    let cellText = '';\n    if (!data.settings.evalPaused) {\n      cellText = _cell.render(cell.text || '', formulam, (y, x) => (data.getCellTextOrDefault(x, y)));\n    } else {\n      cellText = cell.text || '';\n    }\n    if ((typeof (style.format) !== 'undefined')\n      && ((typeof (cellText) === 'string') || (typeof (cellText) === 'number'))\n    ) {\n      cellText = formatm.render(style.format, cellText, data.settings);\n    }\n    const font = Object.assign({}, style.font);\n    font.size = getFontSizePxByPt(font.size);\n    // console.log('style:', style);\n    draw.text(cellText, dbox, {\n      align: style.align,\n      valign: style.valign,\n      font,\n      color: style.color,\n      strike: style.strike,\n      underline: style.underline,\n    }, style.textwrap);\n    // error\n    const error = data.validations.getError(rindex, cindex);\n    if (error) {\n      // console.log('error:', rindex, cindex, error);\n      draw.error(dbox);\n    }\n    if (frozen) {\n      draw.frozen(dbox);\n    }\n  });\n}\n\nfunction renderAutofilter(viewRange) {\n  const { data, draw } = this;\n  if (viewRange) {\n    const { autoFilter } = data;\n    if (!autoFilter.active()) return;\n    const afRange = autoFilter.hrange();\n    if (viewRange.intersects(afRange)) {\n      afRange.each((ri, ci) => {\n        const dbox = getDrawBox(data, ri, ci);\n        dbox.color = getTextStyle(draw);\n        draw.dropdown(dbox);\n      });\n    }\n  }\n}\n\nfunction renderContent(viewRange, fw, fh, tx, ty) {\n  const { draw, data } = this;\n  draw.save();\n  draw.translate(fw, fh)\n    .translate(tx, ty);\n\n  const { exceptRowSet } = data;\n  // const exceptRows = Array.from(exceptRowSet);\n  const filteredTranslateFunc = (ri) => {\n    const ret = exceptRowSet.has(ri);\n    if (ret) {\n      const height = data.rows.getHeight(ri);\n      draw.translate(0, -height);\n    }\n    return !ret;\n  };\n\n  const exceptRowTotalHeight = data.exceptRowTotalHeight(viewRange.sri, viewRange.eri);\n  // 1 render cell\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  viewRange.each((ri, ci) => {\n    renderCell(draw, data, ri, ci);\n  }, ri => filteredTranslateFunc(ri));\n  draw.restore();\n\n\n  // 2 render mergeCell\n  const rset = new Set();\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  data.eachMergesInView(viewRange, ({ sri, sci, eri }) => {\n    if (!exceptRowSet.has(sri)) {\n      renderCell(draw, data, sri, sci);\n    } else if (!rset.has(sri)) {\n      rset.add(sri);\n      const height = data.rows.sumHeight(sri, eri + 1);\n      draw.translate(0, -height);\n    }\n  });\n  draw.restore();\n\n  // 3 render autofilter\n  renderAutofilter.call(this, viewRange);\n\n  draw.restore();\n}\n\nfunction renderSelectedHeaderCell(x, y, w, h) {\n  const { draw } = this;\n  // const {canvas} = draw.context;\n  // const color = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--canvas-header-fill') || '#4b89ff19';\n  const color = getAccent(draw, '15%');\n  // color = 'hsl()'\n  // console.log(`color: ${color}`);\n  draw.save();\n  draw\n    .attr({ fillStyle: `${color}` })\n    // .attr({ fillStyle: 'rgba(75, 137, 255, 0.08)' })\n    .fillRect(x, y, w, h);\n  draw.restore();\n}\n\n\n// viewRange\n// type: all | left | top\n// w: the fixed width of header\n// h: the fixed height of header\n// tx: moving distance on x-axis\n// ty: moving distance on y-axis\nfunction renderFixedHeaders(type, viewRange, w, h, tx, ty) {\n  const { draw, data } = this;\n  const sumHeight = viewRange.h; // rows.sumHeight(viewRange.sri, viewRange.eri + 1);\n  const sumWidth = viewRange.w; // cols.sumWidth(viewRange.sci, viewRange.eci + 1);\n  const nty = ty + h;\n  const ntx = tx + w;\n\n  draw.save();\n  // draw rect background\n  const fillStyle = getFillStyle(draw);\n\n  // draw.attr(tableFixedHeaderCleanStyle);\n  draw.attr({ fillStyle });\n  if (type === 'all' || type === 'left') draw.fillRect(0, nty, w, sumHeight);\n  if (type === 'all' || type === 'top') draw.fillRect(ntx, 0, sumWidth, h);\n\n  const {\n    sri, sci, eri, eci,\n  } = data.selector.range;\n  // console.log(data.selectIndexes);\n  // draw text\n  // text font, align...\n  const style = tableFixedHeaderStyle();\n\n  const textColor = getTextStyle(draw);\n  const strokeStyle = getStrokeStyle(draw);\n\n  if (textColor) (style.fillStyle = textColor);\n  if (strokeStyle) (style.strokeStyle = strokeStyle);\n\n  draw.attr(style);\n  // y-header-text\n  if (type === 'all' || type === 'left') {\n    data.rowEach(viewRange.sri, viewRange.eri, (i, y1, rowHeight) => {\n      const y = nty + y1;\n      const ii = i;\n      draw.line([0, y], [w, y]);\n      if (sri <= ii && ii < eri + 1) {\n        renderSelectedHeaderCell.call(this, 0, y, w, rowHeight);\n      }\n      draw.fillText(ii + 1, w / 2, y + (rowHeight / 2));\n      if (i > 0 && data.rows.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle });\n        draw.line([5, y + 5], [w - 5, y + 5]);\n        draw.restore();\n      }\n    });\n    draw.line([0, sumHeight + nty], [w, sumHeight + nty]);\n    draw.line([w, nty], [w, sumHeight + nty]);\n  }\n  // x-header-text\n  if (type === 'all' || type === 'top') {\n    data.colEach(viewRange.sci, viewRange.eci, (i, x1, colWidth) => {\n      const x = ntx + x1;\n      const ii = i;\n      draw.line([x, 0], [x, h]);\n      if (sci <= ii && ii < eci + 1) {\n        renderSelectedHeaderCell.call(this, x, 0, colWidth, h);\n      }\n      draw.fillText(stringAt(ii), x + (colWidth / 2), h / 2);\n      if (i > 0 && data.cols.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle });\n        draw.line([x + 5, 5], [x + 5, h - 5]);\n        draw.restore();\n      }\n    });\n    draw.line([sumWidth + ntx, 0], [sumWidth + ntx, h]);\n    draw.line([0, h], [sumWidth + ntx, h]);\n  }\n  draw.restore();\n}\n\n\nfunction renderFixedLeftTopCell(fw, fh) {\n  const { draw } = this;\n  const fillStyle = getFillStyle(draw);\n  draw.save();\n  // left-top-cell\n  draw.attr({ fillStyle })\n    .fillRect(0, 0, fw, fh);\n  draw.restore();\n}\n\nfunction renderContentGrid({\n  sri, sci, eri, eci, w, h,\n}, fw, fh, tx, ty) {\n  const { draw, data } = this;\n  const { settings } = data;\n\n  const fillStyle = getFillStyle(draw);\n\n  const strokeStyle = getStrokeStyle(draw);\n\n  draw.save();\n  draw.attr({\n    fillStyle,\n    lineWidth: thinLineWidth,\n    strokeStyle,\n  })\n    .translate(fw + tx, fh + ty);\n  // const sumWidth = cols.sumWidth(sci, eci + 1);\n  // const sumHeight = rows.sumHeight(sri, eri + 1);\n  // console.log('sumWidth:', sumWidth);\n  // draw.clearRect(0, 0, w, h);\n  if (!settings.showGrid) {\n    draw.restore();\n    return;\n  }\n  // console.log('rowStart:', rowStart, ', rowLen:', rowLen);\n  data.rowEach(sri, eri, (i, y, ch) => {\n    // console.log('y:', y);\n    if (i !== sri) draw.line([0, y], [w, y]);\n    if (i === eri) draw.line([0, y + ch], [w, y + ch]);\n  });\n  data.colEach(sci, eci, (i, x, cw) => {\n    if (i !== sci) draw.line([x, 0], [x, h]);\n    if (i === eci) draw.line([x + cw, 0], [x + cw, h]);\n  });\n  draw.restore();\n}\n\n\nfunction renderFreezeHighlightLine(fw, fh, ftw, fth) {\n  const { draw, data } = this;\n  const twidth = data.viewWidth() - fw;\n  const theight = data.viewHeight() - fh;\n\n  const color = getAccent(draw, '65%');\n\n  // color = '#4b89ff99';\n  // const color = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--canvas-header-stroke') || '#4b89ff99';\n  draw.save()\n    .translate(fw, fh)\n    .attr({ strokeStyle: `${color}` })\n    // .attr({ strokeStyle: 'rgba(75, 137, 255, .6)' })\n  ;\n  draw.line([0, fth], [twidth, fth]);\n  draw.line([ftw, 0], [ftw, theight]);\n  draw.restore();\n}\n\n/** end */\nclass Table {\n  constructor(el, data) {\n    this.el = el;\n    this.draw = new Draw(el, data.viewWidth(), data.viewHeight());\n    this.data = data;\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.render();\n  }\n\n  render() {\n    // resize canvas\n    const { data } = this;\n    const { rows, cols } = data;\n    // fixed width of header\n    const fw = cols.indexWidth;\n    // fixed height of header\n    const fh = rows.height;\n\n    this.draw.resize(data.viewWidth(), data.viewHeight());\n    this.clear();\n\n    const viewRange = data.viewRange();\n    // renderAll.call(this, viewRange, data.scroll);\n    const tx = data.freezeTotalWidth();\n    const ty = data.freezeTotalHeight();\n    const { x, y } = data.scroll;\n    // 1\n    renderContentGrid.call(this, viewRange, fw, fh, tx, ty);\n    renderFixedHeaders.call(this, 'all', viewRange, fw, fh, tx, ty);\n    renderFixedLeftTopCell.call(this, fw, fh);\n    // gcannata moved here for top borders\n    renderContent.call(this, viewRange, fw, fh, -x, -y);\n    const [fri, fci] = data.freeze;\n    if (fri > 0 || fci > 0) {\n      // 2\n      if (fri > 0) {\n        const vr = viewRange.clone();\n        vr.sri = 0;\n        vr.eri = fri - 1;\n        vr.h = ty;\n        renderContentGrid.call(this, vr, fw, fh, tx, 0);\n        renderFixedHeaders.call(this, 'top', vr, fw, fh, tx, 0);\n        // gcannata moved here for top borders\n        renderContent.call(this, vr, fw, fh, -x, 0);\n      }\n      // 3\n      if (fci > 0) {\n        const vr = viewRange.clone();\n        vr.sci = 0;\n        vr.eci = fci - 1;\n        vr.w = tx;\n        renderContentGrid.call(this, vr, fw, fh, 0, ty);\n        renderFixedHeaders.call(this, 'left', vr, fw, fh, 0, ty);\n        renderContent.call(this, vr, fw, fh, 0, -y);\n      }\n      // 4\n      const freezeViewRange = data.freezeViewRange();\n      renderContentGrid.call(this, freezeViewRange, fw, fh, 0, 0);\n      renderFixedHeaders.call(this, 'all', freezeViewRange, fw, fh, 0, 0);\n      renderContent.call(this, freezeViewRange, fw, fh, 0, 0);\n      // 5\n      renderFreezeHighlightLine.call(this, fw, fh, tx, ty);\n    }\n  }\n\n  clear() {\n    this.draw.clear();\n  }\n}\n\nexport default Table;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { expr2xy, xy2expr } from './alphabet';\nimport font from './font';\nimport { numberCalc } from './helper';\n\nfunction buildRange(stack) {\n  const [ex, ey] = expr2xy(stack.pop());\n  const [sx, sy] = expr2xy(stack.pop());\n  // console.log('::', sx, sy, ex, ey);\n  // let rangelen = 0;\n  const rows = [];\n  let items = [];\n  // TODO: what about rectangular selection\n  for (let x = sx; x <= ex; x += 1) {\n    for (let y = sy; y <= ey; y += 1) {\n      items.push(xy2expr(x, y));\n      // rangelen += 1;\n    }\n    rows.push(items);\n    items = [];\n  }\n\n  return rows;\n}\n\n// Converting infix expression to a suffix expression\n// src: AVERAGE(SUM(A1,A2), B1) + 50 + B20\n// return: [A1, A2], SUM[, B1],AVERAGE,50,+,B20,+\nconst infixExprToSuffixExpr = (src) => {\n  const operatorStack = [];\n  const stack = [];\n  let subStrs = []; // SUM, A1, B2, 50 ...\n  let fnArgType = 0; // 1 => , 2 => :\n  let fnArgOperator = '';\n  let fnArgsLen = 1; // A1,A2,A3...\n  let oldc = '';\n  let locked = false;\n  for (let i = 0; i < src.length; i += 1) {\n    const c = src.charAt(i);\n    if (c !== ' ') {\n      // skip '$' for now\n      if (c === '$') {\n        locked = true;\n      } else if (c >= 'a' && c <= 'z') {\n        subStrs.push((locked ? '$' : '') + c.toUpperCase());\n        locked = false;\n      } else if ((c >= '0' && c <= '9') || (c >= 'A' && c <= 'Z') || c === '.') {\n        subStrs.push((locked ? '$' : '') + c);\n        locked = false;\n      } else if (c === '\"') {\n        i += 1;\n        while (src.charAt(i) !== '\"') {\n          subStrs.push(src.charAt(i));\n          i += 1;\n        }\n        stack.push(`\"${subStrs.join('')}`);\n        subStrs = [];\n      } else if (c === '-' && /[+\\-*/,(]/.test(oldc)) {\n        subStrs.push(c);\n      } else {\n        // console.log('subStrs:', subStrs.join(''), stack);\n        if (c !== '(' && subStrs.length > 0) {\n          stack.push(subStrs.join(''));\n        }\n        if (c === ')' /* || c === ',' */) {\n          // let c1 = operatorStack.pop();\n          if (fnArgType === 2) { // encountered a :\n            // fn argument range => A1:B5\n            try {\n              const items = buildRange(stack);\n              stack.push(items);\n              // it will be actually incremented lated\n              // if (c === ')') {\n              const c1 = operatorStack.pop();\n              stack.push({ f: c1, len: fnArgsLen });\n              // } else {\n              //   fnArgType = 1;\n              //   fnArgsLen += 1;\n              // }\n            } catch (e) {\n              // console.log(e);\n            }\n          } else if (fnArgType === 1 || fnArgType === 3) {\n            if (fnArgType === 3) {\n              stack.push(fnArgOperator);\n              fnArgOperator = '';\n            }\n            // if (fnArgType === 1) stack.push({ f: c1, len: fnArgsLen});\n            // if (c === ')') {\n            const c1 = operatorStack.pop();\n\n            // fn argument => A1,A2,B5\n            stack.push({ f: c1, len: fnArgsLen });\n            fnArgsLen = 1;\n            // } else {\n            //   fnArgType = 1;\n            //   fnArgsLen += 1;\n            // }\n          } else {\n            // console.log('c1:', c1, fnArgType, stack, operatorStack);\n            let c1 = operatorStack.pop();\n            while (c1 !== '(') {\n              stack.push(c1);\n              if (operatorStack.length <= 0) break;\n              c1 = operatorStack.pop();\n            }\n          }\n          // if (c === ')') {\n          fnArgType = 0;\n          // }\n        } else if (c === '=' || c === '>' || c === '<') {\n          const nc = src.charAt(i + 1);\n          fnArgOperator = c;\n          if (nc === '=' || nc === '-') {\n            fnArgOperator += nc;\n            i += 1;\n          }\n          fnArgType = 3;\n        } else if (c === ':') {\n          fnArgType = 2;\n        } else if (c === ',') {\n          // TODO: here if the previous parameter is a range, we should colllect it\n          if (fnArgType === 2) {\n            const items = buildRange(stack);\n            stack.push(items);\n          } else if (fnArgType === 3) {\n            stack.push(fnArgOperator);\n            fnArgOperator = '';\n          }\n          fnArgType = 1;\n          fnArgsLen += 1;\n        } else if (c === '(' && subStrs.length > 0) {\n          // function\n          operatorStack.push(subStrs.join(''));\n        } else {\n          // priority: */ > +-\n          // console.log('xxxx:', operatorStack, c, stack);\n          if (operatorStack.length > 0 && (c === '+' || c === '-')) {\n            let top = operatorStack[operatorStack.length - 1];\n            if (top !== '(') stack.push(operatorStack.pop());\n            if (top === '*' || top === '/') {\n              while (operatorStack.length > 0) {\n                top = operatorStack[operatorStack.length - 1];\n                if (top !== '(') stack.push(operatorStack.pop());\n                else break;\n              }\n            }\n          } else if (operatorStack.length > 0) {\n            const top = operatorStack[operatorStack.length - 1];\n            if (top === '*' || top === '/') stack.push(operatorStack.pop());\n          }\n          operatorStack.push(c);\n        }\n        subStrs = [];\n      }\n      oldc = c;\n    }\n  }\n  if (subStrs.length > 0) {\n    stack.push(subStrs.join(''));\n  }\n  while (operatorStack.length > 0) {\n    stack.push(operatorStack.pop());\n  }\n  if (fnArgOperator.length > 0) {\n    stack.push(fnArgOperator);\n  }\n  return stack;\n};\n\nconst evalSubExpr = (subExpr, cellRender) => {\n  if (Array.isArray(subExpr)) {\n    const ret = subExpr.map(e => evalSubExpr(e, cellRender));\n    return ret;\n  }\n\n  const [fl] = subExpr;\n  let expr = subExpr;\n  if (fl === '\"') {\n    return subExpr.substring(1);\n  }\n  let ret = 1;\n  if (fl === '-') {\n    expr = subExpr.substring(1);\n    ret = -1;\n  }\n  if (expr[0] >= '0' && expr[0] <= '9') {\n    return ret * Number(expr);\n  }\n  const [x, y] = expr2xy(expr);\n  // changed by gcannata\n  // return ret * cellRender(x, y);\n  return cellRender(x, y);\n};\n\n// evaluate the suffix expression\n// srcStack: <= infixExprToSufixExpr\n// formulaMap: {'SUM': {}, ...}\n// cellRender: (x, y) => {}\nconst evalSuffixExpr = (srcStack, formulaMap, cellRender, cellList) => {\n  const stack = [];\n  // console.log(':::::formulaMap:', formulaMap);\n  for (let i = 0; i < srcStack.length; i += 1) {\n    // console.log(':::>>>', srcStack[i]);\n    const expr = srcStack[i];\n    const fc = expr[0];\n    if (expr === '+') {\n      const top = stack.pop();\n      stack.push(numberCalc('+', stack.pop(), top));\n    } else if (expr === '-') {\n      if (stack.length === 1) {\n        const top = stack.pop();\n        stack.push(numberCalc('*', top, -1));\n      } else {\n        const top = stack.pop();\n        stack.push(numberCalc('-', stack.pop(), top));\n      }\n    } else if (expr === '*') {\n      stack.push(numberCalc('*', stack.pop(), stack.pop()));\n    } else if (expr === '/') {\n      const top = stack.pop();\n      stack.push(numberCalc('/', stack.pop(), top));\n    } else if (fc === '=' || fc === '>' || fc === '<') {\n      let top = stack.pop();\n      if (!Number.isNaN(top)) top = Number(top);\n      let left = stack.pop();\n      if (!Number.isNaN(left)) left = Number(left);\n      let ret = false;\n      if (fc === '=') {\n        ret = (left === top);\n      } else if (expr === '>') {\n        ret = (left > top);\n      } else if (expr === '>=') {\n        ret = (left >= top);\n      } else if (expr === '<') {\n        ret = (left < top);\n      } else if (expr === '<=') {\n        ret = (left <= top);\n      }\n      stack.push(ret);\n    }\n    // by gcannata\n    // else if (Array.isArray(expr)) {\n    //   const [formula, len] = expr;\n    //   const params = [];\n    //   for (let j = 0; j < len; j += 1) {\n    //     params.push(stack.pop());\n    //   }\n    //   stack.push(formulaMap[formula].render(params.reverse()));\n    // }\n    else if (expr.f) {\n      const { f, len } = expr;\n      const params = [];\n      for (let j = 0; j < len; j += 1) {\n        params.push(stack.pop());\n      }\n      if (formulaMap[f] !== undefined && formulaMap[f].render) {\n        stack.push(formulaMap[f].render(params.reverse()));\n      } else {\n        stack.push('#ERROR');\n      }\n    } else if (formulaMap[expr]) { // try to support unary operators\n      const params = [];\n      params.push(stack.pop());\n      stack.push(formulaMap[expr].render(params));\n    } else {\n      if (cellList.includes(expr)) {\n        return 0;\n      }\n      if ((fc >= 'a' && fc <= 'z') || (fc >= 'A' && fc <= 'Z')) {\n        cellList.push(expr);\n      }\n      stack.push(evalSubExpr(expr, cellRender));\n      cellList.pop();\n    }\n    // console.log('stack:', stack);\n  }\n  // by gcanata\n  // return stack[0];\n  const ret = stack[0];\n  if (ret !== undefined && ret !== null) return ret;\n  return 0;\n};\n\nconst cellRender = (src, formulaMap, getCellText, cellList = []) => {\n  if (src[0] === '=') {\n    const stack = infixExprToSuffixExpr(src.substring(1));\n    if (stack.length <= 0) return src;\n    return evalSuffixExpr(\n      stack,\n      formulaMap,\n      (x, y) => cellRender(getCellText(x, y), formulaMap, getCellText, cellList),\n      cellList,\n    );\n  }\n  return src;\n};\n\nexport default {\n  render: cellRender,\n};\nexport {\n  infixExprToSuffixExpr,\n};\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport Icon from './icon';\nimport FormInput from './form_input';\nimport Dropdown from './dropdown';\n// Record: temp not used\n// import { xtoast } from './message';\nimport { tf } from '../locale/locale';\n\nclass DropdownMore extends Dropdown {\n  constructor(click) {\n    const icon = new Icon('ellipsis');\n    super(icon, 'auto', false, 'top-left', 'dd-more');\n    this.contentClick = click;\n  }\n\n  reset(items) {\n    const eles = items.map((it, i) => h('div', `${cssPrefix}-item`)\n      .css('width', '150px')\n      .css('font-weight', 'normal')\n      .on('click', () => {\n        this.contentClick(i);\n        this.hide();\n      })\n      .child(it));\n    this.setContentChildren(...eles);\n  }\n\n  setTitle() {}\n}\n\nconst menuItems = [\n  { key: 'delete', title: tf('contextmenu.deleteSheet') },\n];\n\nfunction buildMenuItem(item) {\n  return h('div', `${cssPrefix}-item`)\n    .child(item.title())\n    .on('click', () => {\n      this.itemClick(item.key);\n      this.hide();\n    });\n}\n\nfunction buildMenu() {\n  return menuItems.map(it => buildMenuItem.call(this, it));\n}\n\nclass ContextMenu {\n  constructor() {\n    this.el = h('div', `${cssPrefix}-contextmenu`)\n      .css('width', '160px')\n      .children(...buildMenu.call(this))\n      .hide();\n    this.itemClick = () => {};\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setOffset(offset) {\n    const { el } = this;\n    el.offset(offset);\n    el.show();\n    bindClickoutside(el);\n  }\n}\n\nexport default class Bottombar {\n  constructor(addFunc = () => {},\n    swapFunc = () => {},\n    deleteFunc = () => {},\n    updateFunc = () => {}) {\n    this.swapFunc = swapFunc;\n    this.updateFunc = updateFunc;\n    this.dataNames = [];\n    this.activeEl = null;\n    this.deleteEl = null;\n    this.items = [];\n    this.moreEl = new DropdownMore((i) => {\n      this.clickSwap2(this.items[i]);\n    });\n    this.contextMenu = new ContextMenu();\n    this.contextMenu.itemClick = deleteFunc;\n    this.el = h('div', `${cssPrefix}-bottombar`).children(\n      this.contextMenu.el,\n      this.menuEl = h('ul', `${cssPrefix}-menu`).child(\n        h('li', '').children(\n          new Icon('add').on('click', () => {\n            addFunc();\n          }),\n          h('span', '').child(this.moreEl),\n        ),\n      ),\n    );\n  }\n\n  addItem(name, active, options) {\n    this.dataNames.push(name);\n    const item = h('li', active ? 'active' : '').child(name);\n    item.on('click', () => {\n      this.clickSwap2(item);\n    }).on('contextmenu', (evt) => {\n      if (options.mode === 'read') return;\n      const { offsetLeft, offsetHeight } = evt.target;\n      this.contextMenu.setOffset({ left: offsetLeft, bottom: offsetHeight + 1 });\n      this.deleteEl = item;\n    }).on('dblclick', () => {\n      if (options.mode === 'read') return;\n      const v = item.html();\n      const input = new FormInput('auto', '');\n      input.val(v);\n      // TODO: support ENTER key\n      input.input.on('blur', ({ target }) => {\n        const { value } = target;\n        const nindex = this.dataNames.findIndex(it => it === v);\n        this.renameItem(nindex, value);\n        /*\n        this.dataNames.splice(nindex, 1, value);\n        this.moreEl.reset(this.dataNames);\n        item.html('').child(value);\n        this.updateFunc(nindex, value);\n        */\n      });\n      item.html('').child(input.el);\n      input.focus();\n    });\n    if (active) {\n      this.clickSwap(item);\n    }\n    this.items.push(item);\n    this.menuEl.child(item);\n    this.moreEl.reset(this.dataNames);\n  }\n\n  renameItem(index, value) {\n    this.dataNames.splice(index, 1, value);\n    this.moreEl.reset(this.dataNames);\n    this.items[index].html('').child(value);\n    this.updateFunc(index, value);\n  }\n\n  clear() {\n    this.items.forEach((it) => {\n      this.menuEl.removeChild(it.el);\n    });\n    this.items = [];\n    this.dataNames = [];\n    this.moreEl.reset(this.dataNames);\n  }\n\n  deleteItem() {\n    const { activeEl, deleteEl } = this;\n    if (this.items.length > 1) {\n      const index = this.items.findIndex(it => it === deleteEl);\n      this.items.splice(index, 1);\n      this.dataNames.splice(index, 1);\n      this.menuEl.removeChild(deleteEl.el);\n      this.moreEl.reset(this.dataNames);\n      if (activeEl === deleteEl) {\n        const [f] = this.items;\n        this.activeEl = f;\n        this.activeEl.toggle();\n        return [index, 0];\n      }\n      return [index, -1];\n    }\n    return [-1];\n  }\n\n  clickSwap2(item) {\n    const index = this.items.findIndex(it => it === item);\n    this.clickSwap(item);\n    this.activeEl.toggle();\n    this.swapFunc(index);\n  }\n\n  clickSwap(item) {\n    if (this.activeEl !== null) {\n      this.activeEl.toggle();\n    }\n    this.activeEl = item;\n  }\n}\n","/* global window */\nimport { h } from './element';\nimport { mouseMoveUp } from './event';\nimport { cssPrefix } from '../config';\n\nexport default class Resizer {\n  constructor(vertical = false, minDistance) {\n    this.moving = false;\n    this.vertical = vertical;\n    this.el = h('div', `${cssPrefix}-resizer ${vertical ? 'vertical' : 'horizontal'}`).children(\n      this.unhideHoverEl = h('div', `${cssPrefix}-resizer-hover`)\n        .on('dblclick.stop', evt => this.mousedblclickHandler(evt))\n        .css('position', 'absolute').hide(),\n      this.hoverEl = h('div', `${cssPrefix}-resizer-hover`)\n        .on('mousedown.stop', evt => this.mousedownHandler(evt)),\n      this.lineEl = h('div', `${cssPrefix}-resizer-line`).hide(),\n    ).hide();\n    // cell rect\n    this.cRect = null;\n    this.finishedFn = null;\n    this.minDistance = minDistance;\n    this.unhideFn = () => {};\n  }\n\n  showUnhide(index) {\n    this.unhideIndex = index;\n    this.unhideHoverEl.show();\n  }\n\n  hideUnhide() {\n    this.unhideHoverEl.hide();\n  }\n\n  // rect : {top, left, width, height}\n  // line : {width, height}\n  show(rect, line) {\n    const {\n      moving, vertical, hoverEl, lineEl, el,\n      unhideHoverEl,\n    } = this;\n    if (moving) return;\n    this.cRect = rect;\n    const {\n      left, top, width, height,\n    } = rect;\n    el.offset({\n      left: vertical ? left + width - 5 : left,\n      top: vertical ? top : top + height - 5,\n    }).show();\n    hoverEl.offset({\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n    lineEl.offset({\n      width: vertical ? 0 : line.width,\n      height: vertical ? line.height : 0,\n    });\n    unhideHoverEl.offset({\n      left: vertical ? 5 - width : left,\n      top: vertical ? top : 5 - height,\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n  }\n\n  hide() {\n    this.el.offset({\n      left: 0,\n      top: 0,\n    }).hide();\n    this.hideUnhide();\n  }\n\n  mousedblclickHandler() {\n    if (this.unhideIndex) this.unhideFn(this.unhideIndex);\n  }\n\n  mousedownHandler(evt) {\n    let startEvt = evt;\n    const {\n      el, lineEl, cRect, vertical, minDistance,\n    } = this;\n    let distance = vertical ? cRect.width : cRect.height;\n    // console.log('distance:', distance);\n    lineEl.show();\n    mouseMoveUp(window, (e) => {\n      this.moving = true;\n      if (startEvt !== null && e.buttons === 1) {\n        // console.log('top:', top, ', left:', top, ', cRect:', cRect);\n        if (vertical) {\n          distance += e.movementX;\n          if (distance > minDistance) {\n            el.css('left', `${cRect.left + distance}px`);\n          }\n        } else {\n          distance += e.movementY;\n          if (distance > minDistance) {\n            el.css('top', `${cRect.top + distance}px`);\n          }\n        }\n        startEvt = e;\n      }\n    }, () => {\n      startEvt = null;\n      lineEl.hide();\n      this.moving = false;\n      this.hide();\n      if (this.finishedFn) {\n        if (distance < minDistance) distance = minDistance;\n        this.finishedFn(cRect, distance);\n      }\n    });\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class Scrollbar {\n  constructor(vertical) {\n    this.vertical = vertical;\n    this.moveFn = null;\n    this.el = h('div', `${cssPrefix}-scrollbar ${vertical ? 'vertical' : 'horizontal'}`)\n      .child(this.contentEl = h('div', ''))\n      .on('mousemove.stop', () => {})\n      .on('scroll.stop', (evt) => {\n        const { scrollTop, scrollLeft } = evt.target;\n        // console.log('scrollTop:', scrollTop);\n        if (this.moveFn) {\n          this.moveFn(this.vertical ? scrollTop : scrollLeft, evt);\n        }\n        // console.log('evt:::', evt);\n      });\n  }\n\n  move(v) {\n    this.el.scroll(v);\n    return this;\n  }\n\n  scroll() {\n    return this.el.scroll();\n  }\n\n  set(distance, contentDistance) {\n    const d = distance - 1;\n    // console.log('distance:', distance, ', contentDistance:', contentDistance);\n    if (contentDistance > d) {\n      const cssKey = this.vertical ? 'height' : 'width';\n      // console.log('d:', d);\n      this.el.css(cssKey, `${d - 15}px`).show();\n      this.contentEl\n        .css(this.vertical ? 'width' : 'height', '1px')\n        .css(cssKey, `${contentDistance}px`);\n    } else {\n      this.el.hide();\n    }\n    return this;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\nimport { CellRange } from '../core/cell_range';\n\nconst selectorHeightBorderWidth = 2 * 2 - 1;\nlet startZIndex = 10;\n\nclass SelectorElement {\n  constructor(useHideInput = false, autoFocus = true) {\n    this.useHideInput = useHideInput;\n    this.autoFocus = autoFocus;\n    this.inputChange = () => {};\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\n    this.areaEl = h('div', `${cssPrefix}-selector-area`)\n      .child(this.cornerEl).hide();\n    this.clipboardEl = h('div', `${cssPrefix}-selector-clipboard`).hide();\n    this.autofillEl = h('div', `${cssPrefix}-selector-autofill`).hide();\n    this.el = h('div', `${cssPrefix}-selector`)\n      .css('z-index', `${startZIndex}`)\n      .children(this.areaEl, this.clipboardEl, this.autofillEl)\n      .hide();\n    if (useHideInput) {\n      this.hideInput = h('input', '')\n        .on('compositionend', (evt) => {\n          this.inputChange(evt.target.value);\n        });\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\n    }\n    startZIndex += 1;\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    return this;\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  setAreaOffset(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    const of = {\n      width: width - selectorHeightBorderWidth + 0.8,\n      height: height - selectorHeightBorderWidth + 0.8,\n      left: left - 0.8,\n      top: top - 0.8,\n    };\n    this.areaEl.offset(of).show();\n    if (this.useHideInput) {\n      this.hideInputDiv.offset(of);\n      if (this.autoFocus) {\n        this.hideInput.val('').focus();\n      } else {\n        this.hideInput.val('');\n      }\n    }\n  }\n\n  setClipboardOffset(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    this.clipboardEl.offset({\n      left,\n      top,\n      width: width - 5,\n      height: height - 5,\n    });\n  }\n\n  showAutofill(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    this.autofillEl.offset({\n      width: width - selectorHeightBorderWidth,\n      height: height - selectorHeightBorderWidth,\n      left,\n      top,\n    }).show();\n  }\n\n  hideAutofill() {\n    this.autofillEl.hide();\n  }\n\n  showClipboard() {\n    this.clipboardEl.show();\n  }\n\n  hideClipboard() {\n    this.clipboardEl.hide();\n  }\n}\n\nfunction calBRAreaOffset(offset) {\n  const { data } = this;\n  const {\n    left, top, width, height, scroll, l, t,\n  } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  const ftheight = data.freezeTotalHeight();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  let top0 = top - ftheight;\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: left0,\n    top: top0,\n    width,\n    height,\n  };\n}\n\nfunction calTAreaOffset(offset) {\n  const { data } = this;\n  const {\n    left, width, height, l, t, scroll,\n  } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  return {\n    left: left0, top: t, width, height,\n  };\n}\n\nfunction calLAreaOffset(offset) {\n  const { data } = this;\n  const {\n    top, width, height, l, t, scroll,\n  } = offset;\n  const ftheight = data.freezeTotalHeight();\n  let top0 = top - ftheight;\n  // console.log('ftheight:', ftheight, ', t:', t);\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: l, top: top0, width, height,\n  };\n}\n\nfunction setBRAreaOffset(offset) {\n  const { br } = this;\n  br.setAreaOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLAreaOffset(offset) {\n  const { tl } = this;\n  tl.setAreaOffset(offset);\n}\n\nfunction setTAreaOffset(offset) {\n  const { t } = this;\n  t.setAreaOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setLAreaOffset(offset) {\n  const { l } = this;\n  l.setAreaOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setLClipboardOffset(offset) {\n  const { l } = this;\n  l.setClipboardOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setBRClipboardOffset(offset) {\n  const { br } = this;\n  br.setClipboardOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLClipboardOffset(offset) {\n  const { tl } = this;\n  tl.setClipboardOffset(offset);\n}\n\nfunction setTClipboardOffset(offset) {\n  const { t } = this;\n  t.setClipboardOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setAllAreaOffset(offset) {\n  setBRAreaOffset.call(this, offset);\n  setTLAreaOffset.call(this, offset);\n  setTAreaOffset.call(this, offset);\n  setLAreaOffset.call(this, offset);\n}\n\nfunction setAllClipboardOffset(offset) {\n  setBRClipboardOffset.call(this, offset);\n  setTLClipboardOffset.call(this, offset);\n  setTClipboardOffset.call(this, offset);\n  setLClipboardOffset.call(this, offset);\n}\n\nexport default class Selector {\n  constructor(data) {\n    const { autoFocus } = data.settings;\n    this.inputChange = () => {};\n    this.data = data;\n    this.br = new SelectorElement(true, autoFocus);\n    this.t = new SelectorElement();\n    this.l = new SelectorElement();\n    this.tl = new SelectorElement();\n    this.br.inputChange = (v) => {\n      this.inputChange(v);\n    };\n    this.br.el.show();\n    this.offset = null;\n    this.areaOffset = null;\n    this.indexes = null;\n    this.range = null;\n    this.arange = null;\n    this.el = h('div', `${cssPrefix}-selectors`)\n      .children(\n        this.tl.el,\n        this.t.el,\n        this.l.el,\n        this.br.el,\n      ).hide();\n\n    // for performance\n    this.lastri = -1;\n    this.lastci = -1;\n\n    startZIndex += 1;\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.range = data.selector.range;\n    this.resetAreaOffset();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n\n  resetOffset() {\n    const {\n      data, tl, t, l, br,\n    } = this;\n    const freezeHeight = data.freezeTotalHeight();\n    const freezeWidth = data.freezeTotalWidth();\n    if (freezeHeight > 0 || freezeWidth > 0) {\n      tl.setOffset({ width: freezeWidth, height: freezeHeight });\n      t.setOffset({ left: freezeWidth, height: freezeHeight });\n      l.setOffset({ top: freezeHeight, width: freezeWidth });\n      br.setOffset({ left: freezeWidth, top: freezeHeight });\n    } else {\n      tl.hide();\n      t.hide();\n      l.hide();\n      br.setOffset({ left: 0, top: 0 });\n    }\n  }\n\n  resetAreaOffset() {\n    // console.log('offset:', offset);\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setAllAreaOffset.call(this, offset);\n    setAllClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRTAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setTAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setTClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRLAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setLAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setLClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  set(ri, ci, indexesUpdated = true) {\n    const { data } = this;\n    const cellRange = data.calSelectedRangeByStart(ri, ci);\n    const { sri, sci } = cellRange;\n    if (indexesUpdated) {\n      let [cri, cci] = [ri, ci];\n      if (ri < 0) cri = 0;\n      if (ci < 0) cci = 0;\n      data.selector.setIndexes(cri, cci);\n      this.indexes = [cri, cci];\n    }\n\n    this.moveIndexes = [sri, sci];\n    // this.sIndexes = sIndexes;\n    // this.eIndexes = eIndexes;\n    this.range = cellRange;\n    this.resetAreaOffset();\n    this.el.show();\n  }\n\n  setEnd(ri, ci, moving = true) {\n    const { data, lastri, lastci } = this;\n    if (moving) {\n      if (ri === lastri && ci === lastci) return;\n      this.lastri = ri;\n      this.lastci = ci;\n    }\n    this.range = data.calSelectedRangeByEnd(ri, ci);\n    setAllAreaOffset.call(this, this.data.getSelectedRect());\n  }\n\n  reset() {\n    // console.log('::::', this.data);\n    const { eri, eci } = this.data.selector.range;\n    this.setEnd(eri, eci);\n  }\n\n  showAutofill(ri, ci) {\n    if (ri === -1 && ci === -1) return;\n    // console.log('ri:', ri, ', ci:', ci);\n    // const [sri, sci] = this.sIndexes;\n    // const [eri, eci] = this.eIndexes;\n    const {\n      sri, sci, eri, eci,\n    } = this.range;\n    const [nri, nci] = [ri, ci];\n    // const rn = eri - sri;\n    // const cn = eci - sci;\n    const srn = sri - ri;\n    const scn = sci - ci;\n    const ern = eri - ri;\n    const ecn = eci - ci;\n    if (scn > 0) {\n      // left\n      // console.log('left');\n      this.arange = new CellRange(sri, nci, eri, sci - 1);\n      // this.saIndexes = [sri, nci];\n      // this.eaIndexes = [eri, sci - 1];\n      // data.calRangeIndexes2(\n    } else if (srn > 0) {\n      // top\n      // console.log('top');\n      // nri = sri;\n      this.arange = new CellRange(nri, sci, sri - 1, eci);\n      // this.saIndexes = [nri, sci];\n      // this.eaIndexes = [sri - 1, eci];\n    } else if (ecn < 0) {\n      // right\n      // console.log('right');\n      // nci = eci;\n      this.arange = new CellRange(sri, eci + 1, eri, nci);\n      // this.saIndexes = [sri, eci + 1];\n      // this.eaIndexes = [eri, nci];\n    } else if (ern < 0) {\n      // bottom\n      // console.log('bottom');\n      // nri = eri;\n      this.arange = new CellRange(eri + 1, sci, nri, eci);\n      // this.saIndexes = [eri + 1, sci];\n      // this.eaIndexes = [nri, eci];\n    } else {\n      // console.log('else:');\n      this.arange = null;\n      // this.saIndexes = null;\n      // this.eaIndexes = null;\n      return;\n    }\n    if (this.arange !== null) {\n      // console.log(this.saIndexes, ':', this.eaIndexes);\n      const offset = this.data.getRect(this.arange);\n      offset.width += 2;\n      offset.height += 2;\n      const {\n        br, l, t, tl,\n      } = this;\n      br.showAutofill(calBRAreaOffset.call(this, offset));\n      l.showAutofill(calLAreaOffset.call(this, offset));\n      t.showAutofill(calTAreaOffset.call(this, offset));\n      tl.showAutofill(offset);\n    }\n  }\n\n  hideAutofill() {\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].hideAutofill();\n    });\n  }\n\n  showClipboard() {\n    const coffset = this.data.getClipboardRect();\n    setAllClipboardOffset.call(this, coffset);\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].showClipboard();\n    });\n  }\n\n  hideClipboard() {\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].hideClipboard();\n    });\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\n\nfunction inputMovePrev(evt) {\n  evt.preventDefault();\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex -= 1;\n  if (this.itemIndex < 0) {\n    this.itemIndex = filterItems.length - 1;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputMoveNext(evt) {\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex += 1;\n  if (this.itemIndex > filterItems.length - 1) {\n    this.itemIndex = 0;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputEnter(evt) {\n  evt.preventDefault();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  evt.stopPropagation();\n  if (this.itemIndex < 0) this.itemIndex = 0;\n  filterItems[this.itemIndex].el.click();\n  this.hide();\n}\n\nfunction inputKeydownHandler(evt) {\n  const { keyCode } = evt;\n  if (evt.ctrlKey) {\n    evt.stopPropagation();\n  }\n  switch (keyCode) {\n    case 37: // left\n      evt.stopPropagation();\n      break;\n    case 38: // up\n      inputMovePrev.call(this, evt);\n      break;\n    case 39: // right\n      evt.stopPropagation();\n      break;\n    case 40: // down\n      inputMoveNext.call(this, evt);\n      break;\n    case 13: // enter\n      inputEnter.call(this, evt);\n      break;\n    case 9:\n      inputEnter.call(this, evt);\n      break;\n    default:\n      evt.stopPropagation();\n      break;\n  }\n}\n\nexport default class Suggest {\n  constructor(items, itemClick, width = '200px') {\n    this.filterItems = [];\n    this.items = items;\n    this.el = h('div', `${cssPrefix}-suggest`).css('width', width).hide();\n    this.itemClick = itemClick;\n    this.itemIndex = -1;\n  }\n\n  setOffset(v) {\n    this.el.cssRemoveKeys('top', 'bottom')\n      .offset(v);\n  }\n\n  hide() {\n    const { el } = this;\n    this.filterItems = [];\n    this.itemIndex = -1;\n    el.hide();\n    unbindClickoutside(this.el.parent());\n  }\n\n  setItems(items) {\n    this.items = items;\n    // this.search('');\n  }\n\n  search(word) {\n    let { items } = this;\n    if (!/^\\s*$/.test(word)) {\n      items = items.filter(it => (it.key || it).startsWith(word.toUpperCase()));\n    }\n    items = items.map((it) => {\n      let { title } = it;\n      if (title) {\n        if (typeof title === 'function') {\n          title = title();\n        }\n      } else {\n        title = it;\n      }\n      const item = h('div', `${cssPrefix}-item`)\n        .child(title)\n        .on('click.stop', () => {\n          this.itemClick(it);\n          this.hide();\n        });\n      if (it.label) {\n        item.child(h('div', 'label').html(it.label));\n      }\n      return item;\n    });\n    this.filterItems = items;\n    if (items.length <= 0) {\n      return;\n    }\n    const { el } = this;\n    // items[0].toggle();\n    el.html('').children(...items).show();\n    bindClickoutside(el.parent(), () => { this.hide(); });\n  }\n\n  bindInputEvents(input) {\n    input.on('keydown', evt => inputKeydownHandler.call(this, evt));\n  }\n}\n","import { h } from './element';\nimport Icon from './icon';\nimport { t } from '../locale/locale';\n\nfunction addMonth(date, step) {\n  date.setMonth(date.getMonth() + step);\n}\n\nfunction weekday(date, index) {\n  const d = new Date(date);\n  d.setDate(index - date.getDay() + 1);\n  return d;\n}\n\nfunction monthDays(year, month, cdate) {\n  // the first day of month\n  const startDate = new Date(year, month, 1, 23, 59, 59);\n  const datess = [[], [], [], [], [], []];\n  for (let i = 0; i < 6; i += 1) {\n    for (let j = 0; j < 7; j += 1) {\n      const index = i * 7 + j;\n      const d = weekday(startDate, index);\n      const disabled = d.getMonth() !== month;\n      // console.log('d:', d, ', cdate:', cdate);\n      const active = d.getMonth() === cdate.getMonth() && d.getDate() === cdate.getDate();\n      datess[i][j] = { d, disabled, active };\n    }\n  }\n  return datess;\n}\n\nexport default class Calendar {\n  constructor(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n\n    this.headerLeftEl = h('div', 'calendar-header-left');\n    this.bodyEl = h('tbody', '');\n    this.buildAll();\n    this.el = h('div', 'x-spreadsheet-calendar')\n      .children(\n        h('div', 'calendar-header').children(\n          this.headerLeftEl,\n          h('div', 'calendar-header-right').children(\n            h('a', 'calendar-prev')\n              .on('click.stop', () => this.prev())\n              .child(new Icon('chevron-left')),\n            h('a', 'calendar-next')\n              .on('click.stop', () => this.next())\n              .child(new Icon('chevron-right')),\n          ),\n        ),\n        h('table', 'calendar-body').children(\n          h('thead', '').child(\n            h('tr', '').children(\n              ...t('calendar.weeks').map(week => h('th', 'cell').child(week)),\n            ),\n          ),\n          this.bodyEl,\n        ),\n      );\n    this.selectChange = () => {};\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n    this.buildAll();\n  }\n\n  prev() {\n    const { value } = this;\n    addMonth(value, -1);\n    this.buildAll();\n  }\n\n  next() {\n    const { value } = this;\n    addMonth(value, 1);\n    this.buildAll();\n  }\n\n  buildAll() {\n    this.buildHeaderLeft();\n    this.buildBody();\n  }\n\n  buildHeaderLeft() {\n    const { value } = this;\n    this.headerLeftEl.html(`${t('calendar.months')[value.getMonth()]} ${value.getFullYear()}`);\n  }\n\n  buildBody() {\n    const { value, cvalue, bodyEl } = this;\n    const mDays = monthDays(value.getFullYear(), value.getMonth(), cvalue);\n    const trs = mDays.map((it) => {\n      const tds = it.map((it1) => {\n        let cls = 'cell';\n        if (it1.disabled) cls += ' disabled';\n        if (it1.active) cls += ' active';\n        return h('td', '').child(\n          h('div', cls)\n            .on('click.stop', () => {\n              this.selectChange(it1.d);\n            })\n            .child(it1.d.getDate().toString()),\n        );\n      });\n      return h('tr', '').children(...tds);\n    });\n    bodyEl.html('').children(...trs);\n  }\n}\n","import Calendar from './calendar';\nimport { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class Datepicker {\n  constructor() {\n    this.calendar = new Calendar(new Date());\n    this.el = h('div', `${cssPrefix}-datepicker`).child(\n      this.calendar.el,\n    ).hide();\n  }\n\n  setValue(date) {\n    // console.log(':::::::', date, typeof date, date instanceof string);\n    const { calendar } = this;\n    if (typeof date === 'string') {\n      // console.log(/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date));\n      if (/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date)) {\n        calendar.setValue(new Date(date.replace(new RegExp('-', 'g'), '/')));\n      }\n    } else if (date instanceof Date) {\n      calendar.setValue(date);\n    }\n    return this;\n  }\n\n  change(cb) {\n    this.calendar.selectChange = (d) => {\n      cb(d);\n      this.hide();\n    };\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","//* global window */\nimport { h } from './element';\nimport Suggest from './suggest';\nimport Datepicker from './datepicker';\nimport { cssPrefix } from '../config';\n// import { mouseMoveUp } from '../event';\n\nfunction resetTextareaSize() {\n  const { inputText } = this;\n  if (!/^\\s*$/.test(inputText)) {\n    const {\n      textlineEl, textEl, areaOffset,\n    } = this;\n    const txts = inputText.split('\\n');\n    const maxTxtSize = Math.max(...txts.map(it => it.length));\n    const tlOffset = textlineEl.offset();\n    const fontWidth = tlOffset.width / inputText.length;\n    const tlineWidth = (maxTxtSize + 1) * fontWidth + 5;\n    const maxWidth = this.viewFn().width - areaOffset.left - fontWidth;\n    let h1 = txts.length;\n    if (tlineWidth > areaOffset.width) {\n      let twidth = tlineWidth;\n      if (tlineWidth > maxWidth) {\n        twidth = maxWidth;\n        h1 += parseInt(tlineWidth / maxWidth, 10);\n        h1 += (tlineWidth % maxWidth) > 0 ? 1 : 0;\n      }\n      textEl.css('width', `${twidth}px`);\n    }\n    h1 *= this.rowHeight;\n    if (h1 > areaOffset.height) {\n      textEl.css('height', `${h1}px`);\n    }\n  }\n}\n\nfunction insertText({ target }, itxt) {\n  const { value, selectionEnd } = target;\n  const ntxt = `${value.slice(0, selectionEnd)}${itxt}${value.slice(selectionEnd)}`;\n  target.value = ntxt;\n  target.setSelectionRange(selectionEnd + 1, selectionEnd + 1);\n\n  this.inputText = ntxt;\n  this.textlineEl.html(ntxt);\n  resetTextareaSize.call(this);\n}\n\nfunction keydownEventHandler(evt) {\n  const { keyCode, altKey } = evt;\n  if (keyCode !== 13 && keyCode !== 9) evt.stopPropagation();\n  if (keyCode === 13 && altKey) {\n    insertText.call(this, evt, '\\n');\n    evt.stopPropagation();\n  }\n  if (keyCode === 13 && !altKey) evt.preventDefault();\n}\n\nfunction inputEventHandler(evt) {\n  const v = evt.target.value;\n  // console.log(evt, 'v:', v);\n  const { suggest, textlineEl, validator } = this;\n  const { cell } = this;\n  if (cell !== null) {\n    if (('editable' in cell && cell.editable === true) || (cell.editable === undefined)) {\n      this.inputText = v;\n      if (validator) {\n        if (validator.type === 'list') {\n          suggest.search(v);\n        } else {\n          suggest.hide();\n        }\n      } else {\n        const start = v.lastIndexOf('=');\n        if (start !== -1) {\n          suggest.search(v.substring(start + 1));\n        } else {\n          suggest.hide();\n        }\n      }\n      textlineEl.html(v);\n      resetTextareaSize.call(this);\n      this.change('input', v);\n    } else {\n      evt.target.value = cell.text || '';\n    }\n  } else {\n    this.inputText = v;\n    if (validator) {\n      if (validator.type === 'list') {\n        suggest.search(v);\n      } else {\n        suggest.hide();\n      }\n    } else {\n      const start = v.lastIndexOf('=');\n      if (start !== -1) {\n        suggest.search(v.substring(start + 1));\n      } else {\n        suggest.hide();\n      }\n    }\n    textlineEl.html(v);\n    resetTextareaSize.call(this);\n    this.change('input', v);\n  }\n}\n\nfunction setTextareaRange(position) {\n  const { el } = this.textEl;\n  setTimeout(() => {\n    el.focus();\n    el.setSelectionRange(position, position);\n  }, 0);\n}\n\nfunction setText(text, position) {\n  const { textEl, textlineEl } = this;\n  // firefox bug\n  textEl.el.blur();\n\n  textEl.val(text);\n  textlineEl.html(text);\n  setTextareaRange.call(this, position);\n}\n\nfunction suggestItemClick(it) {\n  const { inputText, validator } = this;\n  let position = 0;\n  if (validator && validator.type === 'list') {\n    this.inputText = it;\n    position = this.inputText.length;\n  } else {\n    const start = inputText.lastIndexOf('=');\n    const sit = inputText.substring(0, start + 1);\n    let eit = inputText.substring(start + 1);\n    if (eit.indexOf(')') !== -1) {\n      eit = eit.substring(eit.indexOf(')'));\n    } else {\n      eit = '';\n    }\n    this.inputText = `${sit + it.key}(`;\n    // console.log('inputText:', this.inputText);\n    position = this.inputText.length;\n    this.inputText += `)${eit}`;\n  }\n  setText.call(this, this.inputText, position);\n}\n\nfunction resetSuggestItems() {\n  this.suggest.setItems(this.formulas);\n}\n\nfunction dateFormat(d) {\n  let month = d.getMonth() + 1;\n  let date = d.getDate();\n  if (month < 10) month = `0${month}`;\n  if (date < 10) date = `0${date}`;\n  return `${d.getFullYear()}-${month}-${date}`;\n}\n\nexport default class Editor {\n  constructor(formulas, viewFn, rowHeight) {\n    this.viewFn = viewFn;\n    this.rowHeight = rowHeight;\n    this.formulas = formulas;\n    this.suggest = new Suggest(formulas, (it) => {\n      suggestItemClick.call(this, it);\n    });\n    this.datepicker = new Datepicker();\n    this.datepicker.change((d) => {\n      // console.log('d:', d);\n      this.setText(dateFormat(d));\n      this.clear();\n    });\n    this.areaEl = h('div', `${cssPrefix}-editor-area`)\n      .children(\n        this.textEl = h('textarea', '')\n          .on('input', evt => inputEventHandler.call(this, evt))\n          .on('paste.stop', () => {})\n          .on('keydown', evt => keydownEventHandler.call(this, evt)),\n        this.textlineEl = h('div', 'textline'),\n        this.suggest.el,\n        this.datepicker.el,\n      )\n      .on('mousemove.stop', () => {})\n      .on('mousedown.stop', () => {});\n    this.el = h('div', `${cssPrefix}-editor`)\n      .child(this.areaEl).hide();\n    this.suggest.bindInputEvents(this.textEl);\n\n    this.areaOffset = null;\n    this.freeze = { w: 0, h: 0 };\n    this.cell = null;\n    this.inputText = '';\n    this.change = () => {};\n  }\n\n  setFreezeLengths(width, height) {\n    this.freeze.w = width;\n    this.freeze.h = height;\n  }\n\n  clear() {\n    // const { cell } = this;\n    // const cellText = (cell && cell.text) || '';\n    if (this.inputText !== '') {\n      this.change('finished', this.inputText);\n    }\n    this.cell = null;\n    this.areaOffset = null;\n    this.inputText = '';\n    this.el.hide();\n    this.textEl.val('');\n    this.textlineEl.html('');\n    resetSuggestItems.call(this);\n    this.datepicker.hide();\n  }\n\n  setOffset(offset, suggestPosition = 'top') {\n    const {\n      textEl, areaEl, suggest, freeze, el,\n    } = this;\n    if (offset) {\n      this.areaOffset = offset;\n      const {\n        left, top, width, height, l, t,\n      } = offset;\n      // console.log('left:', left, ',top:', top, ', freeze:', freeze);\n      const elOffset = { left: 0, top: 0 };\n      // top left\n      if (freeze.w > l && freeze.h > t) {\n        //\n      } else if (freeze.w < l && freeze.h < t) {\n        elOffset.left = freeze.w;\n        elOffset.top = freeze.h;\n      } else if (freeze.w > l) {\n        elOffset.top = freeze.h;\n      } else if (freeze.h > t) {\n        elOffset.left = freeze.w;\n      }\n      el.offset(elOffset);\n      areaEl.offset({ left: left - elOffset.left - 0.8, top: top - elOffset.top - 0.8 });\n      textEl.offset({ width: width - 9 + 0.8, height: height - 3 + 0.8 });\n      const sOffset = { left: 0 };\n      sOffset[suggestPosition] = height;\n      suggest.setOffset(sOffset);\n      suggest.hide();\n    }\n  }\n\n  setCell(cell, validator) {\n    if (cell && cell.editable === false) return;\n\n    // console.log('::', validator);\n    const { el, datepicker, suggest } = this;\n    el.show();\n    this.cell = cell;\n    const text = (cell && cell.text) || '';\n    this.setText(text);\n\n    this.validator = validator;\n    if (validator) {\n      const { type } = validator;\n      if (type === 'date') {\n        datepicker.show();\n        if (!/^\\s*$/.test(text)) {\n          datepicker.setValue(text);\n        }\n      }\n      if (type === 'list') {\n        suggest.setItems(validator.values());\n        suggest.search('');\n      }\n    }\n  }\n\n  setText(text) {\n    this.inputText = text;\n    // console.log('text>>:', text);\n    setText.call(this, text, text.length);\n    resetTextareaSize.call(this);\n  }\n}\n","import { Element } from './element';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nexport default class Button extends Element {\n  // type: primary\n  constructor(title, type = '') {\n    super('div', `${cssPrefix}-button ${type}`);\n    this.child(t(`button.${title}`));\n  }\n}\n","/* global window document */\nimport { h } from './element';\nimport { cssPrefix } from '../config';\nimport Button from './button';\nimport { Draw } from '../canvas/draw';\nimport { renderCell } from './table';\nimport { t } from '../locale/locale';\n\n// resolution: 72 => 595 x 842\n// 150 => 1240 x 1754\n// 200 => 1654 x 2339\n// 300 => 2479 x 3508\n// 96 * cm / 2.54 , 96 * cm / 2.54\n\nconst PAGER_SIZES = [\n  ['A3', 11.69, 16.54],\n  ['A4', 8.27, 11.69],\n  ['A5', 5.83, 8.27],\n  ['B4', 9.84, 13.90],\n  ['B5', 6.93, 9.84],\n];\n\nconst PAGER_ORIENTATIONS = ['landscape', 'portrait'];\n\nfunction inches2px(inc) {\n  return parseInt(96 * inc, 10);\n}\n\nfunction btnClick(type) {\n  if (type === 'cancel') {\n    this.el.hide();\n  } else {\n    this.toPrint();\n  }\n}\n\nfunction pagerSizeChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const ps = PAGER_SIZES[value];\n  paper.w = inches2px(ps[1]);\n  paper.h = inches2px(ps[2]);\n  // console.log('paper:', ps, paper);\n  this.preview();\n}\nfunction pagerOrientationChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const v = PAGER_ORIENTATIONS[value];\n  paper.orientation = v;\n  this.preview();\n}\n\nexport default class Print {\n  constructor(data) {\n    this.paper = {\n      w: inches2px(PAGER_SIZES[0][1]),\n      h: inches2px(PAGER_SIZES[0][2]),\n      padding: 50,\n      orientation: PAGER_ORIENTATIONS[0],\n      get width() {\n        return this.orientation === 'landscape' ? this.h : this.w;\n      },\n      get height() {\n        return this.orientation === 'landscape' ? this.w : this.h;\n      },\n    };\n    this.data = data;\n    this.el = h('div', `${cssPrefix}-print`)\n      .children(\n        h('div', `${cssPrefix}-print-bar`)\n          .children(\n            h('div', '-title').child('Print settings'),\n            h('div', '-right').children(\n              h('div', `${cssPrefix}-buttons`).children(\n                new Button('cancel').on('click', btnClick.bind(this, 'cancel')),\n                new Button('next', 'primary').on('click', btnClick.bind(this, 'next')),\n              ),\n            ),\n          ),\n        h('div', `${cssPrefix}-print-content`)\n          .children(\n            this.contentEl = h('div', '-content'),\n            h('div', '-sider').child(\n              h('form', '').children(\n                h('fieldset', '').children(\n                  h('label', '').child(`${t('print.size')}`),\n                  h('select', '').children(\n                    ...PAGER_SIZES.map((it, index) => h('option', '').attr('value', index).child(`${it[0]} ( ${it[1]}''x${it[2]}'' )`)),\n                  ).on('change', pagerSizeChange.bind(this)),\n                ),\n                h('fieldset', '').children(\n                  h('label', '').child(`${t('print.orientation')}`),\n                  h('select', '').children(\n                    ...PAGER_ORIENTATIONS.map((it, index) => h('option', '').attr('value', index).child(`${t('print.orientations')[index]}`)),\n                  ).on('change', pagerOrientationChange.bind(this)),\n                ),\n              ),\n            ),\n          ),\n      ).hide();\n  }\n\n  resetData(data) {\n    this.data = data;\n  }\n\n  preview() {\n    const { data, paper } = this;\n    const { width, height, padding } = paper;\n    const iwidth = width - padding * 2;\n    const iheight = height - padding * 2;\n    const cr = data.contentRange();\n    const pages = parseInt(cr.h / iheight, 10) + 1;\n    const scale = iwidth / cr.w;\n    let left = padding;\n    const top = padding;\n    if (scale > 1) {\n      left += (iwidth - cr.w) / 2;\n    }\n    let ri = 0;\n    let yoffset = 0;\n    this.contentEl.html('');\n    this.canvases = [];\n    const mViewRange = {\n      sri: 0,\n      sci: 0,\n      eri: 0,\n      eci: 0,\n    };\n    for (let i = 0; i < pages; i += 1) {\n      let th = 0;\n      let yo = 0;\n      const wrap = h('div', `${cssPrefix}-canvas-card`);\n      const canvas = h('canvas', `${cssPrefix}-canvas`);\n      this.canvases.push(canvas.el);\n      const draw = new Draw(canvas.el, width, height);\n      // cell-content\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      // console.log('ri:', ri, cr.eri, yoffset);\n      for (; ri <= cr.eri; ri += 1) {\n        const rh = data.rows.getHeight(ri);\n        th += rh;\n        if (th < iheight) {\n          for (let ci = 0; ci <= cr.eci; ci += 1) {\n            renderCell(draw, data, ri, ci, yoffset);\n            mViewRange.eci = ci;\n          }\n        } else {\n          yo = -(th - rh);\n          break;\n        }\n      }\n      mViewRange.eri = ri;\n      draw.restore();\n      // merge-cell\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      const yof = yoffset;\n      data.eachMergesInView(mViewRange, ({ sri, sci }) => {\n        renderCell(draw, data, sri, sci, yof);\n      });\n      draw.restore();\n\n      mViewRange.sri = mViewRange.eri;\n      mViewRange.sci = mViewRange.eci;\n      yoffset += yo;\n      this.contentEl.child(h('div', `${cssPrefix}-canvas-card-wraper`).child(wrap.child(canvas)));\n    }\n    this.el.show();\n  }\n\n  toPrint() {\n    this.el.hide();\n    const { paper } = this;\n    const iframe = h('iframe', '').hide();\n    const { el } = iframe;\n    window.document.body.appendChild(el);\n    const { contentWindow } = el;\n    const idoc = contentWindow.document;\n    const style = document.createElement('style');\n    style.innerHTML = `\n      @page { size: ${paper.width}px ${paper.height}px; };\n      canvas {\n        page-break-before: auto;        \n        page-break-after: always;\n        image-rendering: pixelated;\n      };\n    `;\n    idoc.head.appendChild(style);\n    this.canvases.forEach((it) => {\n      const cn = it.cloneNode(false);\n      const ctx = cn.getContext('2d');\n      // ctx.imageSmoothingEnabled = true;\n      ctx.drawImage(it, 0, 0);\n      idoc.body.appendChild(cn);\n    });\n    contentWindow.print();\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { tf } from '../locale/locale';\n\nconst menuItems = [\n  { key: 'copy', title: tf('contextmenu.copy'), label: 'Ctrl+C' },\n  { key: 'cut', title: tf('contextmenu.cut'), label: 'Ctrl+X' },\n  { key: 'paste', title: tf('contextmenu.paste'), label: 'Ctrl+V' },\n  { key: 'paste-value', title: tf('contextmenu.pasteValue'), label: 'Ctrl+Shift+V' },\n  { key: 'paste-format', title: tf('contextmenu.pasteFormat'), label: 'Ctrl+Alt+V' },\n  { key: 'divider' },\n  { key: 'insert-row', title: tf('contextmenu.insertRow') },\n  { key: 'insert-column', title: tf('contextmenu.insertColumn') },\n  { key: 'divider' },\n  { key: 'delete-row', title: tf('contextmenu.deleteRow') },\n  { key: 'delete-column', title: tf('contextmenu.deleteColumn') },\n  { key: 'delete-cell-text', title: tf('contextmenu.deleteCellText') },\n  { key: 'hide', title: tf('contextmenu.hide') },\n  { key: 'divider' },\n  { key: 'validation', title: tf('contextmenu.validation') },\n  { key: 'divider' },\n  { key: 'cell-printable', title: tf('contextmenu.cellprintable') },\n  { key: 'cell-non-printable', title: tf('contextmenu.cellnonprintable') },\n  { key: 'divider' },\n  { key: 'cell-editable', title: tf('contextmenu.celleditable') },\n  { key: 'cell-non-editable', title: tf('contextmenu.cellnoneditable') },\n];\n\nfunction buildMenuItem(item) {\n  if (item.key === 'divider') {\n    return h('div', `${cssPrefix}-item divider`);\n  }\n  return h('div', `${cssPrefix}-item`)\n    .on('click', () => {\n      this.itemClick(item.key);\n      this.hide();\n    })\n    .children(\n      item.title(),\n      h('div', 'label').child(item.label || ''),\n    );\n}\n\nfunction buildMenu(settings) {\n  let bi = menuItems;\n  if(!settings.showValidation) {\n    const valIndex = menuItems.findIndex(el => el.key === 'validation');\n    bi = menuItems.slice()\n    bi.splice(valIndex,2);\n  }\n  return bi.map(it => buildMenuItem.call(this, it));\n}\n\nexport default class ContextMenu {\n  constructor(viewFn, isHide = false, settings = {}) {\n    this.menuItems = buildMenu.call(this, settings);\n    this.el = h('div', `${cssPrefix}-contextmenu`)\n      .children(...this.menuItems)\n      .hide();\n    this.viewFn = viewFn;\n    this.itemClick = () => {};\n    this.isHide = isHide;\n    this.setMode('range');\n  }\n\n  // row-col: the whole rows or the whole cols\n  // range: select range\n  setMode(mode) {\n    const hideEl = this.menuItems[12];\n    if (mode === 'row-col') {\n      hideEl.show();\n    } else {\n      hideEl.hide();\n    }\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setPosition(x, y) {\n    if (this.isHide) return;\n    const { el } = this;\n    const { width } = el.show().offset();\n    const view = this.viewFn();\n    const vhf = view.height / 2;\n    let left = x;\n    if (view.width - x <= width) {\n      left -= width;\n    }\n    el.css('left', `${left}px`);\n    if (y > vhf) {\n      el.css('bottom', `${view.height - y}px`)\n        .css('max-height', `${y}px`)\n        .css('top', 'auto');\n    } else {\n      el.css('top', `${y}px`)\n        .css('max-height', `${view.height - y}px`)\n        .css('bottom', 'auto');\n    }\n    bindClickoutside(el);\n  }\n}\n","import { cssPrefix } from '../../config';\nimport tooltip from '../tooltip';\nimport { h } from '../element';\nimport { t } from '../../locale/locale';\n\nexport default class Item {\n  // tooltip\n  // tag: the subclass type\n  // shortcut: shortcut key\n  constructor(tag, shortcut, value) {\n    this.tip = '';\n    if (tag) this.tip = t(`toolbar.${tag.replace(/-[a-z]/g, c => c[1].toUpperCase())}`);\n    if (shortcut) this.tip += ` (${shortcut})`;\n    this.tag = tag;\n    this.shortcut = shortcut;\n    this.value = value;\n    this.el = this.element();\n    this.change = () => {};\n  }\n\n  element() {\n    const { tip } = this;\n    return h('div', `${cssPrefix}-toolbar-btn`)\n      .on('mouseenter', (evt) => {\n        if (this.tip) tooltip(this.tip, evt.target);\n      })\n      .attr('data-tooltip', tip);\n  }\n\n  setState() {}\n}\n","/* global document */\nimport { h } from './element';\nimport { bind } from './event';\nimport { cssPrefix } from '../config';\n\nexport default function tooltip(html, target) {\n  if (target.classList.contains('active')) {\n    return;\n  }\n  const {\n    left, top, width, height,\n  } = target.getBoundingClientRect();\n  const el = h('div', `${cssPrefix}-tooltip`).html(html).show();\n  const where = target.parentElement.parentElement;\n  // document.body.appendChild(el.el);\n  where.appendChild(el.el);\n  const elBox = el.box();\n  const wherebox = where.getBoundingClientRect();\n  const tooltipLeft = left-wherebox.left;\n  const tooltiptop = top-wherebox.top;\n\n  // console.log('elBox:', elBox);\n  el.css('left', `${tooltipLeft + (width / 2) - (elBox.width / 2)}px`)\n    .css('top', `${tooltiptop + height + 2}px`);\n\n  bind(target, 'mouseleave', () => {\n    if (where.contains(el.el)) {\n      where.removeChild(el.el);\n    }\n  });\n\n  bind(target, 'click', () => {\n    if (where.contains(el.el)) {\n      where.removeChild(el.el);\n    }\n  });\n}\n","import Item from './item';\n\nexport default class DropdownItem extends Item {\n  dropdown() {}\n\n  getValue(v) {\n    return v;\n  }\n\n  element() {\n    const { tag } = this;\n    this.dd = this.dropdown();\n    this.dd.change = it => this.change(tag, this.getValue(it));\n    return super.element().child(\n      this.dd,\n    );\n  }\n\n  setState(v) {\n    if (v !== undefined) {\n      this.value = v;\n      this.dd.setTitle(v);\n    }\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nfunction buildItemWithIcon(iconName) {\n  return h('div', `${cssPrefix}-item`).child(new Icon(iconName));\n}\n\nexport default class DropdownAlign extends Dropdown {\n  constructor(aligns, align) {\n    const icon = new Icon(`align-${align}`);\n    const naligns = aligns.map(it => buildItemWithIcon(`align-${it}`)\n      .on('click', () => {\n        this.setTitle(it);\n        this.change(it);\n      }));\n    super(icon, 'auto', true, 'bottom-left','dd-align', ...naligns);\n  }\n\n  setTitle(align) {\n    this.title.setName(`align-${align}`);\n    this.hide();\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownAlign from '../dropdown_align';\n\nexport default class Align extends DropdownItem {\n  constructor(value) {\n    super('align', '', value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign(['left', 'center', 'right'], value);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownAlign from '../dropdown_align';\n\nexport default class Valign extends DropdownItem {\n  constructor(value) {\n    super('valign', '', value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign(['top', 'middle', 'bottom'], value);\n  }\n}\n","import Item from './item';\nimport Icon from '../icon';\n\nexport default class ToggleItem extends Item {\n  element() {\n    const { tag } = this;\n    return super.element()\n      .child(new Icon(tag))\n      .on('click', () => this.click());\n  }\n\n  click() {\n    this.change(this.tag, this.toggle());\n  }\n\n  setState(active) {\n    this.el.active(active);\n  }\n\n  toggle() {\n    return this.el.toggle();\n  }\n\n  active() {\n    return this.el.hasClass('active');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Autofilter extends ToggleItem {\n  constructor() {\n    super('autofilter');\n  }\n\n  setState() {}\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Bold extends ToggleItem {\n  constructor() {\n    super('font-bold', 'Ctrl+B');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Italic extends ToggleItem {\n  constructor() {\n    super('font-italic', 'Ctrl+I');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Strike extends ToggleItem {\n  constructor() {\n    super('strike', 'Ctrl+U');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Underline extends ToggleItem {\n  constructor() {\n    super('underline', 'Ctrl+U');\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nconst themeColorPlaceHolders = ['#ffffff', '#000100', '#e7e5e6', '#445569', '#5b9cd6', '#ed7d31', '#a5a5a5', '#ffc001', '#4371c6', '#71ae47'];\n\nconst themeColors = [\n  ['#f2f2f2', '#7f7f7f', '#d0cecf', '#d5dce4', '#deeaf6', '#fce5d5', '#ededed', '#fff2cd', '#d9e2f3', '#e3efd9'],\n  ['#d8d8d8', '#595959', '#afabac', '#adb8ca', '#bdd7ee', '#f7ccac', '#dbdbdb', '#ffe59a', '#b3c6e7', '#c5e0b3'],\n  ['#bfbfbf', '#3f3f3f', '#756f6f', '#8596b0', '#9cc2e6', '#f4b184', '#c9c9c9', '#fed964', '#8eaada', '#a7d08c'],\n  ['#a5a5a5', '#262626', '#3a3839', '#333f4f', '#2e75b5', '#c45a10', '#7b7b7b', '#bf8e01', '#2f5596', '#538136'],\n  ['#7f7f7f', '#0c0c0c', '#171516', '#222a35', '#1f4e7a', '#843c0a', '#525252', '#7e6000', '#203864', '#365624'],\n];\n\nconst standardColors = ['#c00000', '#fe0000', '#fdc101', '#ffff01', '#93d051', '#00b04e', '#01b0f1', '#0170c1', '#012060', '#7030a0'];\n\nfunction buildTd(bgcolor) {\n  return h('td', '').child(\n    h('div', `${cssPrefix}-color-palette-cell`)\n      .on('click.stop', () => this.change(bgcolor))\n      .css('background-color', bgcolor),\n  );\n}\n\nexport default class ColorPalette {\n  constructor() {\n    this.el = h('div', `${cssPrefix}-color-palette`);\n    this.change = () => {};\n    const table = h('table', '').children(\n      h('tbody', '').children(\n        h('tr', `${cssPrefix}-theme-color-placeholders`).children(\n          ...themeColorPlaceHolders.map(color => buildTd.call(this, color)),\n        ),\n        ...themeColors.map(it => h('tr', `${cssPrefix}-theme-colors`).children(\n          ...it.map(color => buildTd.call(this, color)),\n        )),\n        h('tr', `${cssPrefix}-standard-colors`).children(\n          ...standardColors.map(color => buildTd.call(this, color)),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport ColorPalette from './color_palette';\n\nexport default class DropdownColor extends Dropdown {\n  constructor(iconName, color) {\n    const icon = new Icon(iconName)\n      .css('height', '16px')\n      .css('border-bottom', `3px solid ${color}`);\n    const colorPalette = new ColorPalette();\n    colorPalette.change = (v) => {\n      this.setTitle(v);\n      this.change(v);\n    };\n    super(icon, 'auto', false, 'bottom-right','dd-color', colorPalette.el);\n  }\n\n  setTitle(color) {\n    this.title.css('border-color', color);\n    this.hide();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nconst lineTypes = [\n  ['thin', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['medium', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"2\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.0\" x2=\"50\" y2=\"1.0\" stroke-width=\"2\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['thick', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.5\" x2=\"50\" y2=\"1.5\" stroke-width=\"3\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['dashed', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"2\" style=\"user-select: none;\"></line></svg>'],\n  ['dotted', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"1\" style=\"user-select: none;\"></line></svg>'],\n  // ['double', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line><line x1=\"0\" y1=\"2.5\" x2=\"50\" y2=\"2.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n];\n\nexport default class DropdownLineType extends Dropdown {\n  constructor(type) {\n    const icon = new Icon('line-type');\n    let beforei = 0;\n    const lineTypeEls = lineTypes.map((it, iti) => h('div', `${cssPrefix}-item state ${type === it[0] ? 'checked' : ''}`)\n      .on('click', () => {\n        lineTypeEls[beforei].toggle('checked');\n        lineTypeEls[iti].toggle('checked');\n        beforei = iti;\n        this.hide();\n        this.change(it);\n      })\n      .child(\n        h('div', `${cssPrefix}-line-type`).html(it[1]),\n      ));\n\n    super(icon, 'auto', false, 'bottom-right', 'dd-linetype', ...lineTypeEls);\n  }\n}\n","import { h } from './element';\nimport Icon from './icon';\nimport DropdownColor from './dropdown_color';\nimport DropdownLineType from './dropdown_linetype';\nimport { cssPrefix } from '../config';\n\nfunction buildTable(...trs) {\n  return h('table', '').child(\n    h('tbody', '').children(...trs),\n  );\n}\n\nfunction buildTd(iconName) {\n  return h('td', '').child(\n    h('div', `${cssPrefix}-border-palette-cell`).child(\n      new Icon(`border-${iconName}`),\n    ).on('click', () => {\n      this.mode = iconName;\n      const { mode, style, color } = this;\n      this.change({ mode, style, color });\n    }),\n  );\n}\n\nexport default class BorderPalette {\n  constructor() {\n    this.color = '#000';\n    this.style = 'thin';\n    this.mode = 'all';\n    this.change = () => {};\n    this.ddColor = new DropdownColor('line-color', this.color);\n    this.ddColor.change = (color) => {\n      this.color = color;\n    };\n    this.ddType = new DropdownLineType(this.style);\n    this.ddType.change = ([s]) => {\n      this.style = s;\n    };\n    this.el = h('div', `${cssPrefix}-border-palette`);\n    const table = buildTable(\n      h('tr', '').children(\n        h('td', `${cssPrefix}-border-palette-left`).child(\n          buildTable(\n            h('tr', '').children(\n              ...['all', 'inside', 'horizontal', 'vertical', 'outside'].map(it => buildTd.call(this, it)),\n            ),\n            h('tr', '').children(\n              ...['left', 'top', 'right', 'bottom', 'none'].map(it => buildTd.call(this, it)),\n            ),\n          ),\n        ),\n        h('td', `${cssPrefix}-border-palette-right`).children(\n          h('div', `${cssPrefix}-toolbar-btn`).child(this.ddColor.el),\n          h('div', `${cssPrefix}-toolbar-btn`).child(this.ddType.el),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport BorderPalette from './border_palette';\n\nexport default class DropdownBorder extends Dropdown {\n  constructor() {\n    const icon = new Icon('border-all');\n    const borderPalette = new BorderPalette();\n    borderPalette.change = (v) => {\n      this.change(v);\n      this.hide();\n    };\n    super(icon, 'auto', false, 'bottom-right','dd-border', borderPalette.el);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownBorder from '../dropdown_border';\n\nexport default class Border extends DropdownItem {\n  constructor() {\n    super('border');\n  }\n\n  dropdown() {\n    return new DropdownBorder();\n  }\n}\n","import Item from './item';\nimport Icon from '../icon';\n\nexport default class IconItem extends Item {\n  element() {\n    return super.element()\n      .child(new Icon(this.tag))\n      .on('click', () => this.change(this.tag));\n  }\n\n  setState(disabled) {\n    this.el.disabled(disabled);\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Clearformat extends IconItem {\n  constructor() {\n    super('clearformat');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Paintformat extends ToggleItem {\n  constructor() {\n    super('paintformat');\n  }\n\n  setState() {}\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownColor from '../dropdown_color';\n\nexport default class TextColor extends DropdownItem {\n  constructor(color) {\n    super('color', undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownColor from '../dropdown_color';\n\nexport default class FillColor extends DropdownItem {\n  constructor(color) {\n    super('bgcolor', undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { fontSizes } from '../core/font';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFontSize extends Dropdown {\n  constructor() {\n    const nfontSizes = fontSizes.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.setTitle(`${it.pt}`);\n        this.change(it);\n      })\n      .child(`${it.pt}`));\n    super('10', '60px', true, 'bottom-left','dd-fontsize', ...nfontSizes);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFontsize from '../dropdown_fontsize';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('font-size');\n  }\n\n  getValue(it) {\n    return it.pt;\n  }\n\n  dropdown() {\n    return new DropdownFontsize();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { baseFonts } from '../core/font';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFont extends Dropdown {\n  constructor() {\n    const nfonts = baseFonts.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.setTitle(it.title);\n        this.change(it);\n      })\n      .child(it.title));\n    super(baseFonts[0].title, '160px', true, 'bottom-left','dd-font', ...nfonts);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFont from '../dropdown_font';\n\nexport default class Font extends DropdownItem {\n  constructor() {\n    super('font-name');\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFont();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { baseFormats } from '../core/format';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFormat extends Dropdown {\n  constructor() {\n    let nformats = baseFormats.slice(0);\n    nformats.splice(2, 0, { key: 'divider' });\n    nformats.splice(8, 0, { key: 'divider' });\n    nformats = nformats.map((it) => {\n      const item = h('div', `${cssPrefix}-item`);\n      if (it.key === 'divider') {\n        item.addClass('divider');\n      } else {\n        item.child(it.title())\n          .on('click', () => {\n            this.setTitle(it.numfmt);\n            this.change(it);\n          });\n        if (it.label) item.child(h('div', 'label').html(it.label));\n      }\n      return item;\n    });\n    super('General', '220px', true, 'bottom-left','dd-format', ...nformats);\n  }\n\n  setTitle(key) {\n    for (let i = 0; i < baseFormats.length; i += 1) {\n      if (baseFormats[i].numfmt === key) {\n        this.title.html(baseFormats[i].title());\n      }\n    }\n    this.hide();\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFormat from '../dropdown_format';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('format');\n  }\n\n  getValue(it) {\n    // return it.key;\n    return it.numfmt;\n  }\n\n  dropdown() {\n    return new DropdownFormat();\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport { h } from './element';\nimport { baseFormulas } from '../core/formula';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFormula extends Dropdown {\n  constructor() {\n    const nformulas = baseFormulas.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.hide();\n        this.change(it);\n      })\n      .child(it.key));\n    super(new Icon('formula'), '180px', true, 'bottom-right', 'dd-formula', ...nformulas);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFormula from '../dropdown_formula';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('formula');\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFormula();\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Freeze extends ToggleItem {\n  constructor() {\n    super('freeze');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Merge extends ToggleItem {\n  constructor() {\n    super('merge');\n  }\n\n  setState(active, disabled) {\n    this.el.active(active).disabled(disabled);\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Redo extends IconItem {\n  constructor() {\n    super('redo', 'Ctrl+Y');\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Undo extends IconItem {\n  constructor() {\n    super('undo', 'Ctrl+Z');\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Print extends IconItem {\n  constructor() {\n    super('print', 'Ctrl+P');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Textwrap extends ToggleItem {\n  constructor() {\n    super('textwrap');\n  }\n}\n","import Dropdown from '../dropdown';\nimport DropdownItem from './dropdown_item';\n\nimport { cssPrefix } from '../../config';\nimport { h } from '../element';\nimport Icon from '../icon';\n\nclass DropdownMore extends Dropdown {\n  constructor() {\n    const icon = new Icon('ellipsis');\n    const moreBtns = h('div', `${cssPrefix}-toolbar-more`);\n    super(icon, 'auto', false, 'bottom-right','dd-more', moreBtns);\n    this.moreBtns = moreBtns;\n    this.contentEl.css('max-width', '420px');\n  }\n}\n\nexport default class More extends DropdownItem {\n  constructor() {\n    super('more');\n    this.el.hide();\n  }\n\n  dropdown() {\n    return new DropdownMore();\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","/* global window */\n\nimport Align from './align';\nimport Valign from './valign';\nimport Autofilter from './autofilter';\nimport Bold from './bold';\nimport Italic from './italic';\nimport Strike from './strike';\nimport Underline from './underline';\nimport Border from './border';\nimport Clearformat from './clearformat';\nimport Paintformat from './paintformat';\nimport TextColor from './text_color';\nimport FillColor from './fill_color';\nimport FontSize from './font_size';\nimport Font from './font';\nimport Format from './format';\nimport Formula from './formula';\nimport Freeze from './freeze';\nimport Merge from './merge';\nimport Redo from './redo';\nimport Undo from './undo';\nimport Print from './print';\nimport Textwrap from './textwrap';\nimport More from './more';\nimport Item from './item';\n\nimport { h } from '../element';\nimport { cssPrefix } from '../../config';\nimport { bind } from '../event';\n\nfunction buildDivider() {\n  return h('div', `${cssPrefix}-toolbar-divider`);\n}\n\nfunction initBtns2() {\n  this.btns2 = [];\n  this.items.forEach((it) => {\n    if (Array.isArray(it)) {\n      it.forEach(({ el }) => {\n        const rect = el.box();\n        const { marginLeft, marginRight } = el.computedStyle();\n        this.btns2.push([el, rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10)]);\n      });\n    } else {\n      const rect = it.box();\n      const { marginLeft, marginRight } = it.computedStyle();\n      this.btns2.push([it, rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10)]);\n    }\n  });\n}\n\nfunction moreResize() {\n  const {\n    el, btns, moreEl, btns2,\n  } = this;\n  const { moreBtns, contentEl } = moreEl.dd;\n  el.css('width', `${this.widthFn()}px`);\n  const elBox = el.box();\n\n  let sumWidth = 160;\n  let sumWidth2 = 12;\n  const list1 = [];\n  const list2 = [];\n  btns2.forEach(([it, w], index) => {\n    sumWidth += w;\n    if (index === btns2.length - 1 || sumWidth < elBox.width) {\n      list1.push(it);\n    } else {\n      sumWidth2 += w;\n      list2.push(it);\n    }\n  });\n  btns.html('').children(...list1);\n  moreBtns.html('').children(...list2);\n  contentEl.css('width', `${sumWidth2}px`);\n  if (list2.length > 0) {\n    moreEl.show();\n  } else {\n    moreEl.hide();\n  }\n}\n\nfunction genBtn(it) {\n  const btn = new Item();\n  btn.el.on('click', () => {\n    if (it.onClick) it.onClick(this.data.getData(), this.data);\n  });\n  btn.tip = it.tip || '';\n\n  let { el } = it;\n\n  if (it.icon) {\n    el = h('img').attr('src', it.icon);\n  }\n\n  if (el) {\n    const icon = h('div', `${cssPrefix}-icon`);\n    icon.child(el);\n    btn.el.child(icon);\n  }\n\n  return btn;\n}\n\nexport default class Toolbar {\n  constructor(data, widthFn, isHide = false) {\n    this.data = data;\n    this.change = () => {};\n    this.widthFn = widthFn;\n    this.isHide = isHide;\n    const style = data.defaultStyle();\n    this.items = [\n      [\n        this.undoEl = new Undo(),\n        this.redoEl = new Redo(),\n        this.data.settings.showPrint && new Print(),\n        this.paintformatEl = new Paintformat(),\n        this.clearformatEl = new Clearformat(),\n      ].filter(e=>!!e),\n      buildDivider(),\n      [\n        this.formatEl = new Format(),\n      ],\n      buildDivider(),\n      [\n        this.fontEl = new Font(),\n        this.fontSizeEl = new FontSize(),\n      ],\n      buildDivider(),\n      [\n        this.boldEl = new Bold(),\n        this.italicEl = new Italic(),\n        this.underlineEl = new Underline(),\n        this.strikeEl = new Strike(),\n        this.textColorEl = new TextColor(style.color),\n      ],\n      buildDivider(),\n      [\n        this.fillColorEl = new FillColor(style.bgcolor),\n        this.borderEl = new Border(),\n        this.mergeEl = new Merge(),\n      ],\n      buildDivider(),\n      [\n        this.alignEl = new Align(style.align),\n        this.valignEl = new Valign(style.valign),\n        this.textwrapEl = new Textwrap(),\n      ],\n      buildDivider(),\n      [\n        this.freezeEl = new Freeze(),\n        this.autofilterEl = new Autofilter(),\n        this.formulaEl = new Formula(),\n      ],\n    ];\n\n    const { extendToolbar = {} } = data.settings;\n\n    if (extendToolbar.left && extendToolbar.left.length > 0) {\n      this.items.unshift(buildDivider());\n      const btns = extendToolbar.left.map(genBtn.bind(this));\n\n      this.items.unshift(btns);\n    }\n    if (extendToolbar.right && extendToolbar.right.length > 0) {\n      this.items.push(buildDivider());\n      const btns = extendToolbar.right.map(genBtn.bind(this));\n      this.items.push(btns);\n    }\n\n    this.items.push([this.moreEl = new More()]);\n\n    this.el = h('div', `${cssPrefix}-toolbar`);\n    this.btns = h('div', `${cssPrefix}-toolbar-btns`);\n\n    this.items.forEach((it) => {\n      if (Array.isArray(it)) {\n        it.forEach((i) => {\n          this.btns.child(i.el);\n          i.change = (...args) => {\n            this.change(...args);\n          };\n        });\n      } else {\n        this.btns.child(it.el);\n      }\n    });\n\n    this.el.child(this.btns);\n    if (isHide) {\n      this.el.hide();\n    } else {\n      this.reset();\n      setTimeout(() => {\n        initBtns2.call(this);\n        moreResize.call(this);\n      }, 0);\n      bind(window, 'resize', () => {\n        moreResize.call(this);\n      });\n    }\n  }\n\n  paintformatActive() {\n    return this.paintformatEl.active();\n  }\n\n  paintformatToggle() {\n    this.paintformatEl.toggle();\n  }\n\n  trigger(type) {\n    this[`${type}El`].click();\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.reset();\n  }\n\n  reset() {\n    if (this.isHide) return;\n    const { data } = this;\n    const style = data.getSelectedCellStyle();\n    // console.log('canUndo:', data.canUndo());\n    this.undoEl.setState(!data.canUndo());\n    this.redoEl.setState(!data.canRedo());\n    this.mergeEl.setState(data.canUnmerge(), !data.selector.multiple());\n    this.autofilterEl.setState(!data.canAutofilter());\n    // this.mergeEl.disabled();\n    // console.log('selectedCell:', style, cell);\n    const { font, format } = style;\n    this.formatEl.setState(format);\n    this.fontEl.setState(font.name);\n    this.fontSizeEl.setState(font.size);\n    this.boldEl.setState(font.bold);\n    this.italicEl.setState(font.italic);\n    this.underlineEl.setState(style.underline);\n    this.strikeEl.setState(style.strike);\n    this.textColorEl.setState(style.color);\n    this.fillColorEl.setState(style.bgcolor);\n    this.alignEl.setState(style.align);\n    this.valignEl.setState(style.valign);\n    this.textwrapEl.setState(style.textwrap);\n    // console.log('freeze is Active:', data.freezeIsActive());\n    this.freezeEl.setState(data.freezeIsActive());\n  }\n}\n","/* global document */\n/* global window */\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\nimport { bind, unbind } from './event';\n\nexport default class Modal {\n  constructor(title, content, width = '600px') {\n    this.title = title;\n    this.el = h('div', `${cssPrefix}-modal`).css('width', width).children(\n      h('div', `${cssPrefix}-modal-header`).children(\n        new Icon('close').on('click.stop', () => this.hide()),\n        this.title,\n      ),\n      h('div', `${cssPrefix}-modal-content`).children(...content),\n    ).hide();\n  }\n\n  show() {\n    // dimmer\n    this.dimmer = h('div', `${cssPrefix}-dimmer active`);\n    document.body.appendChild(this.dimmer.el);\n    const { width, height } = this.el.show().box();\n    const { clientHeight, clientWidth } = document.documentElement;\n    this.el.offset({\n      left: (clientWidth - width) / 2,\n      top: (clientHeight - height) / 3,\n    });\n    window.xkeydownEsc = (evt) => {\n      if (evt.keyCode === 27) {\n        this.hide();\n      }\n    };\n    bind(window, 'keydown', window.xkeydownEsc);\n  }\n\n  hide() {\n    this.el.hide();\n    document.body.removeChild(this.dimmer.el);\n    unbind(window, 'keydown', window.xkeydownEsc);\n    delete window.xkeydownEsc;\n  }\n}\n","import { h } from './element';\nimport Suggest from './suggest';\nimport { cssPrefix } from '../config';\n\nexport default class FormSelect {\n  constructor(key, items, width, getTitle = it => it, change = () => {}) {\n    this.key = key;\n    this.getTitle = getTitle;\n    this.vchange = () => {};\n    this.el = h('div', `${cssPrefix}-form-select`);\n    this.suggest = new Suggest(items.map(it => ({ key: it, title: this.getTitle(it) })), (it) => {\n      this.itemClick(it.key);\n      change(it.key);\n      this.vchange(it.key);\n    }, width, this.el);\n    this.el.children(\n      this.itemEl = h('div', 'input-text').html(this.getTitle(key)),\n      this.suggest.el,\n    ).on('click', () => this.show());\n  }\n\n  show() {\n    this.suggest.search('');\n  }\n\n  itemClick(it) {\n    this.key = it;\n    this.itemEl.html(this.getTitle(it));\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.key = v;\n      this.itemEl.html(this.getTitle(v));\n      return this;\n    }\n    return this.key;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nconst patterns = {\n  number: /(^\\d+$)|(^\\d+(\\.\\d{0,4})?$)/,\n  date: /^\\d{4}-\\d{1,2}-\\d{1,2}$/,\n};\n\n// rule: { required: false, type, pattern: // }\nexport default class FormField {\n  constructor(input, rule, label, labelWidth) {\n    this.label = '';\n    this.rule = rule;\n    if (label) {\n      this.label = h('label', 'label').css('width', `${labelWidth}px`).html(label);\n    }\n    this.tip = h('div', 'tip').child('tip').hide();\n    this.input = input;\n    this.input.vchange = () => this.validate();\n    this.el = h('div', `${cssPrefix}-form-field`)\n      .children(this.label, input.el, this.tip);\n  }\n\n  isShow() {\n    return this.el.css('display') !== 'none';\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n\n  hint(hint) {\n    this.input.hint(hint);\n  }\n\n  validate() {\n    const {\n      input, rule, tip, el,\n    } = this;\n    const v = input.val();\n    if (rule.required) {\n      if (/^\\s*$/.test(v)) {\n        tip.html(t('validation.required'));\n        el.addClass('error');\n        return false;\n      }\n    }\n    if (rule.type || rule.pattern) {\n      const pattern = rule.pattern || patterns[rule.type];\n      if (!pattern.test(v)) {\n        tip.html(t('validation.notMatch'));\n        el.addClass('error');\n        return false;\n      }\n    }\n    el.removeClass('error');\n    return true;\n  }\n}\n","import Modal from './modal';\nimport FormInput from './form_input';\nimport FormSelect from './form_select';\nimport FormField from './form_field';\nimport Button from './button';\nimport { t } from '../locale/locale';\nimport { h } from './element';\nimport { cssPrefix } from '../config';\n\nconst fieldLabelWidth = 100;\n\nexport default class ModalValidation extends Modal {\n  constructor() {\n    const mf = new FormField(\n      new FormSelect('cell',\n        ['cell'], // cell|row|column\n        '100%',\n        it => t(`dataValidation.modeType.${it}`)),\n      { required: true },\n      `${t('dataValidation.range')}:`,\n      fieldLabelWidth,\n    );\n    const rf = new FormField(\n      new FormInput('120px', 'E3 or E3:F12'),\n      { required: true, pattern: /^([A-Z]{1,2}[1-9]\\d*)(:[A-Z]{1,2}[1-9]\\d*)?$/ },\n    );\n    const cf = new FormField(\n      new FormSelect('list',\n        ['list', 'number', 'date', 'phone', 'email'],\n        '100%',\n        it => t(`dataValidation.type.${it}`),\n        it => this.criteriaSelected(it)),\n      { required: true },\n      `${t('dataValidation.criteria')}:`,\n      fieldLabelWidth,\n    );\n\n    // operator\n    const of = new FormField(\n      new FormSelect('be',\n        ['be', 'nbe', 'eq', 'neq', 'lt', 'lte', 'gt', 'gte'],\n        '160px',\n        it => t(`dataValidation.operator.${it}`),\n        it => this.criteriaOperatorSelected(it)),\n      { required: true },\n    ).hide();\n    // min, max\n    const minvf = new FormField(\n      new FormInput('70px', '10'),\n      { required: true },\n    ).hide();\n    const maxvf = new FormField(\n      new FormInput('70px', '100'),\n      { required: true, type: 'number' },\n    ).hide();\n    // value\n    const svf = new FormField(\n      new FormInput('120px', 'a,b,c'),\n      { required: true },\n    );\n    const vf = new FormField(\n      new FormInput('70px', '10'),\n      { required: true, type: 'number' },\n    ).hide();\n\n    super(t('contextmenu.validation'), [\n      h('div', `${cssPrefix}-form-fields`).children(\n        mf.el,\n        rf.el,\n      ),\n      h('div', `${cssPrefix}-form-fields`).children(\n        cf.el,\n        of.el,\n        minvf.el,\n        maxvf.el,\n        vf.el,\n        svf.el,\n      ),\n      h('div', `${cssPrefix}-buttons`).children(\n        new Button('cancel').on('click', () => this.btnClick('cancel')),\n        new Button('remove').on('click', () => this.btnClick('remove')),\n        new Button('save', 'primary').on('click', () => this.btnClick('save')),\n      ),\n    ]);\n    this.mf = mf;\n    this.rf = rf;\n    this.cf = cf;\n    this.of = of;\n    this.minvf = minvf;\n    this.maxvf = maxvf;\n    this.vf = vf;\n    this.svf = svf;\n    this.change = () => {};\n  }\n\n  showVf(it) {\n    const hint = it === 'date' ? '2018-11-12' : '10';\n    const { vf } = this;\n    vf.input.hint(hint);\n    vf.show();\n  }\n\n  criteriaSelected(it) {\n    const {\n      of, minvf, maxvf, vf, svf,\n    } = this;\n    if (it === 'date' || it === 'number') {\n      of.show();\n      minvf.rule.type = it;\n      maxvf.rule.type = it;\n      if (it === 'date') {\n        minvf.hint('2018-11-12');\n        maxvf.hint('2019-11-12');\n      } else {\n        minvf.hint('10');\n        maxvf.hint('100');\n      }\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n      svf.hide();\n    } else {\n      if (it === 'list') {\n        svf.show();\n      } else {\n        svf.hide();\n      }\n      vf.hide();\n      of.hide();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  criteriaOperatorSelected(it) {\n    if (!it) return;\n    const {\n      minvf, maxvf, vf,\n    } = this;\n    if (it === 'be' || it === 'nbe') {\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n    } else {\n      const type = this.cf.val();\n      vf.rule.type = type;\n      if (type === 'date') {\n        vf.hint('2018-11-12');\n      } else {\n        vf.hint('10');\n      }\n      vf.show();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  btnClick(action) {\n    if (action === 'cancel') {\n      this.hide();\n    } else if (action === 'remove') {\n      this.change('remove');\n      this.hide();\n    } else if (action === 'save') {\n      // validate\n      const attrs = ['mf', 'rf', 'cf', 'of', 'svf', 'vf', 'minvf', 'maxvf'];\n      for (let i = 0; i < attrs.length; i += 1) {\n        const field = this[attrs[i]];\n        // console.log('field:', field);\n        if (field.isShow()) {\n          // console.log('it:', it);\n          if (!field.validate()) return;\n        }\n      }\n\n      const mode = this.mf.val();\n      const ref = this.rf.val();\n      const type = this.cf.val();\n      const operator = this.of.val();\n      let value = this.svf.val();\n      if (type === 'number' || type === 'date') {\n        if (operator === 'be' || operator === 'nbe') {\n          value = [this.minvf.val(), this.maxvf.val()];\n        } else {\n          value = this.vf.val();\n        }\n      }\n      // console.log(mode, ref, type, operator, value);\n      this.change('save',\n        mode,\n        ref,\n        {\n          type, operator, required: false, value,\n        });\n      this.hide();\n    }\n  }\n\n  // validation: { mode, ref, validator }\n  setValue(v) {\n    if (v) {\n      const {\n        mf, rf, cf, of, svf, vf, minvf, maxvf,\n      } = this;\n      const {\n        mode, ref, validator,\n      } = v;\n      const {\n        type, operator, value,\n      } = validator || { type: 'list' };\n      mf.val(mode || 'cell');\n      rf.val(ref);\n      cf.val(type);\n      of.val(operator);\n      if (Array.isArray(value)) {\n        minvf.val(value[0]);\n        maxvf.val(value[1]);\n      } else {\n        svf.val(value || '');\n        vf.val(value || '');\n      }\n      this.criteriaSelected(type);\n      this.criteriaOperatorSelected(operator);\n    }\n    this.show();\n  }\n}\n","import { h } from './element';\nimport Button from './button';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nfunction buildMenu(clsName) {\n  return h('div', `${cssPrefix}-item ${clsName}`);\n}\n\nfunction buildSortItem(it) {\n  return buildMenu('state').child(t(`sort.${it}`))\n    .on('click.stop', () => this.itemClick(it));\n}\n\nfunction buildFilterBody(items) {\n  const { filterbEl, filterValues } = this;\n  filterbEl.html('');\n  const itemKeys = Object.keys(items);\n  itemKeys.forEach((it, index) => {\n    const cnt = items[it];\n    const active = filterValues.includes(it) ? 'checked' : '';\n    filterbEl.child(h('div', `${cssPrefix}-item state ${active}`)\n      .on('click.stop', () => this.filterClick(index, it))\n      .children(it === '' ? t('filter.empty') : it, h('div', 'label').html(`(${cnt})`)));\n  });\n}\n\nfunction resetFilterHeader() {\n  const { filterhEl, filterValues, values } = this;\n  filterhEl.html(`${filterValues.length} / ${values.length}`);\n  filterhEl.checked(filterValues.length === values.length);\n}\n\nexport default class SortFilter {\n  constructor() {\n    this.filterbEl = h('div', `${cssPrefix}-body`);\n    this.filterhEl = h('div', `${cssPrefix}-header state`).on('click.stop', () => this.filterClick(0, 'all'));\n    this.el = h('div', `${cssPrefix}-sort-filter`).children(\n      this.sortAscEl = buildSortItem.call(this, 'asc'),\n      this.sortDescEl = buildSortItem.call(this, 'desc'),\n      buildMenu('divider'),\n      h('div', `${cssPrefix}-filter`).children(\n        this.filterhEl,\n        this.filterbEl,\n      ),\n      h('div', `${cssPrefix}-buttons`).children(\n        new Button('cancel').on('click', () => this.btnClick('cancel')),\n        new Button('ok', 'primary').on('click', () => this.btnClick('ok')),\n      ),\n    ).hide();\n    // this.setFilters(['test1', 'test2', 'text3']);\n    this.ci = null;\n    this.sortDesc = null;\n    this.values = null;\n    this.filterValues = [];\n  }\n\n  btnClick(it) {\n    if (it === 'ok') {\n      const { ci, sort, filterValues } = this;\n      if (this.ok) {\n        this.ok(ci, sort, 'in', filterValues);\n      }\n    }\n    this.hide();\n  }\n\n  itemClick(it) {\n    // console.log('it:', it);\n    this.sort = it;\n    const { sortAscEl, sortDescEl } = this;\n    sortAscEl.checked(it === 'asc');\n    sortDescEl.checked(it === 'desc');\n  }\n\n  filterClick(index, it) {\n    // console.log('index:', index, it);\n    const { filterbEl, filterValues, values } = this;\n    const children = filterbEl.children();\n    if (it === 'all') {\n      if (children.length === filterValues.length) {\n        this.filterValues = [];\n        children.forEach(i => h(i).checked(false));\n      } else {\n        this.filterValues = Array.from(values);\n        children.forEach(i => h(i).checked(true));\n      }\n    } else {\n      const checked = h(children[index]).toggle('checked');\n      if (checked) {\n        filterValues.push(it);\n      } else {\n        filterValues.splice(filterValues.findIndex(i => i === it), 1);\n      }\n    }\n    resetFilterHeader.call(this);\n  }\n\n  // v: autoFilter\n  // items: {value: cnt}\n  // sort { ci, order }\n  set(ci, items, filter, sort) {\n    this.ci = ci;\n    const { sortAscEl, sortDescEl } = this;\n    if (sort !== null) {\n      this.sort = sort.order;\n      sortAscEl.checked(sort.asc());\n      sortDescEl.checked(sort.desc());\n    } else {\n      this.sortDesc = null;\n      sortAscEl.checked(false);\n      sortDescEl.checked(false);\n    }\n    // this.setFilters(items, filter);\n    this.values = Object.keys(items);\n    this.filterValues = filter ? Array.from(filter.value) : Object.keys(items);\n    buildFilterBody.call(this, items, filter);\n    resetFilterHeader.call(this);\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    let tindex = 1;\n    bindClickoutside(this.el, () => {\n      if (tindex <= 0) {\n        this.hide();\n      }\n      tindex -= 1;\n    });\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    unbindClickoutside(this.el);\n  }\n}\n","/* global document */\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nexport function xtoast(title, content) {\n  const el = h('div', `${cssPrefix}-toast`);\n  const dimmer = h('div', `${cssPrefix}-dimmer active`);\n  const remove = () => {\n    document.body.removeChild(el.el);\n    document.body.removeChild(dimmer.el);\n  };\n\n  el.children(\n    h('div', `${cssPrefix}-toast-header`).children(\n      new Icon('close').on('click.stop', () => remove()),\n      title,\n    ),\n    h('div', `${cssPrefix}-toast-content`).html(content),\n  );\n  document.body.appendChild(el.el);\n  document.body.appendChild(dimmer.el);\n  // set offset\n  const { width, height } = el.box();\n  const { clientHeight, clientWidth } = document.documentElement;\n  el.offset({\n    left: (clientWidth - width) / 2,\n    top: (clientHeight - height) / 3,\n  });\n}\n\nexport default {};\n","/* global window */\nimport { h } from './element';\nimport {\n  bind,\n  mouseMoveUp,\n  bindTouch,\n  createEventEmitter,\n} from './event';\nimport Resizer from './resizer';\nimport Scrollbar from './scrollbar';\nimport Selector from './selector';\nimport Editor from './editor';\nimport Print from './print';\nimport ContextMenu from './contextmenu';\nimport Table from './table';\nimport Toolbar from './toolbar/index';\nimport ModalValidation from './modal_validation';\nimport SortFilter from './sort_filter';\nimport { xtoast } from './message';\nimport { cssPrefix } from '../config';\nimport { formulas } from '../core/formula';\n\n/**\n * @desc throttle fn\n * @param func function\n * @param wait Delay in milliseconds\n */\nfunction throttle(func, wait) {\n  let timeout;\n  return (...arg) => {\n    const that = this;\n    const args = arg;\n    if (!timeout) {\n      timeout = setTimeout(() => {\n        timeout = null;\n        func.apply(that, args);\n      }, wait);\n    }\n  };\n}\n\nfunction scrollbarMove() {\n  const {\n    data, verticalScrollbar, horizontalScrollbar,\n  } = this;\n  const {\n    l, t, left, top, width, height,\n  } = data.getSelectedRect();\n  const tableOffset = this.getTableOffset();\n  // console.log(',l:', l, ', left:', left, ', tOffset.left:', tableOffset.width);\n  if (Math.abs(left) + width > tableOffset.width) {\n    horizontalScrollbar.move({ left: l + width - tableOffset.width });\n  } else {\n    const fsw = data.freezeTotalWidth();\n    if (left < fsw) {\n      horizontalScrollbar.move({ left: l - 1 - fsw });\n    }\n  }\n  // console.log('top:', top, ', height:', height, ', tof.height:', tableOffset.height);\n  if (Math.abs(top) + height > tableOffset.height) {\n    verticalScrollbar.move({ top: t + height - tableOffset.height - 1 });\n  } else {\n    const fsh = data.freezeTotalHeight();\n    if (top < fsh) {\n      verticalScrollbar.move({ top: t - 1 - fsh });\n    }\n  }\n}\n\nfunction selectorSet(multiple, ri, ci, indexesUpdated = true, moving = false) {\n  if (ri === -1 && ci === -1) return;\n  const {\n    table, selector, toolbar, data,\n    contextMenu,\n  } = this;\n  const cell = data.getCell(ri, ci);\n  if (multiple) {\n    selector.setEnd(ri, ci, moving);\n    this.trigger('cells-selected', cell, selector.range);\n  } else {\n    // trigger click event\n    selector.set(ri, ci, indexesUpdated);\n    this.trigger('cell-selected', cell, ri, ci);\n  }\n  contextMenu.setMode((ri === -1 || ci === -1) ? 'row-col' : 'range');\n  toolbar.reset();\n  table.render();\n}\n\n// multiple: boolean\n// direction: left | right | up | down | row-first | row-last | col-first | col-last\nfunction selectorMove(multiple, direction) {\n  const {\n    selector, data,\n  } = this;\n  const { rows, cols } = data;\n  let [ri, ci] = selector.indexes;\n  const { eri, eci } = selector.range;\n  if (multiple) {\n    [ri, ci] = selector.moveIndexes;\n  }\n  // console.log('selector.move:', ri, ci);\n  if (direction === 'left') {\n    if (ci > 0) ci -= 1;\n  } else if (direction === 'right') {\n    if (eci !== ci) ci = eci;\n    if (ci < cols.len - 1) ci += 1;\n  } else if (direction === 'up') {\n    if (ri > 0) ri -= 1;\n  } else if (direction === 'down') {\n    if (eri !== ri) ri = eri;\n    if (ri < rows.len - 1) ri += 1;\n  } else if (direction === 'row-first') {\n    ci = 0;\n  } else if (direction === 'row-last') {\n    ci = cols.len - 1;\n  } else if (direction === 'col-first') {\n    ri = 0;\n  } else if (direction === 'col-last') {\n    ri = rows.len - 1;\n  }\n  if (multiple) {\n    selector.moveIndexes = [ri, ci];\n  }\n  selectorSet.call(this, multiple, ri, ci);\n  scrollbarMove.call(this);\n}\n\n// private methods\nfunction overlayerMousemove(evt) {\n  // console.log('x:', evt.offsetX, ', y:', evt.offsetY);\n  if (evt.buttons !== 0) return;\n  if (evt.target.className === `${cssPrefix}-resizer-hover`) return;\n  const { offsetX, offsetY } = evt;\n  const {\n    rowResizer, colResizer, tableEl, data,\n  } = this;\n  const { rows, cols } = data;\n  if (offsetX > cols.indexWidth && offsetY > rows.height) {\n    rowResizer.hide();\n    colResizer.hide();\n    return;\n  }\n  const tRect = tableEl.box();\n  const cRect = data.getCellRectByXY(evt.offsetX, evt.offsetY);\n  if (cRect.ri >= 0 && cRect.ci === -1) {\n    cRect.width = cols.indexWidth;\n    rowResizer.show(cRect, {\n      width: tRect.width,\n    });\n    if (rows.isHide(cRect.ri - 1)) {\n      rowResizer.showUnhide(cRect.ri);\n    } else {\n      rowResizer.hideUnhide();\n    }\n  } else {\n    rowResizer.hide();\n  }\n  if (cRect.ri === -1 && cRect.ci >= 0) {\n    cRect.height = rows.height;\n    colResizer.show(cRect, {\n      height: tRect.height,\n    });\n    if (cols.isHide(cRect.ci - 1)) {\n      colResizer.showUnhide(cRect.ci);\n    } else {\n      colResizer.hideUnhide();\n    }\n  } else {\n    colResizer.hide();\n  }\n}\n\n// let scrollThreshold = 15;\nfunction overlayerMousescroll(evt) {\n  // scrollThreshold -= 1;\n  // if (scrollThreshold > 0) return;\n  // scrollThreshold = 15;\n\n  const { verticalScrollbar, horizontalScrollbar, data } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n  // console.log('evt:::', evt.wheelDelta, evt.detail * 40);\n\n  const { rows, cols } = data;\n\n  // deltaY for vertical delta\n  const { deltaY, deltaX } = evt;\n  const loopValue = (ii, vFunc) => {\n    let i = ii;\n    let v = 0;\n    do {\n      v = vFunc(i);\n      i += 1;\n    } while (v <= 0);\n    return v;\n  };\n  // console.log('deltaX', deltaX, 'evt.detail', evt.detail);\n  // if (evt.detail) deltaY = evt.detail * 40;\n  const moveY = (vertical) => {\n    if (vertical > 0) {\n      // up\n      const ri = data.scroll.ri + 1;\n      if (ri < rows.len) {\n        const rh = loopValue(ri, i => rows.getHeight(i));\n        verticalScrollbar.move({ top: top + rh - 1 });\n      }\n    } else {\n      // down\n      const ri = data.scroll.ri - 1;\n      if (ri >= 0) {\n        const rh = loopValue(ri, i => rows.getHeight(i));\n        verticalScrollbar.move({ top: ri === 0 ? 0 : top - rh });\n      }\n    }\n  };\n\n  // deltaX for Mac horizontal scroll\n  const moveX = (horizontal) => {\n    if (horizontal > 0) {\n      // left\n      const ci = data.scroll.ci + 1;\n      if (ci < cols.len) {\n        const cw = loopValue(ci, i => cols.getWidth(i));\n        horizontalScrollbar.move({ left: left + cw - 1 });\n      }\n    } else {\n      // right\n      const ci = data.scroll.ci - 1;\n      if (ci >= 0) {\n        const cw = loopValue(ci, i => cols.getWidth(i));\n        horizontalScrollbar.move({ left: ci === 0 ? 0 : left - cw });\n      }\n    }\n  };\n  const tempY = Math.abs(deltaY);\n  const tempX = Math.abs(deltaX);\n  const temp = Math.max(tempY, tempX);\n  // console.log('event:', evt);\n  // detail for windows/mac firefox vertical scroll\n  if (/Firefox/i.test(window.navigator.userAgent)) throttle(moveY(evt.detail), 50);\n  if (temp === tempX) throttle(moveX(deltaX), 50);\n  if (temp === tempY) throttle(moveY(deltaY), 50);\n}\n\nfunction overlayerTouch(direction, distance) {\n  const { verticalScrollbar, horizontalScrollbar } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n\n  if (direction === 'left' || direction === 'right') {\n    horizontalScrollbar.move({ left: left - distance });\n  } else if (direction === 'up' || direction === 'down') {\n    verticalScrollbar.move({ top: top - distance });\n  }\n}\n\nfunction verticalScrollbarSet() {\n  const { data, verticalScrollbar } = this;\n  const { height } = this.getTableOffset();\n  const erth = data.exceptRowTotalHeight(0, -1);\n  // console.log('erth:', erth);\n  verticalScrollbar.set(height, data.rows.totalHeight() - erth);\n}\n\nfunction horizontalScrollbarSet() {\n  const { data, horizontalScrollbar } = this;\n  const { width } = this.getTableOffset();\n  if (data) {\n    horizontalScrollbar.set(width, data.cols.totalWidth());\n  }\n}\n\nfunction sheetFreeze() {\n  const {\n    selector, data, editor,\n  } = this;\n  const [ri, ci] = data.freeze;\n  if (ri > 0 || ci > 0) {\n    const fwidth = data.freezeTotalWidth();\n    const fheight = data.freezeTotalHeight();\n    editor.setFreezeLengths(fwidth, fheight);\n  }\n  selector.resetAreaOffset();\n}\n\nfunction sheetReset() {\n  const {\n    tableEl,\n    overlayerEl,\n    overlayerCEl,\n    table,\n    toolbar,\n    selector,\n    el,\n  } = this;\n  const tOffset = this.getTableOffset();\n  const vRect = this.getRect();\n  tableEl.attr(vRect);\n  overlayerEl.offset(vRect);\n  overlayerCEl.offset(tOffset);\n  el.css('width', `${vRect.width}px`);\n  verticalScrollbarSet.call(this);\n  horizontalScrollbarSet.call(this);\n  sheetFreeze.call(this);\n  table.render();\n  toolbar.reset();\n  selector.reset();\n}\n\nfunction clearClipboard() {\n  const { data, selector } = this;\n  data.clearClipboard();\n  selector.hideClipboard();\n}\n\nfunction copy(evt) {\n  const { data, selector } = this;\n  if (data.settings.mode === 'read') return;\n  data.copy();\n  data.copyToSystemClipboard(evt);\n  selector.showClipboard();\n}\n\nfunction cut() {\n  const { data, selector } = this;\n  if (data.settings.mode === 'read') return;\n  data.cut();\n  selector.showClipboard();\n}\n\nfunction paste(what, evt) {\n  const { data } = this;\n  if (data.settings.mode === 'read') return;\n  if (data.clipboard.isClear()) {\n    const resetSheet = () => sheetReset.call(this);\n    const eventTrigger = (rows) => {\n      this.trigger('pasted-clipboard', rows);\n    };\n    // pastFromSystemClipboard is async operation, need to tell it how to reset sheet and trigger event after it finishes\n    // pasting content from system clipboard\n    data.pasteFromSystemClipboard(resetSheet, eventTrigger);\n  } else if (data.paste(what, msg => xtoast('Tip', msg))) {\n    sheetReset.call(this);\n  } else if (evt) {\n    const cdata = evt.clipboardData.getData('text/plain');\n    this.data.pasteFromText(cdata);\n    sheetReset.call(this);\n  }\n}\n\nfunction hideRowsOrCols() {\n  this.data.hideRowsOrCols();\n  sheetReset.call(this);\n}\n\nfunction unhideRowsOrCols(type, index) {\n  this.data.unhideRowsOrCols(type, index);\n  sheetReset.call(this);\n}\n\nfunction autofilter() {\n  const { data } = this;\n  data.autofilter();\n  sheetReset.call(this);\n}\n\nfunction toolbarChangePaintformatPaste() {\n  const { toolbar } = this;\n  if (toolbar.paintformatActive()) {\n    paste.call(this, 'format');\n    clearClipboard.call(this);\n    toolbar.paintformatToggle();\n  }\n}\n\nfunction overlayerMousedown(evt) {\n  // console.log(':::::overlayer.mousedown:', evt.detail, evt.button, evt.buttons, evt.shiftKey);\n  // console.log('evt.target.className:', evt.target.className);\n  const {\n    selector, data, table, sortFilter,\n  } = this;\n  const { offsetX, offsetY } = evt;\n  const isAutofillEl = evt.target.className === `${cssPrefix}-selector-corner`;\n  const cellRect = data.getCellRectByXY(offsetX, offsetY);\n  const {\n    left, top, width, height,\n  } = cellRect;\n  let { ri, ci } = cellRect;\n  // sort or filter\n  const { autoFilter } = data;\n  if (autoFilter.includes(ri, ci)) {\n    if (left + width - 20 < offsetX && top + height - 20 < offsetY) {\n      const items = autoFilter.items(ci, (r, c) => data.rows.getCell(r, c));\n      sortFilter.hide();\n      sortFilter.set(ci, items, autoFilter.getFilter(ci), autoFilter.getSort(ci));\n      sortFilter.setOffset({ left, top: top + height + 2 });\n      return;\n    }\n  }\n\n  // console.log('ri:', ri, ', ci:', ci);\n  if (!evt.shiftKey) {\n    // console.log('selectorSetStart:::');\n    if (isAutofillEl) {\n      selector.showAutofill(ri, ci);\n    } else {\n      selectorSet.call(this, false, ri, ci);\n    }\n\n    // mouse move up\n    mouseMoveUp(window, (e) => {\n      // console.log('mouseMoveUp::::');\n      ({ ri, ci } = data.getCellRectByXY(e.offsetX, e.offsetY));\n      if (isAutofillEl) {\n        selector.showAutofill(ri, ci);\n      } else if (e.buttons === 1 && !e.shiftKey) {\n        selectorSet.call(this, true, ri, ci, true, true);\n      }\n    }, () => {\n      if (isAutofillEl && selector.arange && data.settings.mode !== 'read') {\n        if (data.autofill(selector.arange, 'all', msg => xtoast('Tip', msg))) {\n          table.render();\n        }\n      }\n      selector.hideAutofill();\n      toolbarChangePaintformatPaste.call(this);\n    });\n  }\n\n  if (!isAutofillEl && evt.buttons === 1) {\n    if (evt.shiftKey) {\n      // console.log('shiftKey::::');\n      selectorSet.call(this, true, ri, ci);\n    }\n  }\n}\n\nfunction editorSetOffset() {\n  const { editor, data } = this;\n  const sOffset = data.getSelectedRect();\n  const tOffset = this.getTableOffset();\n  let sPosition = 'top';\n  // console.log('sOffset:', sOffset, ':', tOffset);\n  if (sOffset.top > tOffset.height / 2) {\n    sPosition = 'bottom';\n  }\n  editor.setOffset(sOffset, sPosition);\n}\n\nfunction editorSet() {\n  const { editor, data } = this;\n  if (data.settings.mode === 'read') return;\n  editorSetOffset.call(this);\n  editor.setCell(data.getSelectedCell(), data.getSelectedValidator());\n  clearClipboard.call(this);\n}\n\nfunction verticalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrolly(distance, () => {\n    selector.resetBRLAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction horizontalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrollx(distance, () => {\n    selector.resetBRTAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction rowResizerFinished(cRect, distance) {\n  const { ri } = cRect;\n  const { table, selector, data } = this;\n  const { sri, eri } = selector.range;\n  if (ri >= sri && ri <= eri) {\n    for (let row = sri; row <= eri; row += 1) {\n      data.rows.setHeight(row, distance);\n    }\n  } else {\n    data.rows.setHeight(ri, distance);\n  }\n\n  table.render();\n  selector.resetAreaOffset();\n  verticalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction colResizerFinished(cRect, distance) {\n  const { ci } = cRect;\n  const { table, selector, data } = this;\n  const { sci, eci } = selector.range;\n  if (ci >= sci && ci <= eci) {\n    for (let col = sci; col <= eci; col += 1) {\n      data.cols.setWidth(col, distance);\n    }\n  } else {\n    data.cols.setWidth(ci, distance);\n  }\n\n  table.render();\n  selector.resetAreaOffset();\n  horizontalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction dataSetCellText(text, state = 'finished') {\n  const { data, table } = this;\n  // const [ri, ci] = selector.indexes;\n  if (data.settings.mode === 'read') return;\n  data.setSelectedCellText(text, state);\n  const { ri, ci } = data.selector;\n  if (state === 'finished') {\n    table.render();\n  } else {\n    this.trigger('cell-edited', text, ri, ci);\n  }\n}\n\nfunction insertDeleteRowColumn(type) {\n  const { data } = this;\n  if (data.settings.mode === 'read') return;\n  if (type === 'insert-row') {\n    data.insert('row');\n  } else if (type === 'delete-row') {\n    data.delete('row');\n  } else if (type === 'insert-column') {\n    data.insert('column');\n  } else if (type === 'delete-column') {\n    data.delete('column');\n  } else if (type === 'delete-cell') {\n    data.deleteCell();\n  } else if (type === 'delete-cell-format') {\n    data.deleteCell('format');\n  } else if (type === 'delete-cell-text') {\n    data.deleteCell('text');\n  } else if (type === 'cell-printable') {\n    data.setSelectedCellAttr('printable', true);\n  } else if (type === 'cell-non-printable') {\n    data.setSelectedCellAttr('printable', false);\n  } else if (type === 'cell-editable') {\n    data.setSelectedCellAttr('editable', true);\n  } else if (type === 'cell-non-editable') {\n    data.setSelectedCellAttr('editable', false);\n  }\n  clearClipboard.call(this);\n  sheetReset.call(this);\n}\n\nfunction toolbarChange(type, value) {\n  const { data } = this;\n  if (type === 'undo') {\n    this.undo();\n  } else if (type === 'redo') {\n    this.redo();\n  } else if (type === 'print') {\n    this.print.preview();\n  } else if (type === 'paintformat') {\n    if (value === true) copy.call(this);\n    else clearClipboard.call(this);\n  } else if (type === 'clearformat') {\n    insertDeleteRowColumn.call(this, 'delete-cell-format');\n  } else if (type === 'link') {\n    // link\n  } else if (type === 'chart') {\n    // chart\n  } else if (type === 'autofilter') {\n    // filter\n    autofilter.call(this);\n  } else if (type === 'freeze') {\n    if (value) {\n      const { ri, ci } = data.selector;\n      this.freeze(ri, ci);\n    } else {\n      this.freeze(0, 0);\n    }\n  } else {\n    data.setSelectedCellAttr(type, value);\n    if (type === 'formula' && !data.selector.multiple()) {\n      editorSet.call(this);\n    }\n    sheetReset.call(this);\n  }\n}\n\nfunction sortFilterChange(ci, order, operator, value) {\n  // console.log('sort:', sortDesc, operator, value);\n  this.data.setAutoFilter(ci, order, operator, value);\n  sheetReset.call(this);\n}\n\nfunction sheetInitEvents() {\n  const {\n    selector,\n    overlayerEl,\n    rowResizer,\n    colResizer,\n    verticalScrollbar,\n    horizontalScrollbar,\n    editor,\n    contextMenu,\n    toolbar,\n    modalValidation,\n    sortFilter,\n  } = this;\n  // overlayer\n  overlayerEl\n    .on('mousemove', (evt) => {\n      overlayerMousemove.call(this, evt);\n    })\n    .on('mousedown', (evt) => {\n      editor.clear();\n      contextMenu.hide();\n      // the left mouse button: mousedown  mouseup  click\n      // the right mouse button: mousedown  contenxtmenu  mouseup\n      if (evt.buttons === 2) {\n        if (this.data.xyInSelectedRect(evt.offsetX, evt.offsetY)) {\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        } else {\n          overlayerMousedown.call(this, evt);\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        }\n        evt.stopPropagation();\n      } else if (evt.detail === 2) {\n        editorSet.call(this);\n      } else {\n        overlayerMousedown.call(this, evt);\n      }\n    })\n    .on('mousewheel.stop', (evt) => {\n      overlayerMousescroll.call(this, evt);\n    })\n    .on('mouseout', (evt) => {\n      const { offsetX, offsetY } = evt;\n      if (offsetY <= 0) colResizer.hide();\n      if (offsetX <= 0) rowResizer.hide();\n    });\n\n  selector.inputChange = (v) => {\n    dataSetCellText.call(this, v, 'input');\n    editorSet.call(this);\n  };\n\n  // slide on mobile\n  bindTouch(overlayerEl.el, {\n    move: (direction, d) => {\n      overlayerTouch.call(this, direction, d);\n    },\n  });\n\n  // toolbar change\n  toolbar.change = (type, value) => toolbarChange.call(this, type, value);\n\n  // sort filter ok\n  sortFilter.ok = (ci, order, o, v) => sortFilterChange.call(this, ci, order, o, v);\n\n  // resizer finished callback\n  rowResizer.finishedFn = (cRect, distance) => {\n    rowResizerFinished.call(this, cRect, distance);\n  };\n  colResizer.finishedFn = (cRect, distance) => {\n    colResizerFinished.call(this, cRect, distance);\n  };\n  // resizer unhide callback\n  rowResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, 'row', index);\n  };\n  colResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, 'col', index);\n  };\n  // scrollbar move callback\n  verticalScrollbar.moveFn = (distance, evt) => {\n    verticalScrollbarMove.call(this, distance, evt);\n  };\n  horizontalScrollbar.moveFn = (distance, evt) => {\n    horizontalScrollbarMove.call(this, distance, evt);\n  };\n  // editor\n  editor.change = (state, itext) => {\n    dataSetCellText.call(this, itext, state);\n  };\n  // modal validation\n  modalValidation.change = (action, ...args) => {\n    if (action === 'save') {\n      this.data.addValidation(...args);\n    } else {\n      this.data.removeValidation();\n    }\n  };\n  // contextmenu\n  contextMenu.itemClick = (type) => {\n    // console.log('type:', type);\n    if (type === 'validation') {\n      modalValidation.setValue(this.data.getSelectedValidation());\n    } else if (type === 'copy') {\n      copy.call(this);\n    } else if (type === 'cut') {\n      cut.call(this);\n    } else if (type === 'paste') {\n      paste.call(this, 'all');\n    } else if (type === 'paste-value') {\n      paste.call(this, 'text');\n    } else if (type === 'paste-format') {\n      paste.call(this, 'format');\n    } else if (type === 'hide') {\n      hideRowsOrCols.call(this);\n    } else {\n      insertDeleteRowColumn.call(this, type);\n    }\n  };\n\n  bind(window, 'resize', () => {\n    this.reload();\n  });\n\n  bind(window, 'click', (evt) => {\n    this.focusing = overlayerEl.contains(evt.target);\n  });\n\n  bind(window, 'paste', (evt) => {\n    if (!this.focusing) return;\n    paste.call(this, 'all', evt);\n    evt.preventDefault();\n  });\n\n  bind(window, 'copy', (evt) => {\n    if (!this.focusing) return;\n    copy.call(this, evt);\n    evt.preventDefault();\n  });\n\n  // for selector\n  bind(window, 'keydown', (evt) => {\n    if (!this.focusing) return;\n    const keyCode = evt.keyCode || evt.which;\n    const {\n      key, ctrlKey, shiftKey, metaKey,\n    } = evt;\n    // console.log('keydown.evt: ', keyCode);\n    if (ctrlKey || metaKey) {\n      // const { sIndexes, eIndexes } = selector;\n      // let what = 'all';\n      // if (shiftKey) what = 'text';\n      // if (altKey) what = 'format';\n      switch (keyCode) {\n        case 90:\n          // undo: ctrl + z\n          this.undo();\n          evt.preventDefault();\n          break;\n        case 89:\n          // redo: ctrl + y\n          this.redo();\n          evt.preventDefault();\n          break;\n        case 67:\n          // ctrl + c\n          // => copy\n          // copy.call(this);\n          // evt.preventDefault();\n          break;\n        case 88:\n          // ctrl + x\n          cut.call(this);\n          evt.preventDefault();\n          break;\n        case 85:\n          // ctrl + u\n          toolbar.trigger('underline');\n          evt.preventDefault();\n          break;\n        case 86:\n          // ctrl + v\n          // => paste\n          // evt.preventDefault();\n          break;\n        case 37:\n          // ctrl + left\n          selectorMove.call(this, shiftKey, 'row-first');\n          evt.preventDefault();\n          break;\n        case 38:\n          // ctrl + up\n          selectorMove.call(this, shiftKey, 'col-first');\n          evt.preventDefault();\n          break;\n        case 39:\n          // ctrl + right\n          selectorMove.call(this, shiftKey, 'row-last');\n          evt.preventDefault();\n          break;\n        case 40:\n          // ctrl + down\n          selectorMove.call(this, shiftKey, 'col-last');\n          evt.preventDefault();\n          break;\n        case 32:\n          // ctrl + space, all cells in col\n          selectorSet.call(this, false, -1, this.data.selector.ci, false);\n          evt.preventDefault();\n          break;\n        case 66:\n          // ctrl + B\n          toolbar.trigger('bold');\n          break;\n        case 73:\n          // ctrl + I\n          toolbar.trigger('italic');\n          break;\n        default:\n          break;\n      }\n    } else {\n      // console.log('evt.keyCode:', evt.keyCode);\n      switch (keyCode) {\n        case 32:\n          if (shiftKey) {\n            // shift + space, all cells in row\n            selectorSet.call(this, false, this.data.selector.ri, -1, false);\n          }\n          break;\n        case 27: // esc\n          contextMenu.hide();\n          clearClipboard.call(this);\n          break;\n        case 37: // left\n          selectorMove.call(this, shiftKey, 'left');\n          evt.preventDefault();\n          break;\n        case 38: // up\n          selectorMove.call(this, shiftKey, 'up');\n          evt.preventDefault();\n          break;\n        case 39: // right\n          selectorMove.call(this, shiftKey, 'right');\n          evt.preventDefault();\n          break;\n        case 40: // down\n          selectorMove.call(this, shiftKey, 'down');\n          evt.preventDefault();\n          break;\n        case 9: // tab\n          editor.clear();\n          // shift + tab => move left\n          // tab => move right\n          selectorMove.call(this, false, shiftKey ? 'left' : 'right');\n          evt.preventDefault();\n          break;\n        case 13: // enter\n          editor.clear();\n          // shift + enter => move up\n          // enter => move down\n          selectorMove.call(this, false, shiftKey ? 'up' : 'down');\n          evt.preventDefault();\n          break;\n        case 8: // backspace\n          insertDeleteRowColumn.call(this, 'delete-cell-text');\n          evt.preventDefault();\n          break;\n        default:\n          break;\n      }\n\n      if (key === 'Delete') {\n        insertDeleteRowColumn.call(this, 'delete-cell-text');\n        evt.preventDefault();\n      } else if ((keyCode >= 65 && keyCode <= 90)\n        || (keyCode >= 48 && keyCode <= 57)\n        || (keyCode >= 96 && keyCode <= 105)\n        || evt.key === '='\n      ) {\n        dataSetCellText.call(this, evt.key, 'input');\n        editorSet.call(this);\n      } else if (keyCode === 113) {\n        // F2\n        editorSet.call(this);\n      }\n    }\n  });\n}\n\nexport default class Sheet {\n  constructor(targetEl, data) {\n    this.eventMap = createEventEmitter();\n    const { view, showToolbar, showContextmenu } = data.settings;\n    this.el = h('div', `${cssPrefix}-sheet`);\n    this.toolbar = new Toolbar(data, view.width, !showToolbar);\n    this.print = new Print(data);\n    targetEl.children(this.toolbar.el, this.el, this.print.el);\n    this.data = data;\n    // table\n    this.tableEl = h('canvas', `${cssPrefix}-table`);\n    // resizer\n    this.rowResizer = new Resizer(false, data.rows.height);\n    this.colResizer = new Resizer(true, data.cols.minWidth);\n    // scrollbar\n    this.verticalScrollbar = new Scrollbar(true);\n    this.horizontalScrollbar = new Scrollbar(false);\n    // editor\n    this.editor = new Editor(\n      formulas,\n      () => this.getTableOffset(),\n      data.rows.height,\n    );\n    // data validation\n    this.modalValidation = new ModalValidation();\n    // contextMenu\n    this.contextMenu = new ContextMenu(() => this.getRect(), !showContextmenu, this.data.settings);\n    // selector\n    this.selector = new Selector(data);\n    this.overlayerCEl = h('div', `${cssPrefix}-overlayer-content`)\n      .children(\n        this.editor.el,\n        this.selector.el,\n      );\n    this.overlayerEl = h('div', `${cssPrefix}-overlayer`)\n      .child(this.overlayerCEl);\n    // sortFilter\n    this.sortFilter = new SortFilter();\n    // root element\n    this.el.children(\n      this.tableEl,\n      this.overlayerEl.el,\n      this.rowResizer.el,\n      this.colResizer.el,\n      this.verticalScrollbar.el,\n      this.horizontalScrollbar.el,\n      this.contextMenu.el,\n      this.modalValidation.el,\n      this.sortFilter.el,\n    );\n    // table\n    this.table = new Table(this.tableEl.el, data);\n    sheetInitEvents.call(this);\n    sheetReset.call(this);\n    // init selector [0, 0]\n    selectorSet.call(this, false, 0, 0);\n  }\n\n  on(eventName, func) {\n    this.eventMap.on(eventName, func);\n    return this;\n  }\n\n  trigger(eventName, ...args) {\n    const { eventMap } = this;\n    eventMap.fire(eventName, args);\n  }\n\n  resetData(data) {\n    // before\n    this.editor.clear();\n    // after\n    this.data = data;\n    verticalScrollbarSet.call(this);\n    horizontalScrollbarSet.call(this);\n    this.toolbar.resetData(data);\n    this.print.resetData(data);\n    this.selector.resetData(data);\n    this.table.resetData(data);\n  }\n\n  loadData(data) {\n    this.data.setData(data);\n    sheetReset.call(this);\n    return this;\n  }\n\n  // freeze rows or cols\n  freeze(ri, ci) {\n    const { data } = this;\n    data.setFreeze(ri, ci);\n    sheetReset.call(this);\n    return this;\n  }\n\n  undo() {\n    this.data.undo();\n    sheetReset.call(this);\n  }\n\n  redo() {\n    this.data.redo();\n    sheetReset.call(this);\n  }\n\n  reload() {\n    sheetReset.call(this);\n    return this;\n  }\n\n  getRect() {\n    const { data } = this;\n    return { width: data.viewWidth(), height: data.viewHeight() };\n  }\n\n  getTableOffset() {\n    const { rows, cols } = this.data;\n    const { width, height } = this.getRect();\n    return {\n      width: width - cols.indexWidth,\n      height: height - rows.height,\n      left: cols.indexWidth,\n      top: rows.height,\n    };\n  }\n}\n","import { CellRange } from './cell_range';\n\nexport default class Selector {\n  constructor() {\n    this.range = new CellRange(0, 0, 0, 0);\n    this.ri = 0;\n    this.ci = 0;\n  }\n\n  multiple() {\n    return this.range.multiple();\n  }\n\n  setIndexes(ri, ci) {\n    this.ri = ri;\n    this.ci = ci;\n  }\n\n  size() {\n    return this.range.size();\n  }\n}\n","export default class Scroll {\n  constructor() {\n    this.x = 0; // left\n    this.y = 0; // top\n    this.ri = 0; // cell row-index\n    this.ci = 0; // cell col-index\n  }\n}\n","// import helper from '../helper';\n\nexport default class History {\n  constructor() {\n    this.undoItems = [];\n    this.redoItems = [];\n  }\n\n  add(data) {\n    this.undoItems.push(JSON.stringify(data));\n    this.redoItems = [];\n  }\n\n  canUndo() {\n    return this.undoItems.length > 0;\n  }\n\n  canRedo() {\n    return this.redoItems.length > 0;\n  }\n\n  undo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canUndo()) {\n      redoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(undoItems.pop()));\n    }\n  }\n\n  redo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canRedo()) {\n      undoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(redoItems.pop()));\n    }\n  }\n}\n","export default class Clipboard {\n  constructor() {\n    this.range = null; // CellRange\n    this.state = 'clear';\n  }\n\n  copy(cellRange) {\n    this.range = cellRange;\n    this.state = 'copy';\n    return this;\n  }\n\n  cut(cellRange) {\n    this.range = cellRange;\n    this.state = 'cut';\n    return this;\n  }\n\n  isCopy() {\n    return this.state === 'copy';\n  }\n\n  isCut() {\n    return this.state === 'cut';\n  }\n\n  isClear() {\n    return this.state === 'clear';\n  }\n\n  clear() {\n    this.range = null;\n    this.state = 'clear';\n  }\n}\n","import { CellRange } from './cell_range';\n// operator: all|eq|neq|gt|gte|lt|lte|in|be\n// value:\n//   in => []\n//   be => [min, max]\nclass Filter {\n  constructor(ci, operator, value) {\n    this.ci = ci;\n    this.operator = operator;\n    this.value = value;\n  }\n\n  set(operator, value) {\n    this.operator = operator;\n    this.value = value;\n  }\n\n  includes(v) {\n    const { operator, value } = this;\n    if (operator === 'all') {\n      return true;\n    }\n    if (operator === 'in') {\n      return value.includes(v);\n    }\n    return false;\n  }\n\n  vlength() {\n    const { operator, value } = this;\n    if (operator === 'in') {\n      return value.length;\n    }\n    return 0;\n  }\n\n  getData() {\n    const { ci, operator, value } = this;\n    return { ci, operator, value };\n  }\n}\n\nclass Sort {\n  constructor(ci, order) {\n    this.ci = ci;\n    this.order = order;\n  }\n\n  asc() {\n    return this.order === 'asc';\n  }\n\n  desc() {\n    return this.order === 'desc';\n  }\n}\n\nexport default class AutoFilter {\n  constructor() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  setData({ ref, filters, sort }) {\n    if (ref != null) {\n      this.ref = ref;\n      this.filters = filters.map(it => new Filter(it.ci, it.operator, it.value));\n      if (sort) {\n        this.sort = new Sort(sort.ci, sort.order);\n      }\n    }\n  }\n\n  getData() {\n    if (this.active()) {\n      const { ref, filters, sort } = this;\n      return { ref, filters: filters.map(it => it.getData()), sort };\n    }\n    return {};\n  }\n\n  addFilter(ci, operator, value) {\n    const filter = this.getFilter(ci);\n    if (filter == null) {\n      this.filters.push(new Filter(ci, operator, value));\n    } else {\n      filter.set(operator, value);\n    }\n  }\n\n  setSort(ci, order) {\n    this.sort = order ? new Sort(ci, order) : null;\n  }\n\n  includes(ri, ci) {\n    if (this.active()) {\n      return this.hrange().includes(ri, ci);\n    }\n    return false;\n  }\n\n  getSort(ci) {\n    const { sort } = this;\n    if (sort && sort.ci === ci) {\n      return sort;\n    }\n    return null;\n  }\n\n  getFilter(ci) {\n    const { filters } = this;\n    for (let i = 0; i < filters.length; i += 1) {\n      if (filters[i].ci === ci) {\n        return filters[i];\n      }\n    }\n    return null;\n  }\n\n  filteredRows(getCell) {\n    // const ary = [];\n    // let lastri = 0;\n    const rset = new Set();\n    const fset = new Set();\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      const { filters } = this;\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        for (let i = 0; i < filters.length; i += 1) {\n          const filter = filters[i];\n          const cell = getCell(ri, filter.ci);\n          const ctext = cell ? cell.text : '';\n          if (!filter.includes(ctext)) {\n            rset.add(ri);\n            break;\n          } else {\n            fset.add(ri);\n          }\n        }\n      }\n    }\n    return { rset, fset };\n  }\n\n  items(ci, getCell) {\n    const m = {};\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        const cell = getCell(ri, ci);\n        if (cell !== null && !/^\\s*$/.test(cell.text)) {\n          const key = cell.text;\n          const cnt = (m[key] || 0) + 1;\n          m[key] = cnt;\n        } else {\n          m[''] = (m[''] || 0) + 1;\n        }\n      }\n    }\n    return m;\n  }\n\n  range() {\n    return CellRange.valueOf(this.ref);\n  }\n\n  hrange() {\n    const r = this.range();\n    r.eri = r.sri;\n    return r;\n  }\n\n  clear() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  active() {\n    return this.ref !== null;\n  }\n}\n","import { CellRange } from './cell_range';\n\nclass Merges {\n  constructor(d = []) {\n    this._ = d;\n  }\n\n  forEach(cb) {\n    this._.forEach(cb);\n  }\n\n  deleteWithin(cr) {\n    this._ = this._.filter(it => !it.within(cr));\n  }\n\n  getFirstIncludes(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.includes(ri, ci)) {\n        return it;\n      }\n    }\n    return null;\n  }\n\n  filterIntersects(cellRange) {\n    return new Merges(this._.filter(it => it.intersects(cellRange)));\n  }\n\n  intersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        // console.log('intersects');\n        return true;\n      }\n    }\n    return false;\n  }\n\n  union(cellRange) {\n    let cr = cellRange;\n    this._.forEach((it) => {\n      if (it.intersects(cr)) {\n        cr = it.union(cr);\n      }\n    });\n    return cr;\n  }\n\n  add(cr) {\n    this.deleteWithin(cr);\n    this._.push(cr);\n  }\n\n  // type: row | column\n  shift(type, index, n, cbWithin) {\n    this._.forEach((cellRange) => {\n      const {\n        sri, sci, eri, eci,\n      } = cellRange;\n      const range = cellRange;\n      if (type === 'row') {\n        if (sri >= index) {\n          range.sri += n;\n          range.eri += n;\n        } else if (sri < index && index <= eri) {\n          range.eri += n;\n          cbWithin(sri, sci, n, 0);\n        }\n      } else if (type === 'column') {\n        if (sci >= index) {\n          range.sci += n;\n          range.eci += n;\n        } else if (sci < index && index <= eci) {\n          range.eci += n;\n          cbWithin(sri, sci, 0, n);\n        }\n      }\n    });\n  }\n\n  move(cellRange, rn, cn) {\n    this._.forEach((it1) => {\n      const it = it1;\n      if (it.within(cellRange)) {\n        it.eri += rn;\n        it.sri += rn;\n        it.sci += cn;\n        it.eci += cn;\n      }\n    });\n  }\n\n  setData(merges) {\n    this._ = merges.map(merge => CellRange.valueOf(merge));\n    return this;\n  }\n\n  getData() {\n    return this._.map(merge => merge.toString());\n  }\n}\n\nexport default {};\nexport {\n  Merges,\n};\n","import helper from './helper';\nimport { expr2expr } from './alphabet';\n\nclass Rows {\n  constructor({ len, height }) {\n    this._ = {};\n    this.len = len;\n    // default row height\n    this.height = height;\n  }\n\n  getHeight(ri) {\n    if (this.isHide(ri)) return 0;\n    const row = this.get(ri);\n    if (row && row.height) {\n      return row.height;\n    }\n    return this.height;\n  }\n\n  setHeight(ri, v) {\n    const row = this.getOrNew(ri);\n    row.height = v;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ri) {\n    const row = this.get(ri);\n    return row && row.hide;\n  }\n\n  setHide(ri, v) {\n    const row = this.getOrNew(ri);\n    if (v === true) row.hide = true;\n    else delete row.hide;\n  }\n\n  setStyle(ri, style) {\n    const row = this.getOrNew(ri);\n    row.style = style;\n  }\n\n  sumHeight(min, max, exceptSet) {\n    return helper.rangeSum(min, max, (i) => {\n      if (exceptSet && exceptSet.has(i)) return 0;\n      return this.getHeight(i);\n    });\n  }\n\n  totalHeight() {\n    return this.sumHeight(0, this.len);\n  }\n\n  get(ri) {\n    return this._[ri];\n  }\n\n  getOrNew(ri) {\n    this._[ri] = this._[ri] || { cells: {} };\n    return this._[ri];\n  }\n\n  getCell(ri, ci) {\n    const row = this.get(ri);\n    if (row !== undefined && row.cells !== undefined && row.cells[ci] !== undefined) {\n      return row.cells[ci];\n    }\n    return null;\n  }\n\n  getCellMerge(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.merge) return cell.merge;\n    return [0, 0];\n  }\n\n  getCellOrNew(ri, ci) {\n    const row = this.getOrNew(ri);\n    row.cells[ci] = row.cells[ci] || {};\n    return row.cells[ci];\n  }\n\n  // what: all | text | format\n  setCell(ri, ci, cell, what = 'all') {\n    const row = this.getOrNew(ri);\n    if (what === 'all') {\n      row.cells[ci] = cell;\n    } else if (what === 'text') {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].text = cell.text;\n    } else if (what === 'format') {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].style = cell.style;\n      if (cell.merge) row.cells[ci].merge = cell.merge;\n    }\n  }\n\n  setCellText(ri, ci, text) {\n    const cell = this.getCellOrNew(ri, ci);\n    if (cell.editable !== false) cell.text = text;\n  }\n\n  // what: all | format | text\n  copyPaste(srcCellRange, dstCellRange, what, autofill = false, cb = () => {}) {\n    const {\n      sri, sci, eri, eci,\n    } = srcCellRange;\n    const dsri = dstCellRange.sri;\n    const dsci = dstCellRange.sci;\n    const deri = dstCellRange.eri;\n    const deci = dstCellRange.eci;\n    const [rn, cn] = srcCellRange.size();\n    const [drn, dcn] = dstCellRange.size();\n\n    // console.log(srcIndexes, dstIndexes);\n    let isAdd = true;\n    let dn = 0;\n    if (deri < sri || deci < sci) {\n      isAdd = false;\n      if (deri < sri) dn = drn;\n      else dn = dcn;\n    }\n\n\n    for (let i = sri; i <= eri; i += 1) {\n      if (this._[i]) {\n        for (let j = sci; j <= eci; j += 1) {\n          if (this._[i].cells && this._[i].cells[j]) {\n            for (let ii = dsri; ii <= deri; ii += rn) {\n              for (let jj = dsci; jj <= deci; jj += cn) {\n\n\n                const nri = ii + (i - sri);\n                const nci = jj + (j - sci);\n\n                const ncell = helper.cloneDeep(this._[i].cells[j]);\n                // ncell.text\n                if (autofill && ncell && ncell.text && ncell.text.length > 0) {\n                  const { text } = ncell;\n                  let n = (jj - dsci) + (ii - dsri) + 2;\n                  if (!isAdd) {\n                    n -= dn + 1;\n                  }\n\n                  console.log(`n: ${n}`);\n\n                  if (text[0] === '=') {\n                    ncell.text = text.replace(/\\$?[a-zA-Z]{1,3}\\$?\\d+/g, (word) => {\n                      let [xn, yn] = [0, 0];\n                      // TODO: handle more cases\n                      // copy paste with more than 1 apart\n                      // dragging selecyion should still work\n                      // we should consider locking ($A$1)\n                      if (sri === dsri) {\n                        // was xn = n - 1 \n                        xn = n - 1 + (dsci-sci)-1;\n                        // xn = dsci - sci;\n                        // if (isAdd) xn -= 1;\n                      } else {\n                        yn = n - 1 + (dsri-sri)-1;\n                        // yn = dsri - sri;\n                      }\n                      if (/^\\d+$/.test(word)) return word;\n                      return expr2expr(word, xn, yn);\n                    });\n                  } else if ((rn <= 1 && cn > 1 && (dsri > eri || deri < sri))\n                    || (cn <= 1 && rn > 1 && (dsci > eci || deci < sci))\n                    || (rn <= 1 && cn <= 1)) {\n                    const result = /[\\\\.\\d]+$/.exec(text);\n                    // console.log('result:', result);\n                    if (result !== null) {\n                      const index = Number(result[0]) + n - 1;\n                      ncell.text = text.substring(0, result.index) + index;\n                    }\n                  }\n                }\n                this.setCell(nri, nci, ncell, what);\n                cb(nri, nci, ncell);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  cutPaste(srcCellRange, dstCellRange) {\n    const ncellmm = {};\n    this.each((ri) => {\n      this.eachCells(ri, (ci) => {\n        let nri = parseInt(ri, 10);\n        let nci = parseInt(ci, 10);\n        if (srcCellRange.includes(ri, ci)) {\n          nri = dstCellRange.sri + (nri - srcCellRange.sri);\n          nci = dstCellRange.sci + (nci - srcCellRange.sci);\n        }\n        ncellmm[nri] = ncellmm[nri] || { cells: {} };\n        ncellmm[nri].cells[nci] = this._[ri].cells[ci];\n      });\n    });\n    this._ = ncellmm;\n  }\n\n  // src: Array<Array<String>>\n  paste(src, dstCellRange) {\n    if (src.length <= 0) return;\n    const { sri, sci } = dstCellRange;\n    src.forEach((row, i) => {\n      const ri = sri + i;\n      row.forEach((cell, j) => {\n        const ci = sci + j;\n        this.setCellText(ri, ci, cell);\n      });\n    });\n  }\n\n  insert(sri, n = 1) {\n    const ndata = {};\n    this.each((ri, row) => {\n      let nri = parseInt(ri, 10);\n      if (nri >= sri) {\n        nri += n;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, 0, n, (x, y) => y >= sri));\n          }\n        });\n      }\n      ndata[nri] = row;\n    });\n    this._ = ndata;\n    this.len += n;\n  }\n\n  delete(sri, eri) {\n    const n = eri - sri + 1;\n    const ndata = {};\n    this.each((ri, row) => {\n      const nri = parseInt(ri, 10);\n      if (nri < sri) {\n        ndata[nri] = row;\n      } else if (ri > eri) {\n        ndata[nri - n] = row;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, 0, -n, (x, y) => y > eri));\n          }\n        });\n      }\n    });\n    this._ = ndata;\n    this.len -= n;\n  }\n\n  insertColumn(sci, n = 1) {\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        let nci = parseInt(ci, 10);\n        if (nci >= sci) {\n          nci += n;\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, n, 0, x => x >= sci));\n          }\n        }\n        rndata[nci] = cell;\n      });\n      row.cells = rndata;\n    });\n  }\n\n  deleteColumn(sci, eci) {\n    const n = eci - sci + 1;\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        const nci = parseInt(ci, 10);\n        if (nci < sci) {\n          rndata[nci] = cell;\n        } else if (nci > eci) {\n          rndata[nci - n] = cell;\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, -n, 0, x => x > eci));\n          }\n        }\n      });\n      row.cells = rndata;\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCells(cellRange, what = 'all') {\n    cellRange.each((i, j) => {\n      this.deleteCell(i, j, what);\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCell(ri, ci, what = 'all') {\n    const row = this.get(ri);\n    if (row !== null) {\n      const cell = this.getCell(ri, ci);\n      if (cell !== null && cell.editable !== false) {\n        if (what === 'all') {\n          delete row.cells[ci];\n        } else if (what === 'text') {\n          if (cell.text) delete cell.text;\n          if (cell.value) delete cell.value;\n        } else if (what === 'format') {\n          if (cell.style !== undefined) delete cell.style;\n          if (cell.merge) delete cell.merge;\n        } else if (what === 'merge') {\n          if (cell.merge) delete cell.merge;\n        }\n      }\n    }\n  }\n\n  maxCell() {\n    const keys = Object.keys(this._);\n    const ri = keys[keys.length - 1];\n    const col = this._[ri];\n    if (col) {\n      const { cells } = col;\n      const ks = Object.keys(cells);\n      const ci = ks[ks.length - 1];\n      return [parseInt(ri, 10), parseInt(ci, 10)];\n    }\n    return [0, 0];\n  }\n\n  each(cb) {\n    Object.entries(this._).forEach(([ri, row]) => {\n      cb(ri, row);\n    });\n  }\n\n  eachCells(ri, cb) {\n    if (this._[ri] && this._[ri].cells) {\n      Object.entries(this._[ri].cells).forEach(([ci, cell]) => {\n        cb(ci, cell);\n      });\n    }\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n}\n\nexport default {};\nexport {\n  Rows,\n};\n","import helper from './helper';\n\nclass Cols {\n  constructor({\n    len, width, indexWidth, minWidth,\n  }) {\n    this._ = {};\n    this.len = len;\n    this.width = width;\n    this.indexWidth = indexWidth;\n    this.minWidth = minWidth;\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n\n  getWidth(i) {\n    if (this.isHide(i)) return 0;\n    const col = this._[i];\n    if (col && col.width) {\n      return col.width;\n    }\n    return this.width;\n  }\n\n  getOrNew(ci) {\n    this._[ci] = this._[ci] || {};\n    return this._[ci];\n  }\n\n  setWidth(ci, width) {\n    const col = this.getOrNew(ci);\n    col.width = width;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ci) {\n    const col = this._[ci];\n    return col && col.hide;\n  }\n\n  setHide(ci, v) {\n    const col = this.getOrNew(ci);\n    if (v === true) col.hide = true;\n    else delete col.hide;\n  }\n\n  setStyle(ci, style) {\n    const col = this.getOrNew(ci);\n    col.style = style;\n  }\n\n  sumWidth(min, max) {\n    return helper.rangeSum(min, max, i => this.getWidth(i));\n  }\n\n  totalWidth() {\n    return this.sumWidth(0, this.len);\n  }\n}\n\nexport default {};\nexport {\n  Cols,\n};\n","import { t } from '../locale/locale';\nimport helper from './helper';\n\nconst rules = {\n  phone: /^[1-9]\\d{10}$/,\n  email: /w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/,\n};\n\nfunction returnMessage(flag, key, ...arg) {\n  let message = '';\n  if (!flag) {\n    message = t(`validation.${key}`, ...arg);\n  }\n  return [flag, message];\n}\n\nexport default class Validator {\n  // operator: b|nb|eq|neq|lt|lte|gt|gte\n  // type: date|number|list|phone|email\n  constructor(type, required, value, operator) {\n    this.required = required;\n    this.value = value;\n    this.type = type;\n    this.operator = operator;\n    this.message = '';\n  }\n\n  parseValue(v) {\n    const { type } = this;\n    if (type === 'date') {\n      return new Date(v);\n    }\n    if (type === 'number') {\n      return Number(v);\n    }\n    return v;\n  }\n\n  equals(other) {\n    let flag = this.type === other.type\n      && this.required === other.required\n      && this.operator === other.operator;\n    if (flag) {\n      if (Array.isArray(this.value)) {\n        flag = helper.arrayEquals(this.value, other.value);\n      } else {\n        flag = this.value === other.value;\n      }\n    }\n    return flag;\n  }\n\n  values() {\n    return this.value.split(',');\n  }\n\n  validate(v) {\n    const {\n      required, operator, value, type,\n    } = this;\n    if (required && /^\\s*$/.test(v)) {\n      return returnMessage(false, 'required');\n    }\n    if (/^\\s*$/.test(v)) return [true];\n    if (rules[type] && !rules[type].test(v)) {\n      return returnMessage(false, 'notMatch');\n    }\n    if (type === 'list') {\n      return returnMessage(this.values().includes(v), 'notIn');\n    }\n    if (operator) {\n      const v1 = this.parseValue(v);\n      if (operator === 'be') {\n        const [min, max] = value;\n        return returnMessage(\n          v1 >= this.parseValue(min) && v1 <= this.parseValue(max),\n          'between',\n          min,\n          max,\n        );\n      }\n      if (operator === 'nbe') {\n        const [min, max] = value;\n        return returnMessage(\n          v1 < this.parseValue(min) || v1 > this.parseValue(max),\n          'notBetween',\n          min,\n          max,\n        );\n      }\n      if (operator === 'eq') {\n        return returnMessage(\n          v1 === this.parseValue(value),\n          'equal',\n          value,\n        );\n      }\n      if (operator === 'neq') {\n        return returnMessage(\n          v1 !== this.parseValue(value),\n          'notEqual',\n          value,\n        );\n      }\n      if (operator === 'lt') {\n        return returnMessage(\n          v1 < this.parseValue(value),\n          'lessThan',\n          value,\n        );\n      }\n      if (operator === 'lte') {\n        return returnMessage(\n          v1 <= this.parseValue(value),\n          'lessThanEqual',\n          value,\n        );\n      }\n      if (operator === 'gt') {\n        return returnMessage(\n          v1 > this.parseValue(value),\n          'greaterThan',\n          value,\n        );\n      }\n      if (operator === 'gte') {\n        return returnMessage(\n          v1 >= this.parseValue(value),\n          'greaterThanEqual',\n          value,\n        );\n      }\n    }\n    return [true];\n  }\n}\n","import Validator from './validator';\nimport { CellRange } from './cell_range';\n\nclass Validation {\n  constructor(mode, refs, validator) {\n    this.refs = refs;\n    this.mode = mode; // cell\n    this.validator = validator;\n  }\n\n  includes(ri, ci) {\n    const { refs } = this;\n    for (let i = 0; i < refs.length; i += 1) {\n      const cr = CellRange.valueOf(refs[i]);\n      if (cr.includes(ri, ci)) return true;\n    }\n    return false;\n  }\n\n  addRef(ref) {\n    this.remove(CellRange.valueOf(ref));\n    this.refs.push(ref);\n  }\n\n  remove(cellRange) {\n    const nrefs = [];\n    this.refs.forEach((it) => {\n      const cr = CellRange.valueOf(it);\n      if (cr.intersects(cellRange)) {\n        const crs = cr.difference(cellRange);\n        crs.forEach(it1 => nrefs.push(it1.toString()));\n      } else {\n        nrefs.push(it);\n      }\n    });\n    this.refs = nrefs;\n  }\n\n  getData() {\n    const { refs, mode, validator } = this;\n    const {\n      type, required, operator, value,\n    } = validator;\n    return {\n      refs, mode, type, required, operator, value,\n    };\n  }\n\n  static valueOf({\n    refs, mode, type, required, operator, value,\n  }) {\n    return new Validation(mode, refs, new Validator(type, required, value, operator));\n  }\n}\nclass Validations {\n  constructor() {\n    this._ = [];\n    // ri_ci: errMessage\n    this.errors = new Map();\n  }\n\n  getError(ri, ci) {\n    return this.errors.get(`${ri}_${ci}`);\n  }\n\n  validate(ri, ci, text) {\n    const v = this.get(ri, ci);\n    const key = `${ri}_${ci}`;\n    const { errors } = this;\n    if (v !== null) {\n      const [flag, message] = v.validator.validate(text);\n      if (!flag) {\n        errors.set(key, message);\n      } else {\n        errors.delete(key);\n      }\n    } else {\n      errors.delete(key);\n    }\n    return true;\n  }\n\n  // type: date|number|phone|email|list\n  // validator: { required, value, operator }\n  add(mode, ref, {\n    type, required, value, operator,\n  }) {\n    const validator = new Validator(\n      type, required, value, operator,\n    );\n    const v = this.getByValidator(validator);\n    if (v !== null) {\n      v.addRef(ref);\n    } else {\n      this._.push(new Validation(mode, [ref], validator));\n    }\n  }\n\n  getByValidator(validator) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.validator.equals(validator)) {\n        return v;\n      }\n    }\n    return null;\n  }\n\n  get(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.includes(ri, ci)) return v;\n    }\n    return null;\n  }\n\n  remove(cellRange) {\n    this.each((it) => {\n      it.remove(cellRange);\n    });\n  }\n\n  each(cb) {\n    this._.forEach(it => cb(it));\n  }\n\n  getData() {\n    return this._.filter(it => it.refs.length > 0).map(it => it.getData());\n  }\n\n  setData(d) {\n    this._ = d.map(it => Validation.valueOf(it));\n  }\n}\n\nexport default {};\nexport {\n  Validations,\n};\n","/* global document */\n\nimport Selector from './selector';\nimport Scroll from './scroll';\nimport History from './history';\nimport Clipboard from './clipboard';\nimport AutoFilter from './auto_filter';\nimport { Merges } from './merge';\nimport helper from './helper';\nimport { Rows } from './row';\nimport { Cols } from './col';\nimport { Validations } from './validation';\nimport { CellRange } from './cell_range';\nimport { expr2xy, xy2expr } from './alphabet';\nimport { t } from '../locale/locale';\n\n// private methods\n/*\n * {\n *  name: ''\n *  freeze: [0, 0],\n *  formats: [],\n *  styles: [\n *    {\n *      bgcolor: '',\n *      align: '',\n *      valign: '',\n *      textwrap: false,\n *      strike: false,\n *      underline: false,\n *      color: '',\n *      format: 1,\n *      border: {\n *        left: [style, color],\n *        right: [style, color],\n *        top: [style, color],\n *        bottom: [style, color],\n *      },\n *      font: {\n *        name: 'Helvetica',\n *        size: 10,\n *        bold: false,\n *        italic: false,\n *      }\n *    }\n *  ],\n *  merges: [\n *    'A1:F11',\n *    ...\n *  ],\n *  rows: {\n *    1: {\n *      height: 50,\n *      style: 1,\n *      cells: {\n *        1: {\n *          style: 2,\n *          type: 'string',\n *          text: '',\n *          value: '', // cal result\n *        }\n *      }\n *    },\n *    ...\n *  },\n *  cols: {\n *    2: { width: 100, style: 1 }\n *  }\n * }\n */\nconst defaultSettings = {\n  mode: 'edit', // edit | read\n  view: {\n    height: () => document.documentElement.clientHeight,\n    width: () => document.documentElement.clientWidth,\n  },\n  showGrid: true,\n  showToolbar: true,\n  showContextmenu: true,\n  showBottomBar: true,\n  autoFillOnCopy: false,\n  row: {\n    len: 100,\n    height: 25,\n  },\n  col: {\n    len: 26,\n    width: 100,\n    indexWidth: 60,\n    minWidth: 60,\n  },\n  style: {\n    bgcolor: '#ffffff',\n    align: 'left',\n    valign: 'middle',\n    textwrap: false,\n    strike: false,\n    underline: false,\n    color: '#0a0a0a',\n    font: {\n      name: 'Arial',\n      size: 10,\n      bold: false,\n      italic: false,\n    },\n    format: '',\n    dateFormat: 'mm/dd/yyyy',\n  },\n};\n\nconst toolbarHeight = 41;\nconst bottombarHeight = 41;\n\n// src: cellRange\n// dst: cellRange\nfunction canPaste(src, dst, error = () => {}) {\n  const { merges } = this;\n  const cellRange = dst.clone();\n  const [srn, scn] = src.size();\n  const [drn, dcn] = dst.size();\n  if (srn > drn) {\n    cellRange.eri = dst.sri + srn - 1;\n  }\n  if (scn > dcn) {\n    cellRange.eci = dst.sci + scn - 1;\n  }\n  if (merges.intersects(cellRange)) {\n    error(t('error.pasteForMergedCell'));\n    return false;\n  }\n  return true;\n}\nfunction copyPaste(srcCellRange, dstCellRange, what, autofill = false) {\n  const { rows, merges } = this;\n  // delete dest merge\n  if (what === 'all' || what === 'format') {\n    rows.deleteCells(dstCellRange, what);\n    merges.deleteWithin(dstCellRange);\n  }\n  rows.copyPaste(srcCellRange, dstCellRange, what, autofill, (ri, ci, cell) => {\n    if (cell && cell.merge) {\n      // console.log('cell:', ri, ci, cell);\n      const [rn, cn] = cell.merge;\n      if (rn <= 0 && cn <= 0) return;\n      merges.add(new CellRange(ri, ci, ri + rn, ci + cn));\n    }\n  });\n}\n\nfunction cutPaste(srcCellRange, dstCellRange) {\n  const { clipboard, rows, merges } = this;\n  rows.cutPaste(srcCellRange, dstCellRange);\n  merges.move(srcCellRange,\n    dstCellRange.sri - srcCellRange.sri,\n    dstCellRange.sci - srcCellRange.sci);\n  clipboard.clear();\n}\n\n// bss: { top, bottom, left, right }\nfunction setStyleBorder(ri, ci, bss) {\n  const { styles, rows } = this;\n  const cell = rows.getCellOrNew(ri, ci);\n  let cstyle = {};\n  if (cell.style !== undefined) {\n    cstyle = helper.cloneDeep(styles[cell.style]);\n  }\n  cstyle = helper.merge(cstyle, { border: bss });\n  cell.style = this.addStyle(cstyle);\n}\n\nfunction setStyleBorders({ mode, style, color }) {\n  const { styles, selector, rows } = this;\n  const {\n    sri, sci, eri, eci,\n  } = selector.range;\n  const multiple = !this.isSingleSelected();\n  if (!multiple) {\n    if (mode === 'inside' || mode === 'horizontal' || mode === 'vertical') {\n      return;\n    }\n  }\n  if (mode === 'outside' && !multiple) {\n    setStyleBorder.call(this, sri, sci, {\n      top: [style, color], bottom: [style, color], left: [style, color], right: [style, color],\n    });\n  } else if (mode === 'none') {\n    selector.range.each((ri, ci) => {\n      const cell = rows.getCell(ri, ci);\n      if (cell && cell.style !== undefined) {\n        const ns = helper.cloneDeep(styles[cell.style]);\n        delete ns.border;\n        // ['bottom', 'top', 'left', 'right'].forEach((prop) => {\n        //   if (ns[prop]) delete ns[prop];\n        // });\n        cell.style = this.addStyle(ns);\n      }\n    });\n  } else if (mode === 'all' || mode === 'inside' || mode === 'outside'\n    || mode === 'horizontal' || mode === 'vertical') {\n    const merges = [];\n    for (let ri = sri; ri <= eri; ri += 1) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        // jump merges -- start\n        const mergeIndexes = [];\n        for (let ii = 0; ii < merges.length; ii += 1) {\n          const [mri, mci, rn, cn] = merges[ii];\n          if (ri === mri + rn + 1) mergeIndexes.push(ii);\n          if (mri <= ri && ri <= mri + rn) {\n            if (ci === mci) {\n              ci += cn + 1;\n              break;\n            }\n          }\n        }\n        mergeIndexes.forEach(it => merges.splice(it, 1));\n        if (ci > eci) break;\n        // jump merges -- end\n        const cell = rows.getCell(ri, ci);\n        let [rn, cn] = [0, 0];\n        if (cell && cell.merge) {\n          [rn, cn] = cell.merge;\n          merges.push([ri, ci, rn, cn]);\n        }\n        const mrl = rn > 0 && ri + rn === eri;\n        const mcl = cn > 0 && ci + cn === eci;\n        let bss = {};\n        if (mode === 'all') {\n          bss = {\n            bottom: [style, color],\n            top: [style, color],\n            left: [style, color],\n            right: [style, color],\n          };\n        } else if (mode === 'inside') {\n          if (!mcl && ci < eci) bss.right = [style, color];\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === 'horizontal') {\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === 'vertical') {\n          if (!mcl && ci < eci) bss.right = [style, color];\n        } else if (mode === 'outside' && multiple) {\n          if (sri === ri) bss.top = [style, color];\n          if (mrl || eri === ri) bss.bottom = [style, color];\n          if (sci === ci) bss.left = [style, color];\n          if (mcl || eci === ci) bss.right = [style, color];\n        }\n        if (Object.keys(bss).length > 0) {\n          setStyleBorder.call(this, ri, ci, bss);\n        }\n        ci += cn;\n      }\n    }\n  } else if (mode === 'top' || mode === 'bottom') {\n    for (let ci = sci; ci <= eci; ci += 1) {\n      if (mode === 'top') {\n        setStyleBorder.call(this, sri, ci, { top: [style, color] });\n        ci += rows.getCellMerge(sri, ci)[1];\n      }\n      if (mode === 'bottom') {\n        setStyleBorder.call(this, eri, ci, { bottom: [style, color] });\n        ci += rows.getCellMerge(eri, ci)[1];\n      }\n    }\n  } else if (mode === 'left' || mode === 'right') {\n    for (let ri = sri; ri <= eri; ri += 1) {\n      if (mode === 'left') {\n        setStyleBorder.call(this, ri, sci, { left: [style, color] });\n        ri += rows.getCellMerge(ri, sci)[0];\n      }\n      if (mode === 'right') {\n        setStyleBorder.call(this, ri, eci, { right: [style, color] });\n        ri += rows.getCellMerge(ri, eci)[0];\n      }\n    }\n  }\n}\n\nfunction getCellRowByY(y, scrollOffsety) {\n  const { rows } = this;\n  const fsh = this.freezeTotalHeight();\n  // console.log('y:', y, ', fsh:', fsh);\n  let inits = rows.height;\n  if (fsh + rows.height < y) inits -= scrollOffsety;\n\n  // handle ri in autofilter\n  const frset = this.exceptRowSet;\n\n  let ri = 0;\n  let top = inits;\n  let { height } = rows;\n  for (; ri < rows.len; ri += 1) {\n    if (top > y) break;\n    if (!frset.has(ri)) {\n      height = rows.getHeight(ri);\n      top += height;\n    }\n  }\n  top -= height;\n  // console.log('ri:', ri, ', top:', top, ', height:', height);\n\n  if (top <= 0) {\n    return { ri: -1, top: 0, height };\n  }\n\n  return { ri: ri - 1, top, height };\n}\n\nfunction getCellColByX(x, scrollOffsetx) {\n  const { cols } = this;\n  const fsw = this.freezeTotalWidth();\n  let inits = cols.indexWidth;\n  if (fsw + cols.indexWidth < x) inits -= scrollOffsetx;\n  const [ci, left, width] = helper.rangeReduceIf(\n    0,\n    cols.len,\n    inits,\n    cols.indexWidth,\n    x,\n    i => cols.getWidth(i),\n  );\n  if (left <= 0) {\n    return { ci: -1, left: 0, width: cols.indexWidth };\n  }\n  return { ci: ci - 1, left, width };\n}\n\nexport default class DataProxy {\n  constructor(name, settings) {\n    this.settings = helper.merge(defaultSettings, settings || {});\n    // save data begin\n    this.name = name || 'sheet';\n    this.freeze = [0, 0];\n    this.styles = []; // Array<Style>\n    this.merges = new Merges(); // [CellRange, ...]\n    this.rows = new Rows(this.settings.row);\n    this.cols = new Cols(this.settings.col);\n    this.validations = new Validations();\n    this.hyperlinks = {};\n    this.comments = {};\n    // save data end\n\n    // don't save object\n    this.selector = new Selector();\n    this.scroll = new Scroll();\n    this.history = new History();\n    this.clipboard = new Clipboard();\n    this.autoFilter = new AutoFilter();\n    this.change = () => {};\n    this.exceptRowSet = new Set();\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n  }\n\n  addValidation(mode, ref, validator) {\n    // console.log('mode:', mode, ', ref:', ref, ', validator:', validator);\n    this.changeData(() => {\n      this.validations.add(mode, ref, validator);\n    });\n  }\n\n  removeValidation() {\n    const { range } = this.selector;\n    this.changeData(() => {\n      this.validations.remove(range);\n    });\n  }\n\n  getSelectedValidator() {\n    const { ri, ci } = this.selector;\n    const v = this.validations.get(ri, ci);\n    return v ? v.validator : null;\n  }\n\n  getSelectedValidation() {\n    const { ri, ci, range } = this.selector;\n    const v = this.validations.get(ri, ci);\n    const ret = { ref: range.toString() };\n    if (v !== null) {\n      ret.mode = v.mode;\n      ret.validator = v.validator;\n    }\n    return ret;\n  }\n\n  canUndo() {\n    return this.history.canUndo();\n  }\n\n  canRedo() {\n    return this.history.canRedo();\n  }\n\n  undo() {\n    this.history.undo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  redo() {\n    this.history.redo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  copy() {\n    this.clipboard.copy(this.selector.range);\n  }\n\n  copyToSystemClipboard(evt) {\n    let copyText = [];\n    const {\n      sri, eri, sci, eci,\n    } = this.selector.range;\n\n    for (let ri = sri; ri <= eri; ri += 1) {\n      const row = [];\n      for (let ci = sci; ci <= eci; ci += 1) {\n        const cell = this.getCell(ri, ci);\n        row.push((cell && cell.text) || '');\n      }\n      copyText.push(row);\n    }\n\n    // Adding \\n and why not adding \\r\\n is to support online office and client MS office and WPS\n    copyText = copyText.map(row => row.join('\\t')).join('\\n');\n\n    // why used this\n    // cuz http protocol will be blocked request clipboard by browser\n    if (evt) {\n      evt.clipboardData.clearData();\n      evt.clipboardData.setData('text/plain', copyText);\n      evt.preventDefault();\n    }\n\n    // this need https protocol\n    /* global navigator */\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(copyText).then(() => {}, (err) => {\n        console.log('text copy to the system clipboard error  ', copyText, err);\n      });\n    }\n  }\n\n  cut() {\n    this.clipboard.cut(this.selector.range);\n  }\n\n  // what: all | text | format\n  paste(what = 'all', error = () => {}) {\n    // console.log('sIndexes:', sIndexes);\n    const { clipboard, selector } = this;\n    if (clipboard.isClear()) return false;\n    if (!canPaste.call(this, clipboard.range, selector.range, error)) return false;\n\n    this.changeData(() => {\n      if (clipboard.isCopy()) {\n        copyPaste.call(this, clipboard.range, selector.range, what, this.settings.autoFillOnCopy);\n      } else if (clipboard.isCut()) {\n        cutPaste.call(this, clipboard.range, selector.range);\n      }\n    });\n    return true;\n  }\n\n  pasteFromSystemClipboard(resetSheet, eventTrigger) {\n    const { selector } = this;\n    navigator.clipboard.readText().then((content) => {\n      const contentToPaste = this.parseClipboardContent(content);\n      let startRow = selector.ri;\n      contentToPaste.forEach((row) => {\n        let startColumn = selector.ci;\n        row.forEach((cellContent) => {\n          this.setCellText(startRow, startColumn, cellContent, 'input');\n          startColumn += 1;\n        });\n        startRow += 1;\n      });\n      resetSheet();\n      eventTrigger(this.rows.getData());\n    });\n  }\n\n  parseClipboardContent(clipboardContent) {\n    const parsedData = [];\n\n    // first we need to figure out how many rows we need to paste\n    const rows = clipboardContent.split('\\n');\n\n    // for each row parse cell data\n    let i = 0;\n    rows.forEach((row) => {\n      parsedData[i] = row.split('\\t');\n      i += 1;\n    });\n    return parsedData;\n  }\n\n  pasteFromText(txt) {\n    let lines = [];\n\n    if (/\\r\\n/.test(txt)) lines = txt.split('\\r\\n').map(it => it.replace(/\"/g, '').split('\\t'));\n    else lines = txt.split('\\n').map(it => it.replace(/\"/g, '').split('\\t'));\n\n    if (lines.length) {\n      const { rows, selector } = this;\n\n      this.changeData(() => {\n        rows.paste(lines, selector.range);\n      });\n    }\n  }\n\n  autofill(cellRange, what, error = () => {}) {\n    const srcRange = this.selector.range;\n    if (!canPaste.call(this, srcRange, cellRange, error)) return false;\n    this.changeData(() => {\n      copyPaste.call(this, srcRange, cellRange, what, true);\n    });\n    return true;\n  }\n\n  clearClipboard() {\n    this.clipboard.clear();\n  }\n\n  calSelectedRangeByEnd(ri, ci) {\n    const {\n      selector, rows, cols, merges,\n    } = this;\n    let {\n      sri, sci, eri, eci,\n    } = selector.range;\n    const cri = selector.ri;\n    const cci = selector.ci;\n    let [nri, nci] = [ri, ci];\n    if (ri < 0) nri = rows.len - 1;\n    if (ci < 0) nci = cols.len - 1;\n    if (nri > cri) [sri, eri] = [cri, nri];\n    else [sri, eri] = [nri, cri];\n    if (nci > cci) [sci, eci] = [cci, nci];\n    else [sci, eci] = [nci, cci];\n    selector.range = merges.union(new CellRange(\n      sri, sci, eri, eci,\n    ));\n    selector.range = merges.union(selector.range);\n    // console.log('selector.range:', selector.range);\n    return selector.range;\n  }\n\n  calSelectedRangeByStart(ri, ci) {\n    const {\n      selector, rows, cols, merges,\n    } = this;\n    let cellRange = merges.getFirstIncludes(ri, ci);\n    // console.log('cellRange:', cellRange, ri, ci, merges);\n    if (cellRange === null) {\n      cellRange = new CellRange(ri, ci, ri, ci);\n      if (ri === -1) {\n        cellRange.sri = 0;\n        cellRange.eri = rows.len - 1;\n      }\n      if (ci === -1) {\n        cellRange.sci = 0;\n        cellRange.eci = cols.len - 1;\n      }\n    }\n    selector.range = cellRange;\n    return cellRange;\n  }\n\n  setSelectedCellAttr(property, value) {\n    this.changeData(() => {\n      const { selector, styles, rows } = this;\n      if (property === 'merge') {\n        if (value) this.merge();\n        else this.unmerge();\n      } else if (property === 'border') {\n        setStyleBorders.call(this, value);\n      } else if (property === 'formula') {\n        // console.log('>>>', selector.multiple());\n        const { ri, ci, range } = selector;\n        if (selector.multiple()) {\n          const [rn, cn] = selector.size();\n          const {\n            sri, sci, eri, eci,\n          } = range;\n          if (rn > 1) {\n            for (let i = sci; i <= eci; i += 1) {\n              const cell = rows.getCellOrNew(eri + 1, i);\n              cell.text = `=${value}(${xy2expr(i, sri)}:${xy2expr(i, eri)})`;\n            }\n          } else if (cn > 1) {\n            const cell = rows.getCellOrNew(ri, eci + 1);\n            cell.text = `=${value}(${xy2expr(sci, ri)}:${xy2expr(eci, ri)})`;\n          }\n        } else {\n          const cell = rows.getCellOrNew(ri, ci);\n          cell.text = `=${value}()`;\n        }\n      } else {\n        selector.range.each((ri, ci) => {\n          const cell = rows.getCellOrNew(ri, ci);\n          let cstyle = {};\n          if (cell.style !== undefined) {\n            cstyle = helper.cloneDeep(styles[cell.style]);\n          }\n          if (property === 'format') {\n            cstyle.format = value;\n            cell.style = this.addStyle(cstyle);\n          } else if (property === 'font-bold' || property === 'font-italic'\n            || property === 'font-name' || property === 'font-size') {\n            const nfont = {};\n            nfont[property.split('-')[1]] = value;\n            cstyle.font = Object.assign(cstyle.font || {}, nfont);\n            cell.style = this.addStyle(cstyle);\n          } else if (property === 'strike' || property === 'textwrap'\n            || property === 'underline'\n            || property === 'align' || property === 'valign'\n            || property === 'color' || property === 'bgcolor') {\n            cstyle[property] = value;\n            cell.style = this.addStyle(cstyle);\n          } else {\n            cell[property] = value;\n          }\n        });\n      }\n    });\n  }\n\n  // state: input | finished\n  setSelectedCellText(text, state = 'input') {\n    const { autoFilter, selector, rows } = this;\n    const { ri, ci } = selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    const oldCell = rows.getCell(nri, ci);\n    const oldText = oldCell ? oldCell.text : '';\n    this.setCellText(nri, ci, text, state);\n    // replace filter.value\n    if (autoFilter.active()) {\n      const filter = autoFilter.getFilter(ci);\n      if (filter) {\n        const vIndex = filter.value.findIndex(v => v === oldText);\n        if (vIndex >= 0) {\n          filter.value.splice(vIndex, 1, text);\n        }\n        // console.log('filter:', filter, oldCell);\n      }\n    }\n    // this.resetAutoFilter();\n  }\n\n  getSelectedCell() {\n    const { ri, ci } = this.selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    return this.rows.getCell(nri, ci);\n  }\n\n  xyInSelectedRect(x, y) {\n    const {\n      left, top, width, height,\n    } = this.getSelectedRect();\n    const x1 = x - this.cols.indexWidth;\n    const y1 = y - this.rows.height;\n    // console.log('x:', x, ',y:', y, 'left:', left, 'top:', top);\n    return x1 > left && x1 < (left + width)\n      && y1 > top && y1 < (top + height);\n  }\n\n  getSelectedRect() {\n    return this.getRect(this.selector.range);\n  }\n\n  getClipboardRect() {\n    const { clipboard } = this;\n    if (!clipboard.isClear()) {\n      return this.getRect(clipboard.range);\n    }\n    return { left: -100, top: -100 };\n  }\n\n  getRect(cellRange) {\n    const {\n      scroll, rows, cols, exceptRowSet,\n    } = this;\n    const {\n      sri, sci, eri, eci,\n    } = cellRange;\n    // console.log('sri:', sri, ',sci:', sci, ', eri:', eri, ', eci:', eci);\n    // no selector\n    if (sri < 0 && sci < 0) {\n      return {\n        left: 0, l: 0, top: 0, t: 0, scroll,\n      };\n    }\n    const left = cols.sumWidth(0, sci);\n    const top = rows.sumHeight(0, sri, exceptRowSet);\n    const height = rows.sumHeight(sri, eri + 1, exceptRowSet);\n    const width = cols.sumWidth(sci, eci + 1);\n    // console.log('sri:', sri, ', sci:', sci, ', eri:', eri, ', eci:', eci);\n    let left0 = left - scroll.x;\n    let top0 = top - scroll.y;\n    const fsh = this.freezeTotalHeight();\n    const fsw = this.freezeTotalWidth();\n    if (fsw > 0 && fsw > left) {\n      left0 = left;\n    }\n    if (fsh > 0 && fsh > top) {\n      top0 = top;\n    }\n    return {\n      l: left,\n      t: top,\n      left: left0,\n      top: top0,\n      height,\n      width,\n      scroll,\n    };\n  }\n\n  getCellRectByXY(x, y) {\n    const {\n      scroll, merges, rows, cols,\n    } = this;\n    let { ri, top, height } = getCellRowByY.call(this, y, scroll.y);\n    let { ci, left, width } = getCellColByX.call(this, x, scroll.x);\n    if (ci === -1) {\n      width = cols.totalWidth();\n    }\n    if (ri === -1) {\n      height = rows.totalHeight();\n    }\n    if (ri >= 0 || ci >= 0) {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        ri = merge.sri;\n        ci = merge.sci;\n        ({\n          left, top, width, height,\n        } = this.cellRect(ri, ci));\n      }\n    }\n    return {\n      ri, ci, left, top, width, height,\n    };\n  }\n\n  isSingleSelected() {\n    const {\n      sri, sci, eri, eci,\n    } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return !this.selector.multiple();\n  }\n\n  canUnmerge() {\n    const {\n      sri, sci, eri, eci,\n    } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return false;\n  }\n\n  merge() {\n    const { selector, rows } = this;\n    if (this.isSingleSelected()) return;\n    const [rn, cn] = selector.size();\n    // console.log('merge:', rn, cn);\n    if (rn > 1 || cn > 1) {\n      const { sri, sci } = selector.range;\n      this.changeData(() => {\n        const cell = rows.getCellOrNew(sri, sci);\n        cell.merge = [rn - 1, cn - 1];\n        this.merges.add(selector.range);\n        // delete merge cells\n        this.rows.deleteCells(selector.range);\n        // console.log('cell:', cell, this.d);\n        this.rows.setCell(sri, sci, cell);\n      });\n    }\n  }\n\n  unmerge() {\n    const { selector } = this;\n    if (!this.isSingleSelected()) return;\n    const { sri, sci } = selector.range;\n    this.changeData(() => {\n      this.rows.deleteCell(sri, sci, 'merge');\n      this.merges.deleteWithin(selector.range);\n    });\n  }\n\n  canAutofilter() {\n    return !this.autoFilter.active();\n  }\n\n  autofilter() {\n    const { autoFilter, selector } = this;\n    this.changeData(() => {\n      if (autoFilter.active()) {\n        autoFilter.clear();\n        this.exceptRowSet = new Set();\n        this.sortedRowMap = new Map();\n        this.unsortedRowMap = new Map();\n      } else {\n        autoFilter.ref = selector.range.toString();\n      }\n    });\n  }\n\n  setAutoFilter(ci, order, operator, value) {\n    const { autoFilter } = this;\n    autoFilter.addFilter(ci, operator, value);\n    autoFilter.setSort(ci, order);\n    this.resetAutoFilter();\n  }\n\n  resetAutoFilter() {\n    const { autoFilter, rows } = this;\n    if (!autoFilter.active()) return;\n    const { sort } = autoFilter;\n    const { rset, fset } = autoFilter.filteredRows((r, c) => rows.getCell(r, c));\n    const fary = Array.from(fset);\n    const oldAry = Array.from(fset);\n    if (sort) {\n      fary.sort((a, b) => {\n        if (sort.order === 'asc') return a - b;\n        if (sort.order === 'desc') return b - a;\n        return 0;\n      });\n    }\n    this.exceptRowSet = rset;\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n    fary.forEach((it, index) => {\n      this.sortedRowMap.set(oldAry[index], it);\n      this.unsortedRowMap.set(it, oldAry[index]);\n    });\n  }\n\n  deleteCell(what = 'all') {\n    const { selector } = this;\n    this.changeData(() => {\n      this.rows.deleteCells(selector.range, what);\n      if (what === 'all' || what === 'format') {\n        this.merges.deleteWithin(selector.range);\n      }\n    });\n  }\n\n  // type: row | column\n  insert(type, n = 1) {\n    this.changeData(() => {\n      const { sri, sci } = this.selector.range;\n      const { rows, merges, cols } = this;\n      let si = sri;\n      if (type === 'row') {\n        rows.insert(sri, n);\n      } else if (type === 'column') {\n        rows.insertColumn(sci, n);\n        si = sci;\n        cols.len += 1;\n      }\n      merges.shift(type, si, n, (ri, ci, rn, cn) => {\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n      });\n    });\n  }\n\n  // type: row | column\n  delete(type) {\n    this.changeData(() => {\n      const {\n        rows, merges, selector, cols,\n      } = this;\n      const { range } = selector;\n      const {\n        sri, sci, eri, eci,\n      } = selector.range;\n      const [rsize, csize] = selector.range.size();\n      let si = sri;\n      let size = rsize;\n      if (type === 'row') {\n        rows.delete(sri, eri);\n      } else if (type === 'column') {\n        rows.deleteColumn(sci, eci);\n        si = range.sci;\n        size = csize;\n        cols.len -= (eci - sci + 1);\n      }\n      // console.log('type:', type, ', si:', si, ', size:', size);\n      merges.shift(type, si, -size, (ri, ci, rn, cn) => {\n        // console.log('ri:', ri, ', ci:', ci, ', rn:', rn, ', cn:', cn);\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n        if (cell.merge[0] === 0 && cell.merge[1] === 0) {\n          delete cell.merge;\n        }\n      });\n    });\n  }\n\n  scrollx(x, cb) {\n    const { scroll, freeze, cols } = this;\n    const [, fci] = freeze;\n    const [\n      ci, left, width,\n    ] = helper.rangeReduceIf(fci, cols.len, 0, 0, x, i => cols.getWidth(i));\n    // console.log('fci:', fci, ', ci:', ci);\n    let x1 = left;\n    if (x > 0) x1 += width;\n    if (scroll.x !== x1) {\n      scroll.ci = x > 0 ? ci : 0;\n      scroll.x = x1;\n      cb();\n    }\n  }\n\n  scrolly(y, cb) {\n    const { scroll, freeze, rows } = this;\n    const [fri] = freeze;\n    const [\n      ri, top, height,\n    ] = helper.rangeReduceIf(fri, rows.len, 0, 0, y, i => rows.getHeight(i));\n    let y1 = top;\n    if (y > 0) y1 += height;\n    // console.log('ri:', ri, ' ,y:', y1);\n    if (scroll.y !== y1) {\n      scroll.ri = y > 0 ? ri : 0;\n      scroll.y = y1;\n      cb();\n    }\n  }\n\n  cellRect(ri, ci) {\n    const { rows, cols } = this;\n    const left = cols.sumWidth(0, ci);\n    const top = rows.sumHeight(0, ri);\n    const cell = rows.getCell(ri, ci);\n    let width = cols.getWidth(ci);\n    let height = rows.getHeight(ri);\n    if (cell !== null) {\n      if (cell.merge) {\n        const [rn, cn] = cell.merge;\n        // console.log('cell.merge:', cell.merge);\n        if (rn > 0) {\n          for (let i = 1; i <= rn; i += 1) {\n            height += rows.getHeight(ri + i);\n          }\n        }\n        if (cn > 0) {\n          for (let i = 1; i <= cn; i += 1) {\n            width += cols.getWidth(ci + i);\n          }\n        }\n      }\n    }\n    // console.log('data:', this.d);\n    return {\n      left, top, width, height, cell,\n    };\n  }\n\n  getCell(ri, ci) {\n    return this.rows.getCell(ri, ci);\n  }\n\n  getCellTextOrDefault(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    return (cell && cell.text) ? cell.text : '';\n  }\n\n  getCellStyle(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.style !== undefined) {\n      return this.styles[cell.style];\n    }\n    return null;\n  }\n\n  getCellStyleOrDefault(ri, ci) {\n    const { styles, rows } = this;\n    const cell = rows.getCell(ri, ci);\n    const cellStyle = (cell && cell.style !== undefined) ? styles[cell.style] : {};\n    return helper.merge(this.defaultStyle(), cellStyle);\n  }\n\n  getSelectedCellStyle() {\n    const { ri, ci } = this.selector;\n    return this.getCellStyleOrDefault(ri, ci);\n  }\n\n  // state: input | finished\n  setCellText(ri, ci, text, state) {\n    const { rows, history, validations } = this;\n    if (state === 'finished') {\n      rows.setCellText(ri, ci, '');\n      history.add(this.getData());\n      rows.setCellText(ri, ci, text);\n    } else {\n      rows.setCellText(ri, ci, text);\n      this.change(this.getData());\n    }\n    // validator\n    validations.validate(ri, ci, text);\n  }\n\n  freezeIsActive() {\n    const [ri, ci] = this.freeze;\n    return ri > 0 || ci > 0;\n  }\n\n  setFreeze(ri, ci) {\n    this.changeData(() => {\n      this.freeze = [ri, ci];\n    });\n  }\n\n  freezeTotalWidth() {\n    return this.cols.sumWidth(0, this.freeze[1]);\n  }\n\n  freezeTotalHeight() {\n    return this.rows.sumHeight(0, this.freeze[0]);\n  }\n\n  setRowHeight(ri, height) {\n    this.changeData(() => {\n      this.rows.setHeight(ri, height);\n    });\n  }\n\n  setColWidth(ci, width) {\n    this.changeData(() => {\n      this.cols.setWidth(ci, width);\n    });\n  }\n\n  viewHeight() {\n    const { view, showToolbar, showBottomBar } = this.settings;\n    let h = view.height();\n    if (showBottomBar) {\n      h -= bottombarHeight;\n    }\n    if (showToolbar) {\n      h -= toolbarHeight;\n    }\n    return h;\n  }\n\n  viewWidth() {\n    return this.settings.view.width();\n  }\n\n  freezeViewRange() {\n    const [ri, ci] = this.freeze;\n    return new CellRange(0, 0, ri - 1, ci - 1, this.freezeTotalWidth(), this.freezeTotalHeight());\n  }\n\n  contentRange() {\n    const { rows, cols } = this;\n    const [ri, ci] = rows.maxCell();\n    const h = rows.sumHeight(0, ri + 1);\n    const w = cols.sumWidth(0, ci + 1);\n    return new CellRange(0, 0, ri, ci, w, h);\n  }\n\n  exceptRowTotalHeight(sri, eri) {\n    const { exceptRowSet, rows } = this;\n    const exceptRows = Array.from(exceptRowSet);\n    let exceptRowTH = 0;\n    exceptRows.forEach((ri) => {\n      if (ri < sri || ri > eri) {\n        const height = rows.getHeight(ri);\n        exceptRowTH += height;\n      }\n    });\n    return exceptRowTH;\n  }\n\n  viewRange() {\n    const {\n      scroll, rows, cols, freeze, exceptRowSet,\n    } = this;\n    // console.log('scroll:', scroll, ', freeze:', freeze)\n    let { ri, ci } = scroll;\n    if (ri <= 0) [ri] = freeze;\n    if (ci <= 0) [, ci] = freeze;\n\n    let [x, y] = [0, 0];\n    let [eri, eci] = [rows.len, cols.len];\n    for (let i = ri; i < rows.len; i += 1) {\n      if (!exceptRowSet.has(i)) {\n        y += rows.getHeight(i);\n        eri = i;\n      }\n      if (y > this.viewHeight()) break;\n    }\n    for (let j = ci; j < cols.len; j += 1) {\n      x += cols.getWidth(j);\n      eci = j;\n      if (x > this.viewWidth()) break;\n    }\n    // console.log(ri, ci, eri, eci, x, y);\n    return new CellRange(ri, ci, eri, eci, x, y);\n  }\n\n  eachMergesInView(viewRange, cb) {\n    this.merges.filterIntersects(viewRange)\n      .forEach(it => cb(it));\n  }\n\n  hideRowsOrCols() {\n    const { rows, cols, selector } = this;\n    const [rlen, clen] = selector.size();\n    const {\n      sri, sci, eri, eci,\n    } = selector.range;\n    if (rlen === rows.len) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        cols.setHide(ci, true);\n      }\n    } else if (clen === cols.len) {\n      for (let ri = sri; ri <= eri; ri += 1) {\n        rows.setHide(ri, true);\n      }\n    }\n  }\n\n  // type: row | col\n  // index row-index | col-index\n  unhideRowsOrCols(type, index) {\n    this[`${type}s`].unhide(index);\n  }\n\n  rowEach(min, max, cb) {\n    let y = 0;\n    const { rows } = this;\n    const frset = this.exceptRowSet;\n    const frary = [...frset];\n    let offset = 0;\n    for (let i = 0; i < frary.length; i += 1) {\n      if (frary[i] < min) {\n        offset += 1;\n      }\n    }\n    // console.log('min:', min, ', max:', max, ', scroll:', scroll);\n    for (let i = min + offset; i <= max + offset; i += 1) {\n      if (frset.has(i)) {\n        offset += 1;\n      } else {\n        const rowHeight = rows.getHeight(i);\n        if (rowHeight > 0) {\n          cb(i, y, rowHeight);\n          y += rowHeight;\n          if (y > this.viewHeight()) break;\n        }\n      }\n    }\n  }\n\n  colEach(min, max, cb) {\n    let x = 0;\n    const { cols } = this;\n    for (let i = min; i <= max; i += 1) {\n      const colWidth = cols.getWidth(i);\n      if (colWidth > 0) {\n        cb(i, x, colWidth);\n        x += colWidth;\n        if (x > this.viewWidth()) break;\n      }\n    }\n  }\n\n  defaultStyle() {\n    return this.settings.style;\n  }\n\n  addStyle(nstyle) {\n    const { styles } = this;\n    // console.log('old.styles:', styles, nstyle);\n    for (let i = 0; i < styles.length; i += 1) {\n      const style = styles[i];\n      if (helper.equals(style, nstyle)) return i;\n    }\n    styles.push(nstyle);\n    return styles.length - 1;\n  }\n\n  changeData(cb) {\n    this.history.add(this.getData());\n    cb();\n    this.change(this.getData());\n  }\n\n  setData(d) {\n    Object.keys(d).forEach((property) => {\n      if (property === 'merges' || property === 'rows'\n        || property === 'cols' || property === 'validations') {\n        this[property].setData(d[property]);\n      } else if (property === 'freeze') {\n        const [x, y] = expr2xy(d[property]);\n        this.freeze = [y, x];\n      } else if (property === 'autofilter') {\n        this.autoFilter.setData(d[property]);\n      } else if (d[property] !== undefined) {\n        this[property] = d[property];\n      }\n    });\n    return this;\n  }\n\n  getData() {\n    const {\n      name, freeze, styles, merges, rows, cols, validations, autoFilter,\n    } = this;\n    return {\n      name,\n      freeze: xy2expr(freeze[1], freeze[0]),\n      styles,\n      merges: merges.getData(),\n      rows: rows.getData(),\n      cols: cols.getData(),\n      validations: validations.getData(),\n      autofilter: autoFilter.getData(),\n    };\n  }\n}\n","/* global window, document */\nimport { h } from './component/element';\nimport DataProxy from './core/data_proxy';\nimport Sheet from './component/sheet';\nimport Bottombar from './component/bottombar';\nimport { cssPrefix } from './config';\nimport { locale } from './locale/locale';\nimport './index.less';\nimport { baseFormats,mergeFormats } from './core/format';\n\n\n\nexport default class Spreadsheet {\n  constructor(selectors,options = {}) {\n    let targetEl = selectors;\n    this.options = {\n      showBottomBar: true,showPrint: true,showValidation: true,...options,\n    };\n    this.sheetIndex = 1;\n    this.datas = [];\n    if (typeof selectors === 'string') {\n      targetEl = document.querySelector(selectors);\n    }\n    this.bottombar = this.options.showBottomBar ? new Bottombar(() => {\n      if (this.options.mode === 'read') return;\n      const d = this.addSheet();\n      this.sheet.resetData(d);\n    },(index) => {\n      const d = this.datas[index];\n      this.sheet.resetData(d);\n    },() => {\n      this.deleteSheet();\n    },(index,value) => {\n      this.datas[index].name = value;\n      this.sheet.trigger('change');\n    }) : null;\n    this.data = this.addSheet();\n    const rootEl = h('div',`${cssPrefix}`)\n      .on('contextmenu',evt => evt.preventDefault());\n    // create canvas element\n    // TODO: tweak format with settings\n    try {\n      mergeFormats(options.formats);\n    } catch (e) {\n      console.error(e);\n    }\n    console.log(baseFormats);\n    targetEl.appendChild(rootEl.el);\n    this.sheet = new Sheet(rootEl,this.data);\n    if (this.bottombar !== null) {\n      rootEl.child(this.bottombar.el);\n    }\n    if (!this.options.style || !this.options.style.bgcolor) {\n      this.options.style = this.options.style || {};\n      const bgColor = global.getComputedStyle(rootEl.el)\n        .getPropertyValue('--table-background') || '#fff';\n      this.options.style.bgcolor = bgColor;\n      const color = global.getComputedStyle(rootEl.el)\n        .getPropertyValue('--table-text') || '#000';\n      this.options.style.color = color;\n    }\n  }\n\n  addSheet(name,active = true) {\n    const n = name || `sheet${this.sheetIndex}`;\n    const d = new DataProxy(n,this.options);\n    d.change = (...args) => {\n      this.sheet.trigger('change',...args);\n    };\n    this.datas.push(d);\n    // console.log('d:', n, d, this.datas);\n    if (this.bottombar !== null) {\n      this.bottombar.addItem(n,active,this.options);\n    }\n    this.sheetIndex += 1;\n    return d;\n  }\n\n  deleteSheet() {\n    if (this.bottombar === null) return;\n\n    const [oldIndex,nindex] = this.bottombar.deleteItem();\n    if (oldIndex >= 0) {\n      this.datas.splice(oldIndex,1);\n      if (nindex >= 0) this.sheet.resetData(this.datas[nindex]);\n      this.sheet.trigger('change');\n    }\n  }\n\n  loadData(data) {\n    const ds = Array.isArray(data) ? data : [data];\n    if (this.bottombar !== null) {\n      this.bottombar.clear();\n    }\n    this.sheetIndex = 1;\n    this.datas = [];\n    if (ds.length > 0) {\n      for (let i = 0; i < ds.length; i += 1) {\n        const it = ds[i];\n        const nd = this.addSheet(it.name,i === 0);\n        nd.setData(it);\n        if (i === 0) {\n          this.sheet.resetData(nd);\n        }\n      }\n    }\n    return this;\n  }\n\n  getData() {\n    return this.datas.map(it => it.getData());\n  }\n\n  cellText(ri,ci,text,sheetIndex = 0) {\n    this.datas[sheetIndex].setCellText(ri,ci,text,'finished');\n    return this;\n  }\n\n  cell(ri,ci,sheetIndex = 0) {\n    return this.datas[sheetIndex].getCell(ri,ci);\n  }\n\n  cellStyle(ri,ci,sheetIndex = 0) {\n    return this.datas[sheetIndex].getCellStyle(ri,ci);\n  }\n\n  reRender() {\n    this.sheet.table.render();\n    return this;\n  }\n\n  on(eventName,func) {\n    this.sheet.on(eventName,func);\n    return this;\n  }\n\n  validate() {\n    const { validations } = this.data;\n    return validations.errors.size <= 0;\n  }\n\n  change(cb) {\n    this.sheet.on('change',cb);\n    return this;\n  }\n\n  static locale(lang,message) {\n    locale(lang,message);\n  }\n}\n\nconst spreadsheet = (el,options = {}) => new Spreadsheet(el,options);\n\nif (window) {\n  window.x_spreadsheet = spreadsheet;\n  window.x_spreadsheet.locale = (lang,message) => locale(lang,message);\n}\n\n// export default Spreadsheet;\n// export {\n//   spreadsheet,\n// };\n// exports.Spreadsheet = Spreadsheet;\n// exports.Spreadsheet = Spreadsheet;\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.numfmt=t():e.numfmt=t()}(\"undefined\"!=typeof self?self:this,(function(){return function(){\"use strict\";var e={d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return he}});var n={1078:\"af\",1052:\"sq\",1118:\"am\",5121:\"ar_DZ\",15361:\"ar_BH\",3073:\"ar_EG\",2049:\"ar_IQ\",11265:\"ar_JO\",13313:\"ar_KW\",12289:\"ar_LB\",4097:\"ar_LY\",6145:\"ar_MA\",8193:\"ar_OM\",16385:\"ar_QA\",1025:\"ar_SA\",10241:\"ar_SY\",7169:\"ar_TN\",14337:\"ar_AE\",9217:\"ar_YE\",1067:\"hy\",1101:\"as\",2092:\"az_AZ\",1068:\"az_AZ\",1069:\"eu\",1059:\"be\",2117:\"bn\",1093:\"bn_IN\",5146:\"bs\",1026:\"bg\",1109:\"my\",1027:\"ca\",2052:\"zh_CN\",3076:\"zh_HK\",5124:\"zh_MO\",4100:\"zh_SG\",1028:\"zh_TW\",1050:\"hr\",1029:\"cs\",1030:\"da\",1125:\"dv\",2067:\"nl_BE\",1043:\"nl_NL\",1126:\"bin\",3081:\"en_AU\",10249:\"en_BZ\",4105:\"en_CA\",9225:\"en_CB\",2057:\"en_GB\",16393:\"en_IN\",6153:\"en_IE\",8201:\"en_JM\",5129:\"en_NZ\",13321:\"en_PH\",7177:\"en_ZA\",11273:\"en_TT\",1033:\"en_US\",12297:\"en_ZW\",1061:\"et\",1071:\"mk\",1080:\"fo\",1065:\"fa\",1124:\"fil\",1035:\"fi\",2060:\"fr_BE\",11276:\"fr_CM\",3084:\"fr_CA\",9228:\"fr_CG\",12300:\"fr_CI\",1036:\"fr_FR\",5132:\"fr_LU\",13324:\"fr_ML\",6156:\"fr_MC\",14348:\"fr_MA\",10252:\"fr_SN\",4108:\"fr_CH\",7180:\"fr\",1122:\"fy_NL\",2108:\"gd_IE\",1084:\"gd\",1110:\"gl\",1079:\"ka\",3079:\"de_AT\",1031:\"de_DE\",5127:\"de_LI\",4103:\"de_LU\",2055:\"de_CH\",1032:\"el\",1140:\"gn\",1095:\"gu\",1279:\"en\",1037:\"he\",1081:\"hi\",1038:\"hu\",1039:\"is\",1136:\"ig_NG\",1057:\"id\",1040:\"it_IT\",2064:\"it_CH\",1041:\"ja\",1099:\"kn\",1120:\"ks\",1087:\"kk\",1107:\"km\",1111:\"kok\",1042:\"ko\",1088:\"ky\",1108:\"lo\",1142:\"la\",1062:\"lv\",1063:\"lt\",2110:\"ms_BN\",1086:\"ms_MY\",1100:\"ml\",1082:\"mt\",1112:\"mni\",1153:\"mi\",1102:\"mr\",1104:\"mn\",2128:\"mn\",1121:\"ne\",1044:\"no_NO\",2068:\"no_NO\",1096:\"or\",1045:\"pl\",1046:\"pt_BR\",2070:\"pt_PT\",1094:\"pa\",1047:\"rm\",2072:\"ro_MO\",1048:\"ro_RO\",1049:\"ru\",2073:\"ru_MO\",1083:\"se\",1103:\"sa\",3098:\"sr_SP\",2074:\"sr_SP\",1072:\"st\",1074:\"tn\",1113:\"sd\",1115:\"si\",1051:\"sk\",1060:\"sl\",1143:\"so\",1070:\"sb\",11274:\"es_AR\",16394:\"es_BO\",13322:\"es_CL\",9226:\"es_CO\",5130:\"es_CR\",7178:\"es_DO\",12298:\"es_EC\",17418:\"es_SV\",4106:\"es_GT\",18442:\"es_HN\",2058:\"es_MX\",19466:\"es_NI\",6154:\"es_PA\",15370:\"es_PY\",10250:\"es_PE\",20490:\"es_PR\",1034:\"es_ES\",14346:\"es_UY\",8202:\"es_VE\",1089:\"sw\",2077:\"sv_FI\",1053:\"sv_SE\",1114:\"syc\",1064:\"tg\",1097:\"ta\",1092:\"tt\",1098:\"te\",1054:\"th\",1105:\"bo\",1073:\"ts\",1055:\"tr\",1090:\"tk\",1058:\"uk\",1056:\"ur\",2115:\"uz_UZ\",1091:\"uz_UZ\",1075:\"ve\",1066:\"vi\",1106:\"cy\",1076:\"xh\",1085:\"yi\",1077:\"zu\"};const a=/^([a-z\\d]+)(?:[_-]([a-z\\d]+))?(?:\\.([a-z\\d]+))?(?:@([a-z\\d]+))?$/i,r={},i={group:\"\",decimal:\".\",positive:\"+\",negative:\"-\",percent:\"%\",exponent:\"E\",nan:\"NaN\",infinity:\"\",ampm:[\"AM\",\"PM\"],mmmm6:[\"Muharram\",\"Safar\",\"Rabi I\",\"Rabi II\",\"Jumada I\",\"Jumada II\",\"Rajab\",\"Shaban\",\"Ramadan\",\"Shawwal\",\"Dhul-Qidah\",\"Dhul-Hijjah\"],mmm6:[\"Muh.\",\"Saf.\",\"Rab. I\",\"Rab. II\",\"Jum. I\",\"Jum. II\",\"Raj.\",\"Sha.\",\"Ram.\",\"Shaw.\",\"Dhul-Q.\",\"Dhul-H.\"],mmmm:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],mmm:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dddd:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],ddd:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"]};function s(e){const t=a.exec(e);if(!t)throw new SyntaxError(\"Malformed locale: \".concat(e));return{lang:t[1]+(t[2]?\"_\"+t[2]:\"\"),language:t[1],territory:t[2]||\"\",codeset:t[3]||\"\",modifier:t[4]||\"\"}}function o(e){if(\"number\"==typeof e)return n[65535&e]||null;const t=parseInt(e,16);return isFinite(t)&&n[65535&t]?n[65535&t]||null:a.test(e)?e:null}function l(e){const t=o(e);let n=null;if(t){const e=s(t);n=r[e.lang]||r[e.language]||null}return n}function d(e){return Object.assign({},i,e)}function m(e,t){const n=\"object\"==typeof t?t:s(t);return r[n.lang]=d(e),n.language===n.lang||r[n.language]||(r[n.language]=d(e)),r[n.lang]}const u=d({group:\",\"});function c(e,t){if(\"number\"!=typeof e)return e;if(e<0)return-c(-e,t);if(t){const n=10**(t||0)||1;return c(e*n,0)/n}return Math.round(e)}u.isDefault=!0,m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"zh_CN\"),m({group:\",\",nan:\"\",ampm:[\"\",\"\"],mmmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"zh_TW\"),m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"ja\"),m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"ko\"),m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\".\",\".\",\".\",\".\",\".\",\".\",\".\"]},\"th\"),m({decimal:\",\",ampm:[\"dop.\",\"odp.\"],mmmm:[\"ledna\",\"nora\",\"bezna\",\"dubna\",\"kvtna\",\"ervna\",\"ervence\",\"srpna\",\"z\",\"jna\",\"listopadu\",\"prosince\"],mmm:[\"led\",\"no\",\"be\",\"dub\",\"kv\",\"vn\",\"vc\",\"srp\",\"z\",\"j\",\"lis\",\"pro\"],dddd:[\"nedle\",\"pondl\",\"ter\",\"steda\",\"tvrtek\",\"ptek\",\"sobota\"],ddd:[\"ne\",\"po\",\"t\",\"st\",\"t\",\"p\",\"so\"]},\"cs\"),m({group:\".\",decimal:\",\",mmmm:[\"januar\",\"februar\",\"marts\",\"april\",\"maj\",\"juni\",\"juli\",\"august\",\"september\",\"oktober\",\"november\",\"december\"],mmm:[\"jan.\",\"feb.\",\"mar.\",\"apr.\",\"maj\",\"jun.\",\"jul.\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"sndag\",\"mandag\",\"tirsdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lrdag\"],ddd:[\"sn.\",\"man.\",\"tir.\",\"ons.\",\"tor.\",\"fre.\",\"lr.\"]},\"da\"),m({group:\".\",decimal:\",\",ampm:[\"a.m.\",\"p.m.\"],mmmm:[\"januari\",\"februari\",\"maart\",\"april\",\"mei\",\"juni\",\"juli\",\"augustus\",\"september\",\"oktober\",\"november\",\"december\"],mmm:[\"jan.\",\"feb.\",\"mrt.\",\"apr.\",\"mei\",\"jun.\",\"jul.\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"zondag\",\"maandag\",\"dinsdag\",\"woensdag\",\"donderdag\",\"vrijdag\",\"zaterdag\"],ddd:[\"zo\",\"ma\",\"di\",\"wo\",\"do\",\"vr\",\"za\"]},\"nl\"),m({group:\",\"},\"en\"),m({decimal:\",\",nan:\"epluku\",ampm:[\"ap.\",\"ip.\"],mmmm:[\"tammikuuta\",\"helmikuuta\",\"maaliskuuta\",\"huhtikuuta\",\"toukokuuta\",\"keskuuta\",\"heinkuuta\",\"elokuuta\",\"syyskuuta\",\"lokakuuta\",\"marraskuuta\",\"joulukuuta\"],mmm:[\"tammik.\",\"helmik.\",\"maalisk.\",\"huhtik.\",\"toukok.\",\"kesk.\",\"heink.\",\"elok.\",\"syysk.\",\"lokak.\",\"marrask.\",\"jouluk.\"],dddd:[\"sunnuntaina\",\"maanantaina\",\"tiistaina\",\"keskiviikkona\",\"torstaina\",\"perjantaina\",\"lauantaina\"],ddd:[\"su\",\"ma\",\"ti\",\"ke\",\"to\",\"pe\",\"la\"]},\"fi\"),m({group:\"\",decimal:\",\",mmmm:[\"janvier\",\"fvrier\",\"mars\",\"avril\",\"mai\",\"juin\",\"juillet\",\"aot\",\"septembre\",\"octobre\",\"novembre\",\"dcembre\"],mmm:[\"janv.\",\"fvr.\",\"mars\",\"avr.\",\"mai\",\"juin\",\"juil.\",\"aot\",\"sept.\",\"oct.\",\"nov.\",\"dc.\"],dddd:[\"dimanche\",\"lundi\",\"mardi\",\"mercredi\",\"jeudi\",\"vendredi\",\"samedi\"],ddd:[\"dim.\",\"lun.\",\"mar.\",\"mer.\",\"jeu.\",\"ven.\",\"sam.\"]},\"fr\"),m({group:\".\",decimal:\",\",mmmm:[\"Januar\",\"Februar\",\"Mrz\",\"April\",\"Mai\",\"Juni\",\"Juli\",\"August\",\"September\",\"Oktober\",\"November\",\"Dezember\"],mmm:[\"Jan.\",\"Feb.\",\"Mrz\",\"Apr.\",\"Mai\",\"Juni\",\"Juli\",\"Aug.\",\"Sept.\",\"Okt.\",\"Nov.\",\"Dez.\"],dddd:[\"Sonntag\",\"Montag\",\"Dienstag\",\"Mittwoch\",\"Donnerstag\",\"Freitag\",\"Samstag\"],ddd:[\"So.\",\"Mo.\",\"Di.\",\"Mi.\",\"Do.\",\"Fr.\",\"Sa.\"]},\"de\"),m({group:\".\",decimal:\",\",ampm:[\"..\",\"..\"],mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"el\"),m({decimal:\",\",ampm:[\"de.\",\"du.\"],mmmm:[\"janur\",\"februr\",\"mrcius\",\"prilis\",\"mjus\",\"jnius\",\"jlius\",\"augusztus\",\"szeptember\",\"oktber\",\"november\",\"december\"],mmm:[\"jan.\",\"febr.\",\"mrc.\",\"pr.\",\"mj.\",\"jn.\",\"jl.\",\"aug.\",\"szept.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"vasrnap\",\"htf\",\"kedd\",\"szerda\",\"cstrtk\",\"pntek\",\"szombat\"],ddd:[\"V\",\"H\",\"K\",\"Sze\",\"Cs\",\"P\",\"Szo\"]},\"hu\"),m({group:\".\",decimal:\",\",ampm:[\"f.h.\",\"e.h.\"],mmmm:[\"janar\",\"febrar\",\"mars\",\"aprl\",\"ma\",\"jn\",\"jl\",\"gst\",\"september\",\"oktber\",\"nvember\",\"desember\"],mmm:[\"jan.\",\"feb.\",\"mar.\",\"apr.\",\"ma\",\"jn.\",\"jl.\",\"g.\",\"sep.\",\"okt.\",\"nv.\",\"des.\"],dddd:[\"sunnudagur\",\"mnudagur\",\"rijudagur\",\"mivikudagur\",\"fimmtudagur\",\"fstudagur\",\"laugardagur\"],ddd:[\"sun.\",\"mn.\",\"ri.\",\"mi.\",\"fim.\",\"fs.\",\"lau.\"]},\"is\"),m({group:\".\",decimal:\",\",mmmm:[\"Januari\",\"Februari\",\"Maret\",\"April\",\"Mei\",\"Juni\",\"Juli\",\"Agustus\",\"September\",\"Oktober\",\"November\",\"Desember\"],mmm:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"Mei\",\"Jun\",\"Jul\",\"Agu\",\"Sep\",\"Okt\",\"Nov\",\"Des\"],dddd:[\"Minggu\",\"Senin\",\"Selasa\",\"Rabu\",\"Kamis\",\"Jumat\",\"Sabtu\"],ddd:[\"Min\",\"Sen\",\"Sel\",\"Rab\",\"Kam\",\"Jum\",\"Sab\"]},\"id\"),m({group:\".\",decimal:\",\",mmmm:[\"gennaio\",\"febbraio\",\"marzo\",\"aprile\",\"maggio\",\"giugno\",\"luglio\",\"agosto\",\"settembre\",\"ottobre\",\"novembre\",\"dicembre\"],mmm:[\"gen\",\"feb\",\"mar\",\"apr\",\"mag\",\"giu\",\"lug\",\"ago\",\"set\",\"ott\",\"nov\",\"dic\"],dddd:[\"domenica\",\"luned\",\"marted\",\"mercoled\",\"gioved\",\"venerd\",\"sabato\"],ddd:[\"dom\",\"lun\",\"mar\",\"mer\",\"gio\",\"ven\",\"sab\"]},\"it\"),m({decimal:\",\",ampm:[\"a.m.\",\"p.m.\"],mmmm:[\"januar\",\"februar\",\"mars\",\"april\",\"mai\",\"juni\",\"juli\",\"august\",\"september\",\"oktober\",\"november\",\"desember\"],mmm:[\"jan.\",\"feb.\",\"mar.\",\"apr.\",\"mai\",\"jun.\",\"jul.\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"des.\"],dddd:[\"sndag\",\"mandag\",\"tirsdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lrdag\"],ddd:[\"sn.\",\"man.\",\"tir.\",\"ons.\",\"tor.\",\"fre.\",\"lr.\"]},\"nb\"),m({decimal:\",\",mmmm:[\"stycznia\",\"lutego\",\"marca\",\"kwietnia\",\"maja\",\"czerwca\",\"lipca\",\"sierpnia\",\"wrzenia\",\"padziernika\",\"listopada\",\"grudnia\"],mmm:[\"sty\",\"lut\",\"mar\",\"kwi\",\"maj\",\"cze\",\"lip\",\"sie\",\"wrz\",\"pa\",\"lis\",\"gru\"],dddd:[\"niedziela\",\"poniedziaek\",\"wtorek\",\"roda\",\"czwartek\",\"pitek\",\"sobota\"],ddd:[\"niedz.\",\"pon.\",\"wt.\",\"r.\",\"czw.\",\"pt.\",\"sob.\"]},\"pl\"),m({group:\".\",decimal:\",\",mmmm:[\"janeiro\",\"fevereiro\",\"maro\",\"abril\",\"maio\",\"junho\",\"julho\",\"agosto\",\"setembro\",\"outubro\",\"novembro\",\"dezembro\"],mmm:[\"jan.\",\"fev.\",\"mar.\",\"abr.\",\"mai.\",\"jun.\",\"jul.\",\"ago.\",\"set.\",\"out.\",\"nov.\",\"dez.\"],dddd:[\"domingo\",\"segunda-feira\",\"tera-feira\",\"quarta-feira\",\"quinta-feira\",\"sexta-feira\",\"sbado\"],ddd:[\"dom.\",\"seg.\",\"ter.\",\"qua.\",\"qui.\",\"sex.\",\"sb.\"]},\"pt\"),m({decimal:\",\",nan:\"\",mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\".\",\".\",\".\",\".\",\"\",\".\",\".\",\".\",\".\",\".\",\".\",\".\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"ru\"),m({decimal:\",\",mmmm:[\"janura\",\"februra\",\"marca\",\"aprla\",\"mja\",\"jna\",\"jla\",\"augusta\",\"septembra\",\"oktbra\",\"novembra\",\"decembra\"],mmm:[\"jan\",\"feb\",\"mar\",\"apr\",\"mj\",\"jn\",\"jl\",\"aug\",\"sep\",\"okt\",\"nov\",\"dec\"],dddd:[\"nedea\",\"pondelok\",\"utorok\",\"streda\",\"tvrtok\",\"piatok\",\"sobota\"],ddd:[\"ne\",\"po\",\"ut\",\"st\",\"t\",\"pi\",\"so\"]},\"sk\"),m({group:\".\",decimal:\",\",ampm:[\"a.m.\",\"p.m.\"],mmmm:[\"enero\",\"febrero\",\"marzo\",\"abril\",\"mayo\",\"junio\",\"julio\",\"agosto\",\"septiembre\",\"octubre\",\"noviembre\",\"diciembre\"],mmm:[\"ene.\",\"feb.\",\"mar.\",\"abr.\",\"may.\",\"jun.\",\"jul.\",\"ago.\",\"sept.\",\"oct.\",\"nov.\",\"dic.\"],dddd:[\"domingo\",\"lunes\",\"martes\",\"mircoles\",\"jueves\",\"viernes\",\"sbado\"],ddd:[\"dom.\",\"lun.\",\"mar.\",\"mi.\",\"jue.\",\"vie.\",\"sb.\"]},\"es\"),m({decimal:\",\",ampm:[\"fm\",\"em\"],mmmm:[\"januari\",\"februari\",\"mars\",\"april\",\"maj\",\"juni\",\"juli\",\"augusti\",\"september\",\"oktober\",\"november\",\"december\"],mmm:[\"jan.\",\"feb.\",\"mars\",\"apr.\",\"maj\",\"juni\",\"juli\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"sndag\",\"mndag\",\"tisdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lrdag\"],ddd:[\"sn\",\"mn\",\"tis\",\"ons\",\"tors\",\"fre\",\"lr\"]},\"sv\"),m({group:\".\",decimal:\",\",ampm:[\"\",\"S\"],mmmm:[\"Ocak\",\"ubat\",\"Mart\",\"Nisan\",\"Mays\",\"Haziran\",\"Temmuz\",\"Austos\",\"Eyll\",\"Ekim\",\"Kasm\",\"Aralk\"],mmm:[\"Oca\",\"ub\",\"Mar\",\"Nis\",\"May\",\"Haz\",\"Tem\",\"Au\",\"Eyl\",\"Eki\",\"Kas\",\"Ara\"],dddd:[\"Pazar\",\"Pazartesi\",\"Sal\",\"aramba\",\"Perembe\",\"Cuma\",\"Cumartesi\"],ddd:[\"Paz\",\"Pzt\",\"Sal\",\"ar\",\"Per\",\"Cum\",\"Cmt\"]},\"tr\");function p(e,t,n){const a=e<0?-1:1,r=10**(t||2),i=10**(n||2);let s,o,l=Math.abs(e),d=0,m=0,u=0,c=1;if((e=l)%1==0)o=[e*a,1];else if(e<1e-19)o=[a,1e19];else if(e>1e19)o=[1e19*a,1];else{do{if(l=1/(l-Math.floor(l)),s=c,c=c*Math.floor(l)+d,d=s,m=u,u=Math.floor(e*c+.5),u>=r||c>=i)return[a*m,d]}while(Math.abs(e-u/c)>=1e-10&&l!==Math.floor(l));o=[a*u,c]}return o}const f={overflow:\"######\",dateErrorThrows:!1,dateErrorNumber:!0,dateSpanLarge:!0,leap1900:!0,nbsp:!0,throws:!0,invalid:\"######\",locale:\"\",ignoreTimezone:!1},g=Object.assign({},f);function h(e){if(null===e&&(e=f),e)for(const t in e)if(t in f){const n=e[t];g[t]=null==n?f[t]:n}return{...g}}const y=16,_=32,b=64,j={\"#\":\"\",0:\"0\",\"?\":\"\"},v={\"@\":\"text\",\"-\":\"minus\",\"+\":\"plus\"},M=[\"#000\",\"#FFF\",\"#F00\",\"#0F0\",\"#00F\",\"#FF0\",\"#F0F\",\"#0FF\",\"#000\",\"#FFF\",\"#F00\",\"#0F0\",\"#00F\",\"#FF0\",\"#F0F\",\"#0FF\",\"#800\",\"#080\",\"#008\",\"#880\",\"#808\",\"#088\",\"#CCC\",\"#888\",\"#99F\",\"#936\",\"#FFC\",\"#CFF\",\"#606\",\"#F88\",\"#06C\",\"#CCF\",\"#008\",\"#F0F\",\"#FF0\",\"#0FF\",\"#808\",\"#800\",\"#088\",\"#00F\",\"#0CF\",\"#CFF\",\"#CFC\",\"#FF9\",\"#9CF\",\"#F9C\",\"#C9F\",\"#FC9\",\"#36F\",\"#3CC\",\"#9C0\",\"#FC0\"],k=[\"\",\"$\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],x=new RegExp(\"[\"+k.join(\"\")+\"]\");function F(e,t,n){return t[n+\"_max\"]=e.length,t[n+\"_min\"]=e.replace(/#/g,\"\").length,t}const z={};function w(e){if(!(e in z)){const t=[],n=e.replace(/^[#,]+/,\"\").replace(/[1-9]\\d*/g,(e=>\"?\".repeat(e.length)));for(let e=0;e<n.length;e++){const a=n.charAt(e);t[e]=a in j?j[a]:a}z[e]=t.join(\"\")}return z[e]}function D(e,t){\"string\"==typeof e&&(e={type:\"string\",value:e=e.replace(/ /g,j[\"?\"])}),t.push(e)}function S(e){const t=[],n={scale:1,percent:!1,text:!1,date:0,date_eval:!1,date_system:1,sec_decimals:0,general:!1,clock:24,int_pattern:[],frac_pattern:[],man_pattern:[],den_pattern:[],num_pattern:[],tokens:t};let a=e+\"\",r=\"int\",i=!1,s=null;const l=[];let d,m,u=!1;for(;a&&!i;){if(d=/^General/i.exec(a))n.general=!0,D({type:\"general\"},t);else if(\"int\"===r&&(d=/^[#?0]+(?:,[#?0]+)*/.exec(a))||\"den\"===r&&(d=/^[#?\\d]+/.exec(a))||(d=/^[#?0]+/.exec(a)))n[r+\"_pattern\"].push(d[0]),s={type:r,num:d[0]},D(s,t);else if((d=/^\\//.exec(a))&&n[r+\"_pattern\"].length){if(!s)throw new SyntaxError(\"Missing a numerator in pattern \".concat(e));n.fractions=!0,n.num_pattern.push(n[r+\"_pattern\"].pop()),s.type=\"num\",r=\"den\",D({type:\"div\"},t)}else if(d=/^,+/.exec(a)){const e=a.charAt(1)in j;m.slice(-1)in j&&(d[0].length>1||!e)?n.scale=.001**d[0].length:n.dec_fractions||D(d[0],t)}else{if(d=/^;/.exec(a)){i=!0;break}if(d=/^[@+-]/.exec(a))\"@\"===d[0]&&(n.text=!0),D({type:v[d[0]]},t);else if(d=/^(?:\\[(h+|m+|s+)\\])/i.exec(a)){const e=d[1].toLowerCase(),a=e[0],r={type:\"\",size:0,date:1,raw:d[0],pad:e.length};\"h\"===a?(r.size=y,r.type=\"hour-elap\"):\"m\"===a?(r.size=_,r.type=\"min-elap\"):(r.size=b,r.type=\"sec-elap\"),n.date=n.date|r.size,l.push(r),D(r,t)}else if(d=/^(?:B2)/i.exec(a))u||(n.date_system=6);else if(d=/^(?:B1)/i.exec(a))u||(n.date_system=1);else if(d=/^(?:([hHmMsSyYbBdDegG])\\1*)/.exec(a)){const e={type:\"\",size:0,date:1,raw:d[0]},a=d[0].toLowerCase(),r=a[0];if(\"y\"===a||\"yy\"===a)e.size=2,e.type=\"year-short\";else if(\"y\"===r||\"e\"===r)e.size=2,e.type=\"year\";else if(\"b\"===a||\"bb\"===a)e.size=2,e.type=\"b-year-short\";else if(\"b\"===r)e.size=2,e.type=\"b-year\";else if(\"d\"===a||\"dd\"===a)e.size=8,e.type=\"day\",e.pad=/dd/.test(a);else if(\"ddd\"===a)e.size=8,e.type=\"weekday-short\";else if(\"d\"===r)e.size=8,e.type=\"weekday\";else if(\"h\"===r)e.size=y,e.type=\"hour\",e.pad=/hh/i.test(a);else if(\"m\"===r){3===a.length?(e.size=4,e.type=\"monthname-short\"):5===a.length?(e.size=4,e.type=\"monthname-single\"):a.length>=4&&(e.size=4,e.type=\"monthname\");const t=l[l.length-1];!e.type&&t&&!t.used&&80&t.size&&(t.used=!0,e.size=_,e.type=\"min\",e.pad=/mm/.test(a)),e.type||(e.size=4,e.type=\"month\",e.pad=/mm/.test(a),e.indeterminate=!0)}else if(\"s\"===r){e.size=b,e.type=\"sec\",e.pad=/ss/.test(a);const t=l[l.length-1];t&&t.size&_?e.used=!0:t&&t.indeterminate&&(delete t.indeterminate,t.size=_,t.type=\"min\",e.used=!0)}n.date=n.date|e.size,n.date_eval=!0,l.push(e),D(e,t)}else if(d=/^(?:AM\\/PM|am\\/pm|A\\/P)/.exec(a))n.clock=12,n.date=n.date|y,n.date_eval=!0,D({type:\"am\",short:\"A/P\"===d[0]},t);else if(n.date&&(d=/^\\.0{1,3}/i.exec(a))){const e=d[0].length-1,a=[b,128,256,512][e];n.date=n.date|a,n.date_eval=!0,n.sec_decimals=Math.max(n.sec_decimals,e),D({type:\"subsec\",size:a,decimals:e,date:1,raw:d[0]},t)}else if((d=/^\\\\(.)/.exec(a))||(d=/^\"([^\"]*?)\"/.exec(a)))D(d[1],t);else if(d=/^\\[(<[=>]?|>=?|=)\\s*(-?[.\\d]+)\\]/.exec(a))n.condition=[d[1],parseFloat(d[2],10)];else if(d=/^\\[\\$([^\\]]+)\\]/.exec(a)){const e=d[1].split(\"-\"),a=e.length<2?\"\":e[e.length-1],r=e[0];r&&D(r,t);const i=o(a);i&&(n.locale=i);const s=parseInt(a,16);if(isFinite(s)&&16711680&s){6===(s>>16&255)&&(n.date_system=6)}u=!0}else if(d=/^\\[(black|blue|cyan|green|magenta|red|white|yellow|color\\s*(\\d+))\\]/i.exec(a))n.color=d[2]?M[parseInt(d[2],10)]||\"#000\":d[1].toLowerCase();else if(d=/^\\[(DBNum1|ENG|HIJ|JPN|TWN)\\]/i.exec(a));else if(d=/^%/.exec(a))n.scale=100,n.percent=!0,D(\"%\",t);else if(d=/^_(\\\\.|.)/.exec(a))D(\" \",t);else if(d=/^\\./.exec(a))D({type:\"point\",value:d[0]},t),n.dec_fractions=!0,r=\"frac\";else if(d=/^[Ee]([+-]?|(?=[0#?]))/.exec(a))n.exponential=!0,n.exp_plus=\"+\"===d[1],r=\"man\",D({type:\"exp\",plus:\"+\"===d[1]},t);else if(d=/^\\*(\\\\.|.)/.exec(a));else{if(d=/^[BENn[]/.exec(a))throw new SyntaxError(\"Unexpected char \".concat(a.charAt(0),\" in pattern \").concat(e));\"(\"===a[0]&&(n.parens=!0),d=[a[0]],D(d[0],t)}}m=d[0],a=a.slice(d?d[0].length:1)}if(n.pattern=e.slice(0,e.length-a.length),/^((?:\\[[^\\]]+\\])+)(;|$)/.test(n.pattern)&&!/^\\[(?:h+|m+|s+)\\]/.test(n.pattern)&&D({type:\"text\"},t),n.fractions&&n.dec_fractions||n.fractions&&n.exponential)throw new SyntaxError(\"Invalid pattern: \".concat(n.pattern));const c=n.int_pattern.join(\"\");if(n.grouping=c.indexOf(\",\")>=0,n.grouping){const e=c.split(\",\"),t=e.length;2===t?(n.group_pri=e[1].length,n.group_sec=n.group_pri):t>2&&(n.group_pri=e[t-1].length,n.group_sec=e[t-2].length)}else n.group_pri=0,n.group_sec=0;F(c.replace(/[,]/g,\"\"),n,\"int\"),F(n.frac_pattern.join(\"\"),n,\"frac\"),F(n.man_pattern.join(\"\"),n,\"man\");let p=n.num_pattern.join(\"\"),f=n.den_pattern.join(\"\");const g=/\\?/.test(f)||/\\?/.test(p);return f=f.replace(/\\d/g,g?\"?\":\"#\"),g&&(f=f.replace(/#$/g,\"?\")),F(p,n,\"num\"),F(f,n,\"den\"),g&&(p=p.replace(/#$/g,\"?\")),n.int_padding=w(n.int_pattern.join(\"\")),n.man_padding=w(n.man_pattern.join(\"\")),n.num_padding=w(p),n.den_padding=w(f),n.den_pattern.length&&(n.denominator=parseInt(n.den_pattern.join(\"\").replace(/\\D/g,\"\"),10)),n.integer=!!n.int_pattern.join(\"\").length,n.fractions&&t.forEach(((e,n)=>{const a=t[n+1];\"string\"===e.type&&a&&(\"num\"===a.type?e.rule=\"num+int\":\"div\"===a.type?e.rule=\"num\":\"den\"===a.type&&(e.rule=\"den\"))})),n}const C=e=>{const t=e.condition;t&&t[1]<0&&(\"<\"===t[0]||\"<=\"===t[0]||\"=\"===t[0])||e.tokens.unshift({type:\"minus\",volatile:!0})};function E(e){const t=[];let n,a=!1,r=null,i=e,s=0,l=!1,d=0,m=0;do{if(l=S(i),(l.date||l.general)&&(l.int_pattern.length||l.frac_pattern.length||1!==l.scale||l.text))throw new Error(\"Illegal format\");if(l.condition&&(m++,a=!0),l.text){if(r)throw new Error(\"Unexpected partition\");r=l}l.locale&&(n=o(l.locale)),t.push(l),s=\";\"===i.charAt(l.pattern.length)?1:0,i=i.slice(l.pattern.length+s),d++}while(s&&d<4&&m<3);if(s)throw new Error(\"Unexpected partition\");if(m>2)throw new Error(\"Unexpected condition\");const u=t[3];if(u&&(u.int_pattern.length||u.frac_pattern.length||u.date))throw new Error(\"Unexpected partition\");if(a){const e=t.length;if(1===e&&(t[1]=S(\"General\"),t[1].generated=!0),e<3){const e=t[0],n=t[1];if(C(e),n.condition)C(n);else{const t=e.condition;(\"=\"===t[0]||t[1]>=0&&(\">\"===t[0]||\">=\"===t[0]))&&n.tokens.unshift({type:\"minus\",volatile:!0})}}else t.forEach(C)}else{if(t.length<4&&r)for(let e=0,n=t.length;e<n;e++)t[e]===r&&t.splice(e,1);if(t.length<1&&r&&(t[0]=S(\"General\"),t[0].generated=!0),t.length<2){const e=S(t[0].pattern);e.tokens.unshift({type:\"minus\",volatile:!0}),e.generated=!0,t.push(e)}if(t.length<3){const e=S(t[0].pattern);e.generated=!0,t.push(e)}if(t.length<4)if(r)t.push(r);else{const e=S(\"@\");e.generated=!0,t.push(e)}t[0].condition=[\">\",0],t[1].condition=[\"<\",0],t[2].condition=null}return{pattern:e,partitions:t,locale:n}}const A=Math.floor;function Y(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&e>=0){if(0===e)return[1900,1,0];if(60===e)return[1900,2,29];if(e<60)return[1900,e<32?1:2,(e-1)%31+1]}let n=e+68569+2415019;const a=A(4*n/146097);n-=A((146097*a+3)/4);const r=A(4e3*(n+1)/1461001);n=n-A(1461*r/4)+31;const i=A(80*n/2447),s=n-A(2447*i/80);n=A(i/11);const o=i+2-12*n,l=100*(a-49)+r+n;return[0|l,0|o,0|s]}function T(e){return Y(e+1462)}function N(e){if(60===e)throw new Error(\"#VALUE!\");if(e<=1)return[1317,8,29];if(e<60)return[1317,e<32?9:10,1+(e-2)%30];const t=10631/30,n=.1335;let a=e+466935;const r=A(a/10631);a-=10631*r;const i=A((a-n)/t);a-=A(i*t+n);const s=A((a+28.5001)/29.5);return 13===s?[30*r+i,12,30]:[30*r+i,s,a-A(29.5001*s-29)]}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=A(e);return 6===t?N(a):-1===t?T(a):Y(a,n)}const I=Math.floor,O=86400;function J(e,t){let n=null;if(Array.isArray(e)){const[t,a,r,i,s,o]=e;n=Date.UTC(t,null==a?0:a-1,null!=r?r:1,i||0,s||0,o||0)}else if(e instanceof Date&&(n=1*e,!t||!t.ignoreTimezone)){const t=new Date;t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n=1*t}if(null!=n&&isFinite(n)){const e=n/864e5;return e-(e<=-25509?-25568:-25569)}return e}function L(e,t){let n=0|e;const a=O*(e-n);let r=I(a);a-r>.9999&&(r+=1,r===O&&(r=0,n+=1));const i=r<0?O+r:r,[s,o,l]=P(e,0,t&&t.leap1900),d=I(i/60/60)%60,m=I(i/60)%60,u=I(i)%60;if(t&&t.nativeDate){const e=new Date(0);return e.setUTCFullYear(s,o-1,l),e.setUTCHours(d,m,u),e}return[s,o,l,d,m,u]}function U(e){return!!(e[0]&&e[0].percent||e[1]&&e[1].percent||e[2]&&e[2].percent||e[3]&&e[3].percent)}function R(e){return!!(e[0]&&e[0].date||e[1]&&e[1].date||e[2]&&e[2].date||e[3]&&e[3].date)}function G(e){const[t,n,a,r]=e;return!(t&&!t.generated||n&&!n.generated||a&&!a.generated||!r||!r.text||r.generated)}const H={text:15,datetime:10.8,date:10.8,time:10.8,percent:10.6,currency:10.4,grouped:10.2,scientific:6,number:4,fraction:2,general:0,error:0},B=[[\"DMY\",1],[\"DM\",2],[\"MY\",3],[\"MDY\",4],[\"MD\",5],[\"hmsa\",6],[\"hma\",7],[\"hms\",8],[\"hm\",9]];const $={total:1,sign:0,period:0,int:1,frac:0};const W=(e,t)=>e.replace(/\\./,t.decimal);function Z(e,t,n,a){const r=0|n;if(\"string\"==typeof n)e.push(n);else if(n===r)e.push(Math.abs(r));else{let t=0;const r=Math.abs(n);r&&(t=Math.floor(Math.log10(r)));let i=t<0?r*10**-t:r/10**t;10===i&&(i=1,t++);const s=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Math.abs(e);if(!n)return $;const a=t&&e<0?1:0,r=Math.floor(n),i=Math.floor(Math.log10(n)+1);let s=0,o=0;if(r!==n){s=1;const e=String(c(i<0?n*10**-i:n/10**i,15));let t=e.length,a=!0,r=0;for(;r<=e.length;){if(\".\"===e[r]){t--;break}\"0\"===e[r]&&a?t--:a=!1,r++}o=t-i,o<0&&(o=0,s=0)}return{total:a+Math.max(i,1)+s+o,digits:Math.max(i,0)+o,sign:a,period:s,int:Math.max(i,1),frac:o}}(r),o=()=>{const n=Math.abs(t);let r;r=1===i?i:c(i,5),e.push(W(r+\"\",a),a.exponent,t<0?a.negative:a.positive,n<10?\"0\":\"\",n)};if(t>=-4&&t<=-1){const n=r.toPrecision(10+t).replace(/0+$/,\"\");e.push(W(n,a))}else if(10===t){const t=r.toFixed(10).slice(0,12).replace(/\\.$/,\"\");e.push(W(t,a))}else if(Math.abs(t)<=9){const n=11;if(s.total<=n){const t=c(r,9).toFixed(s.frac);e.push(W(t,a))}else 9===t?e.push(Math.floor(r)):t>=0&&t<9?e.push(c(r,9-t)):o()}else s.total>=12?o():Math.floor(r)===r?e.push(Math.floor(r)):e.push(W(c(r,9).toFixed(s.frac),a))}return e}const K=86400,q={int:\"integer\",frac:\"fraction\",man:\"mantissa\",num:\"numerator\",den:\"denominator\"},V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Math.floor(Math.log10(e));return t>1?Math.floor(n/t)*t:n};function Q(e,t,n,a){let r=\"\",i=\"\",s=\"\",o=\"\",l=\"\",d=0,m=0|e,f=0,g=0,h=1,v=0,M=0,k=0,x=0,F=0,z=0;const w=a||u;if(!t.text&&isFinite(t.scale)&&1!==t.scale&&(e=function(e){if(0===e)return e;const t=Math.ceil(Math.log10(e<0?-e:e)),n=10**(16-Math.floor(t));return Math.round(e*n)/n}(e*t.scale)),t.exponential){let n=Math.abs(e);if(n){const e=10**-V(n,t.int_max),a=c(n*e,t.frac_max)/e;d=V(a,t.int_max)}n/=10**d,e=e<0?-n:n,r+=Math.abs(d)}if(t.integer){const n=Math.abs(c(e,t.fractions?1:t.frac_max));l+=n<1?\"\":Math.floor(n)}if(t.grouping){let e=\"\",n=l.length;for(n>t.group_pri&&(n-=t.group_pri,e=w.group+l.slice(n,n+t.group_pri)+e);n>t.group_sec;)n-=t.group_sec,e=w.group+l.slice(n,n+t.group_sec)+e;l=n?l.slice(0,n)+e:e}t.dec_fractions&&(o=String(c(e,t.frac_max)).split(\".\")[1]||\"\");let D=!1;if(t.fractions){const n=Math.abs(t.integer?e%1:e);if(n)if(D=!0,isFinite(t.denominator))s+=t.denominator,i+=c(n*t.denominator),\"0\"===i&&(i=\"\",s=\"\",D=!1,l||(l=\"0\"));else{const e=p(n,t.integer?t.num_max:1/0,t.den_max);i+=e[0],s+=e[1],t.integer&&\"0\"===i&&(l||(l=\"0\"),i=\"\",s=\"\",D=!1)}}if(t.date_eval&&((e,t)=>t?e<-694324||e>=35830291:e<0||e>=2958466)(e,n.dateSpanLarge)){if(n.dateErrorThrows)throw new Error(\"Date out of bounds\");if(n.dateErrorNumber){return Z(e<0?[w.negative]:[],0,e,w).join(\"\")}return n.overflow}if(t.date){m=0|e;const a=K*(e-m);if(f=Math.floor(a),z=a-f,Math.abs(z)<1e-6?z=0:z>.9999&&(z=0,f+=1,f===K&&(f=0,m+=1)),m||t.date_system){const a=P(e,t.date_system,n.leap1900);g=a[0],h=a[1],v=a[2]}if(f||z){const e=512&t.date||256&t.date||128&t.date||t.date&b||t.date&_||t.date&y;(512===e&&z>.9995||256===e&&z>.995||128===e&&z>.95||e===b&&z>=.5||e===_&&z>=.5||e===y&&z>=.5)&&(f++,z=0);const n=f<0?K+f:f;F=Math.floor(n)%60,x=Math.floor(n/60)%60,k=Math.floor(n/60/60)%60}M=(6+m)%7}if(t.int_padding&&(l=1===t.int_padding.length?l||t.int_padding:t.int_padding.substring(0,t.int_padding.length-l.length)+l),t.num_padding&&(i=1===t.num_padding.length?i||t.num_padding:t.num_padding.substring(0,t.num_padding.length-i.length)+i),t.den_padding&&(s=1===t.den_padding.length?s||t.den_padding:s+t.den_padding.slice(s.length)),t.man_padding){const e=t.exp_plus?\"+\":\"\";r=1===t.man_padding.length?(d<0?\"-\":e)+(r||t.man_padding):(d<0?\"-\":e)+t.man_padding.slice(0,t.man_padding.length-r.length)+r}const S=[];let C=0;const E={int:0,frac:0,man:0,num:0,den:0};for(let d=0,u=t.tokens.length;d<u;d++){const u=t.tokens[d],c=u.num?u.num.length:0;if(\"string\"===u.type)u.rule?\"num\"===u.rule?D?S.push(u.value):(t.num_min>0||t.den_min>0)&&S.push(u.value.replace(/./g,j[\"?\"])):\"num+int\"===u.rule?D&&l?S.push(u.value):t.den_min>0&&(l||t.num_min)&&S.push(u.value.replace(/./g,j[\"?\"])):\"den\"===u.rule&&(D?S.push(u.value):(t.den_min>0||t.den_min>0)&&S.push(u.value.replace(/./g,j[\"?\"]))):S.push(u.value);else if(\"error\"===u.type)S.push(n.invalid);else if(\"point\"===u.type)S.push(t.date?u.value:w.decimal);else if(\"general\"===u.type)Z(S,0,e,w);else if(\"exp\"===u.type)S.push(w.exponent);else if(\"minus\"===u.type)u.volatile&&t.date||u.volatile&&(e>=0||\"number\"!=typeof e)||(u.volatile&&!t.fractions&&(t.integer||t.dec_fractions)?(e<0&&l&&\"0\"!==l||o)&&S.push(w.negative):S.push(w.negative));else if(\"plus\"===u.type)S.push(w.positive);else if(\"text\"===u.type)S.push(e);else if(\"div\"===u.type)D?S.push(\"/\"):t.num_min>0||t.den_min>0?S.push(j[\"?\"]):S.push(j[\"#\"]);else if(\"int\"===u.type)if(1===t.int_pattern.length)S.push(l);else{const e=C?t.int_pattern.join(\"\").length-E.int:1/0,n=C===t.int_pattern.length-1?0:t.int_pattern.join(\"\").length-(E.int+u.num.length);S.push(l.substring(l.length-e,l.length-n)),C++,E.int+=u.num.length}else if(\"frac\"===u.type){const e=E.frac;for(let t=0;t<c;t++)S.push(o[t+e]||j[u.num[t]]);E.frac+=c}else if(u.type in q)1===t[u.type+\"_pattern\"].length?(\"int\"===u.type&&S.push(l),\"frac\"===u.type&&S.push(o),\"man\"===u.type&&S.push(r),\"num\"===u.type&&S.push(i),\"den\"===u.type&&S.push(s)):(S.push(q[u.type].slice(E[u.type],E[u.type]+c)),E[u.type]+=c);else if(\"year\"===u.type)g<0&&S.push(w.negative),S.push(String(Math.abs(g)).padStart(4,\"0\"));else if(\"year-short\"===u.type){const e=g%100;S.push(e<10?\"0\":\"\",e)}else if(\"month\"===u.type)S.push(u.pad&&h<10?\"0\":\"\",h);else if(\"monthname-single\"===u.type)6===t.date_system?S.push(w.mmmm6[h-1].charAt(0)):S.push(w.mmmm[h-1].charAt(0));else if(\"monthname-short\"===u.type)6===t.date_system?S.push(w.mmm6[h-1]):S.push(w.mmm[h-1]);else if(\"monthname\"===u.type)6===t.date_system?S.push(w.mmmm6[h-1]):S.push(w.mmmm[h-1]);else if(\"weekday-short\"===u.type)S.push(w.ddd[M]);else if(\"weekday\"===u.type)S.push(w.dddd[M]);else if(\"day\"===u.type)S.push(u.pad&&v<10?\"0\":\"\",v);else if(\"hour\"===u.type){const e=k%t.clock||(t.clock<24?t.clock:0);S.push(u.pad&&e<10?\"0\":\"\",e)}else if(\"min\"===u.type)S.push(u.pad&&x<10?\"0\":\"\",x);else if(\"sec\"===u.type)S.push(u.pad&&F<10?\"0\":\"\",F);else if(\"subsec\"===u.type){S.push(w.decimal);const e=z.toFixed(t.sec_decimals);S.push(e.slice(2,2+u.decimals))}else if(\"am\"===u.type){const e=k<12?0:1;u.short&&!a?S.push(\"AP\"[e]):S.push(w.ampm[e])}else if(\"hour-elap\"===u.type){e<0&&S.push(w.negative);const t=24*m+Math.floor(Math.abs(f)/3600);S.push(String(Math.abs(t)).padStart(u.pad,\"0\"))}else if(\"min-elap\"===u.type){e<0&&S.push(w.negative);const t=1440*m+Math.floor(Math.abs(f)/60);S.push(String(Math.abs(t)).padStart(u.pad,\"0\"))}else if(\"sec-elap\"===u.type){e<0&&S.push(w.negative);const t=m*K+Math.abs(f);S.push(String(Math.abs(t)).padStart(u.pad,\"0\"))}else if(\"b-year\"===u.type)S.push(g+543);else if(\"b-year-short\"===u.type){const e=(g+543)%100;S.push(e<10?\"0\":\"\",e)}}return n.nbsp?S.join(\"\"):S.join(\"\").replace(/\\u00a0/g,\" \")}function X(e,t){for(let n=0;n<3;n++){const a=t[n];if(a){let t;if(a.condition){const n=a.condition[0],r=a.condition[1];\"=\"===n?t=e===r:\">\"===n?t=e>r:\"<\"===n?t=e<r:\">=\"===n?t=e>=r:\"<=\"===n?t=e<=r:\"<>\"===n&&(t=e!==r)}else t=!0;if(t)return a}}}const ee=S(\"@\"),te=\"black\";const ne={};function ae(e,t){if(e){const n=e[0];t[n]=t[n]||{},ae(e.slice(1),t[n])}else t.$=!0}[\"d-F-y\",\"d-F-Y\",\"d-M-y\",\"d-M-Y\",\"F-d-y\",\"F-d-Y\",\"F-j-y\",\"F-j-Y\",\"j-F-y\",\"j-F-Y\",\"j-M-y\",\"j-M-Y\",\"M-d-y\",\"M-d-Y\",\"M-j-y\",\"M-j-Y\",\"m-d-y\",\"m-d-Y\",\"m-j-y\",\"m-j-Y\",\"n-d-y\",\"n-d-Y\",\"n-j-y\",\"n-j-Y\",\"y-F-d\",\"y-F-j\",\"y-M-d\",\"y-M-j\",\"Y-F-d\",\"Y-F-j\",\"Y-M-d\",\"Y-m-d\",\"Y-M-j\",\"Y-m-j\",\"Y-n-d\",\"Y-n-j\",\"j-F\",\"j-M\",\"d-F\",\"d-M\",\"n-d\",\"n-j\",\"n-Y\",\"m-d\",\"m-j\",\"m-Y\",\"M-Y\",\"M-y\",\"F-y\",\"F-Y\",\"Y-M\",\"Y-n\",\"Y-m\",\"Y-F\",\"Y-M\"].forEach((e=>{ae(e,ne),ae(e+\" x\",ne),ae(e+\" l\",ne),ae(e+\" l x\",ne),ae(\"l \"+e,ne),ae(\"l \"+e+\" x\",ne),ae(e+\" D\",ne),ae(e+\" D x\",ne),ae(\"D \"+e,ne),ae(\"D \"+e+\" x\",ne)}));const re={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},ie={january:1,february:2,march:3,april:4,june:6,july:7,august:8,september:9,october:10,november:11,december:12},se={sunday:\"l\",monday:\"l\",tuesday:\"l\",wednesday:\"l\",thursday:\"l\",friday:\"l\",saturday:\"l\",sun:\"D\",mon:\"D\",tue:\"D\",wed:\"D\",thu:\"D\",fri:\"D\",sat:\"D\"},oe=(new Date).getUTCFullYear();function le(e){const t=new RegExp(\"^([\\\\s+%\"+k.join(\"\")+\"(-]*)(((?:(?:\\\\d[\\\\d,]*)(?:\\\\.\\\\d*)?|(?:\\\\.\\\\d+)))([eE][+-]?\\\\d+)?)([\\\\s%\"+k.join(\"\")+\")]*)$\").exec(e);if(t){const[,e,n,a,r,i]=t;let s=1,o=\"\",l=!1,d=!1,m=!1,u=!1,c=!1,p=null,f=!1,g=parseFloat(n.replace(/,/g,\"\"));if(!isFinite(g))return null;for(let t=0;t<e.length;t++){const n=e[t];if(\"-\"===n){if(l||d)return null;l=!0,s=-1}else if(x.test(n)){if(c)return null;c=!0,p=n}else if(\"(\"===n){if(d||l)return null;d=!0,s=-1}else if(\"%\"===n){if(u)return null;u=!0}}for(let e=0;e<i.length;e++){const t=i[e];if(x.test(t)){if(c)return null;c=!0,p=t,f=!0}else if(\")\"===t){if(m||!d)return null;m=!0}else if(\"%\"===t){if(u)return null;u=!0}}if(r){if(u||c)return null;o=\"0.00E+00\"}else if(u){if(c)return null;o=a.includes(\".\")?\"0.00%\":\"0%\",g*=.01}else if(c){const e=a.includes(\".\")?\"#,##0.00\":\"#,##0\";o=f?e+p:p+e}else a.includes(\",\")&&(o=a.includes(\".\")?\"#,##0.00\":\"#,##0\");const h={v:g*s};return o&&(h.z=o),h}}const de=(e,t,n)=>{const a=n.path||\"\",r=Object.keys(t);for(let i=0;i<r.length;i++){let s;const o=r[i];if(t[o]){if(\"$\"===o||\"\"===o)e||(s=n);else if(\"-\"===o){const r=/^(\\s*([./-]|,\\s)\\s*|\\s+)/.exec(e);if(r){const i=\"-\"===r[1]||\"/\"===r[1]||\".\"===r[1]?r[1]:\" \";if(!n.sep||n.sep===i){const l=r[0].replace(/\\s+/g,\" \");s=de(e.slice(r[0].length),t[o],{...n,sep:i,path:a+l})}}}else if(\" \"===o){const r=/^[,.]?\\s+/.exec(e);if(r){const i=r[0].replace(/\\s+/g,\" \");s=de(e.slice(r[0].length),t[o],{...n,path:a+i})}}else if(\"j\"===o||\"d\"===o){const r=/^(0?[1-9]|1\\d|2\\d|3[01])\\b/.exec(e);r&&(s=de(e.slice(r[0].length),t[o],{...n,day:r[0],path:a+o}))}else if(\"n\"===o||\"m\"===o){const r=/^(0?[1-9]|1[012])\\b/.exec(e);r&&(s=de(e.slice(r[0].length),t[o],{...n,month:+r[0],_mon:r[0],path:a+o}))}else if(\"F\"===o||\"M\"===o){const r=/^([a-z]{3,9})\\b/i.exec(e),i=r&&(\"F\"===o?ie:re)[r[0].toLowerCase()];i&&(s=de(e.slice(r[0].length),t[o],{...n,month:i,_mon:r[0],path:a+o}))}else if(\"l\"===o||\"D\"===o){const r=/^([a-z]{3,9})\\b/i.exec(e);(r&&se[r[0].toLowerCase()])===o&&(s=de(e.slice(r[0].length),t[o],{...n,path:a+o}))}else if(\"y\"===o){const r=/^\\d\\d\\b/.exec(e);if(r){const i=+r[0]>=30?+r[0]+1900:+r[0]+2e3;s=de(e.slice(r[0].length),t[o],{...n,year:i,path:a+o})}}else if(\"Y\"===o){const r=/^\\d\\d\\d\\d\\b/.exec(e);r&&(s=de(e.slice(r[0].length),t[o],{...n,year:+r[0],path:a+o}))}else{if(\"x\"!==o)throw new Error('Unknown date token \"'.concat(o,'\"'));{const r=ue(e);r&&(s=de(\"\",t[o],{...n,time:r.v,tf:r.z,path:a+o}))}}if(s)return s}}};function me(e,t){const n=de(e.trim(),ne,{path:\"\"});if(n){var a;if(\".\"===n.sep&&3===n.path.length)return null;const e=+(null!==(a=n.year)&&void 0!==a?a:oe);if(n.day||(n.day=1),!function(e,t,n){if(n<1)return!1;if(t<1||t>12)return!1;if(2===t){if(n>(e%4==0&&e%100!=0||e%400==0||1900===e?29:28))return!1}else if((4===t||6===t||9===t||11===t)&&n>30||(1===t||3===t||5===t||7===t||8===t||10===t||12===t)&&n>31)return!1;return!0}(e,n.month,n.day))return null;let r=-1/0;if(e<1900)return null;e<=1900&&n.month<=2?r=25568:e<1e4&&(r=25569);const i=Date.UTC(e,n.month-1,n.day)/864e5+r+(n.time||0);if(i>=0&&i<=2958465){const e=\"0\"===n._mon[0]||\"0\"===n.day[0]||2===n._mon.length&&2===n.day.length,a=n.path.replace(/[jdlDnmMFyYx-]/g,(t=>\"j\"===t||\"d\"===t?e?\"dd\":\"d\":\"D\"===t?\"ddd\":\"l\"===t?\"dddd\":\"n\"===t||\"m\"===t?e?\"mm\":\"m\":\"M\"===t?\"mmm\":\"F\"===t?\"mmmm\":\"y\"===t?\"yy\":\"x\"===t?n.tf||\"\":\"Y\"===t?\"yyyy\":t));return t&&t.nativeDate?{v:L(i,t),z:a}:{v:i,z:a}}}return null}function ue(e){const t=/^\\s*([10]?\\d|2[0-4])(?::([0-5]\\d|\\d))?(?::([0-5]\\d|\\d))?(\\.\\d{1,10})?(?:\\s*([AP])M?)?\\s*$/i.exec(e);if(t){const[,e,n,a,r,i]=t;if(r&&!a)return null;if(!i&&!n&&!a)return null;let s=1*(e||0);if(i){if(s>=13)return null;\"p\"!==i[0]&&\"P\"!==i[0]||(s+=12)}return{v:(60*s*60+60*(1*(n||0))+1*(a||0)+1*(r||0))/86400,z:(2===e.length?\"hh\":\"h\")+\":mm\"+(a?\":ss\":\"\")+(i?\" AM/PM\":\"\")}}return null}function ce(e){return/^\\s*true\\s*$/i.test(e)?{v:!0}:/^\\s*false\\s*$/i.test(e)?{v:!1}:null}const pe={};function fe(e,t){const{pattern:n,partitions:a,locale:r}=e,i=e=>{const n=Object.assign({},h(),t,e);return r&&(n.locale=r),n},s=(e,t)=>{const n=i(t);return function(e,t,n){const a=l(n.locale),r=t[3]?t[3]:ee;if(\"boolean\"==typeof e&&(e=e?\"TRUE\":\"FALSE\"),null==e)return\"\";if(\"number\"!=typeof e)return Q(e,r,n,a);if(!isFinite(e)){const t=a||u;return isNaN(e)?t.nan:(e<0?t.negative:\"\")+t.infinity}const i=X(e,t);return i?Q(e,i,n,a):n.overflow}(J(e,n),a,n)};s.color=(e,t)=>function(e,t){if(\"number\"!=typeof e||!isFinite(e))return(t[3]?t[3].color:ee.color)||te;const n=X(e,t);return n&&n.color||te}(J(e,i(t)),a);const o=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[a,r]=e,i=a.frac_max,s={type:\"general\",isDate:R(e),isText:G(e),isPercent:U(e),maxDecimals:a.general?9:i,scale:null!==(t=a.scale)&&void 0!==t?t:1,color:0,parentheses:0,grouped:a.grouping?1:0,_partitions:e},o=!s.isDate&&!s.isText&&!a.error&&a.tokens.some((e=>\"string\"===e.type&&(n?e.value===n:x.test(e.value))));let l=\"G\",d=i>=0?Math.min(15,i):\"\",m=\"\",u=\"\";if(r&&r.color&&(u=\"-\",s.color=1),a.parens&&(m=\"()\",s.parentheses=1),o)l=\"C\",s.type=\"currency\";else if(a.error)s.type=\"error\",s.maxDecimals=0;else if(s.isDate){let e=0,t=0,n=\"\";a.tokens.forEach((a=>{const r=a.type;/^(b-)?year/.test(r)?(n+=\"Y\",t++):r.startsWith(\"month\")?(n+=\"M\",t++):/^(week)?day/.test(r)?(n+=\"D\",t++):\"hour\"!==r&&\"min\"!==r&&\"sec\"!==r&&\"am\"!==r||(n+=r[0],e++)})),s.type=\"date\",t&&e?s.type=\"datetime\":!t&&e&&(s.type=\"time\");const r=B.find((e=>n.startsWith(e[0])));l=r?\"D\":\"G\",d=r?r[1]:\"\"}else s.isText?(l=\"G\",s.type=\"text\",d=\"\",s.maxDecimals=0):a.general?(l=\"G\",s.type=\"general\",d=\"\"):a.fractions?(l=\"G\",s.type=\"fraction\",d=\"\"):a.exponential?(l=\"S\",s.type=\"scientific\"):s.isPercent?(l=\"P\",s.type=\"percent\"):a.grouping?(l=\",\",s.type=\"grouped\"):(a.int_max||i)&&(l=\"F\",s.type=\"number\");return s.code=l+d+u+m,s.level=H[s.type],Object.freeze(s)}(a,(t||{}).currency)||new SyntaxError;return s.info=o,s.dateInfo=function(e){const[t]=e;return{year:!!(2&t.date),month:!!(4&t.date),day:!!(8&t.date),hours:!!(t.date&y),minutes:!!(t.date&_),seconds:!!(t.date&b),clockType:12===t.clock?12:24}}(a),s.isPercent=()=>!!o.isPercent,s.isDate=()=>!!o.isDate,s.isText=()=>!!o.isText,s.pattern=n,e.error&&(s.error=e.error),s.options=i,s.locale=r||t&&t.locale||\"\",Object.freeze(s)}function ge(e,t){e||(e=\"General\");let n=null;if(pe[e])n=pe[e];else{n=Object.assign({},h(),t).throws?E(e):function(e){try{return E(e)}catch(t){const n={tokens:[{type:\"error\"}],error:t.message};return{pattern:e,partitions:[n,n,n,n],error:t.message,locale:null}}}(e),n.error||(pe[e]=n)}return fe(n,t)}ge.isDate=e=>ge(e,{throws:!1}).isDate(),ge.isPercent=e=>ge(e,{throws:!1}).isPercent(),ge.isText=e=>ge(e,{throws:!1}).isText(),ge.getInfo=(e,t)=>ge(e,{...t,throws:!1}).info,ge.getDateInfo=(e,t)=>ge(e,{...t,throws:!1}).dateInfo,ge.dateToSerial=J,ge.dateFromSerial=L,ge.options=h,ge.dec2frac=p,ge.round=c,ge.codeToLocale=n,ge.parseLocale=s,ge.getLocale=l,ge.addLocale=(e,t)=>{const n=s(t);return delete pe[n.lang],delete pe[n.language],m(e,n)},ge.format=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n&&\"object\"==typeof n?n:{locale:n,throws:!a};return ge(e,r)(J(t,r),r)},ge.is_date=ge.isDate,ge.parseNumber=le,ge.parseDate=me,ge.parseTime=ue,ge.parseBool=ce,ge.parseValue=function(e,t){var n,a,r;return null!==(n=null!==(a=null!==(r=le(e))&&void 0!==r?r:me(e,t))&&void 0!==a?a:ue(e))&&void 0!==n?n:ce(e)};var he=ge;return t=t.default}()}));"],"sourceRoot":""}