{"version":3,"sources":["webpack://x_data_spreadsheet/webpack/universalModuleDefinition","webpack://x_data_spreadsheet/webpack/bootstrap","webpack://x_data_spreadsheet/./src/locale/locale.js","webpack://x_data_spreadsheet/./src/locale/en.js","webpack://x_data_spreadsheet/./src/core/helper.js","webpack://x_data_spreadsheet/./src/core/alphabet.js","webpack://x_data_spreadsheet/./node_modules/numfmt/index.js","webpack://x_data_spreadsheet/./src/core/font.js","webpack://x_data_spreadsheet/./src/canvas/draw.js","webpack://x_data_spreadsheet/./src/core/format.js","webpack://x_data_spreadsheet/./src/core/formula.js","webpack://x_data_spreadsheet/./src/component/table.js","webpack://x_data_spreadsheet/./src/core/cell.js","webpack://x_data_spreadsheet/(webpack)/buildin/global.js","webpack://x_data_spreadsheet/./node_modules/numfmt/numfmt.js","webpack://x_data_spreadsheet/./src/component/element.js","webpack://x_data_spreadsheet/./src/core/cell_range.js","webpack://x_data_spreadsheet/./src/core/selector.js","webpack://x_data_spreadsheet/./src/core/scroll.js","webpack://x_data_spreadsheet/./src/core/history.js","webpack://x_data_spreadsheet/./src/core/clipboard.js","webpack://x_data_spreadsheet/./src/core/auto_filter.js","webpack://x_data_spreadsheet/./src/core/merge.js","webpack://x_data_spreadsheet/./src/core/row.js","webpack://x_data_spreadsheet/./src/core/col.js","webpack://x_data_spreadsheet/./src/core/validator.js","webpack://x_data_spreadsheet/./src/core/validation.js","webpack://x_data_spreadsheet/./src/core/data_proxy.js","webpack://x_data_spreadsheet/./src/component/event.js","webpack://x_data_spreadsheet/./src/config.js","webpack://x_data_spreadsheet/./src/component/resizer.js","webpack://x_data_spreadsheet/./src/component/scrollbar.js","webpack://x_data_spreadsheet/./src/component/selector.js","webpack://x_data_spreadsheet/./src/component/suggest.js","webpack://x_data_spreadsheet/./src/component/icon.js","webpack://x_data_spreadsheet/./assets/undo.svg","webpack://x_data_spreadsheet/./assets/redo.svg","webpack://x_data_spreadsheet/./assets/print.svg","webpack://x_data_spreadsheet/./assets/paintformat.svg","webpack://x_data_spreadsheet/./assets/clearformat.svg","webpack://x_data_spreadsheet/./assets/bold.svg","webpack://x_data_spreadsheet/./assets/font-italic.svg","webpack://x_data_spreadsheet/./assets/underline.svg","webpack://x_data_spreadsheet/./assets/strikeout.svg","webpack://x_data_spreadsheet/./assets/color.svg","webpack://x_data_spreadsheet/./assets/bgcolor.svg","webpack://x_data_spreadsheet/./assets/merge.svg","webpack://x_data_spreadsheet/./assets/align-left.svg","webpack://x_data_spreadsheet/./assets/align-center.svg","webpack://x_data_spreadsheet/./assets/align-right.svg","webpack://x_data_spreadsheet/./assets/align-top.svg","webpack://x_data_spreadsheet/./assets/align-middle.svg","webpack://x_data_spreadsheet/./assets/align-bottom.svg","webpack://x_data_spreadsheet/./assets/textwrap.svg","webpack://x_data_spreadsheet/./assets/filter.svg","webpack://x_data_spreadsheet/./assets/formulas.svg","webpack://x_data_spreadsheet/./assets/arrow-down.svg","webpack://x_data_spreadsheet/./assets/arrow-right.svg","webpack://x_data_spreadsheet/./assets/link.svg","webpack://x_data_spreadsheet/./assets/graph.svg","webpack://x_data_spreadsheet/./assets/freeze.svg","webpack://x_data_spreadsheet/./assets/ellipsis.svg","webpack://x_data_spreadsheet/./assets/add.svg","webpack://x_data_spreadsheet/./assets/border-all.svg","webpack://x_data_spreadsheet/./assets/border-inside.svg","webpack://x_data_spreadsheet/./assets/border-horizontal.svg","webpack://x_data_spreadsheet/./assets/border-vertical.svg","webpack://x_data_spreadsheet/./assets/border-outside.svg","webpack://x_data_spreadsheet/./assets/border-left.svg","webpack://x_data_spreadsheet/./assets/border-top.svg","webpack://x_data_spreadsheet/./assets/border-right.svg","webpack://x_data_spreadsheet/./assets/border-bottom.svg","webpack://x_data_spreadsheet/./assets/border-none.svg","webpack://x_data_spreadsheet/./assets/line-color.svg","webpack://x_data_spreadsheet/./assets/line-type.svg","webpack://x_data_spreadsheet/./assets/chevron-left.svg","webpack://x_data_spreadsheet/./assets/chevron-right.svg","webpack://x_data_spreadsheet/./assets/close.svg","webpack://x_data_spreadsheet/./src/component/calendar.js","webpack://x_data_spreadsheet/./src/component/datepicker.js","webpack://x_data_spreadsheet/./src/component/editor.js","webpack://x_data_spreadsheet/./src/component/button.js","webpack://x_data_spreadsheet/./src/component/print.js","webpack://x_data_spreadsheet/./src/component/contextmenu.js","webpack://x_data_spreadsheet/./src/component/toolbar/item.js","webpack://x_data_spreadsheet/./src/component/tooltip.js","webpack://x_data_spreadsheet/./src/component/toolbar/dropdown_item.js","webpack://x_data_spreadsheet/./src/component/dropdown.js","webpack://x_data_spreadsheet/./src/component/dropdown_align.js","webpack://x_data_spreadsheet/./src/component/toolbar/align.js","webpack://x_data_spreadsheet/./src/component/toolbar/valign.js","webpack://x_data_spreadsheet/./src/component/toolbar/toggle_item.js","webpack://x_data_spreadsheet/./src/component/toolbar/autofilter.js","webpack://x_data_spreadsheet/./src/component/toolbar/bold.js","webpack://x_data_spreadsheet/./src/component/toolbar/italic.js","webpack://x_data_spreadsheet/./src/component/toolbar/strike.js","webpack://x_data_spreadsheet/./src/component/toolbar/underline.js","webpack://x_data_spreadsheet/./src/component/color_palette.js","webpack://x_data_spreadsheet/./src/component/dropdown_color.js","webpack://x_data_spreadsheet/./src/component/dropdown_linetype.js","webpack://x_data_spreadsheet/./src/component/border_palette.js","webpack://x_data_spreadsheet/./src/component/dropdown_border.js","webpack://x_data_spreadsheet/./src/component/toolbar/border.js","webpack://x_data_spreadsheet/./src/component/toolbar/icon_item.js","webpack://x_data_spreadsheet/./src/component/toolbar/clearformat.js","webpack://x_data_spreadsheet/./src/component/toolbar/paintformat.js","webpack://x_data_spreadsheet/./src/component/toolbar/text_color.js","webpack://x_data_spreadsheet/./src/component/toolbar/fill_color.js","webpack://x_data_spreadsheet/./src/component/dropdown_fontsize.js","webpack://x_data_spreadsheet/./src/component/toolbar/font_size.js","webpack://x_data_spreadsheet/./src/component/dropdown_font.js","webpack://x_data_spreadsheet/./src/component/toolbar/font.js","webpack://x_data_spreadsheet/./src/component/dropdown_format.js","webpack://x_data_spreadsheet/./src/component/toolbar/format.js","webpack://x_data_spreadsheet/./src/component/dropdown_formula.js","webpack://x_data_spreadsheet/./src/component/toolbar/formula.js","webpack://x_data_spreadsheet/./src/component/toolbar/freeze.js","webpack://x_data_spreadsheet/./src/component/toolbar/merge.js","webpack://x_data_spreadsheet/./src/component/toolbar/redo.js","webpack://x_data_spreadsheet/./src/component/toolbar/undo.js","webpack://x_data_spreadsheet/./src/component/toolbar/print.js","webpack://x_data_spreadsheet/./src/component/toolbar/textwrap.js","webpack://x_data_spreadsheet/./src/component/toolbar/more.js","webpack://x_data_spreadsheet/./src/component/toolbar/index.js","webpack://x_data_spreadsheet/./src/component/modal.js","webpack://x_data_spreadsheet/./src/component/form_input.js","webpack://x_data_spreadsheet/./src/component/form_select.js","webpack://x_data_spreadsheet/./src/component/form_field.js","webpack://x_data_spreadsheet/./src/component/modal_validation.js","webpack://x_data_spreadsheet/./src/component/sort_filter.js","webpack://x_data_spreadsheet/./src/component/message.js","webpack://x_data_spreadsheet/./src/component/sheet.js","webpack://x_data_spreadsheet/./src/component/bottombar.js","webpack://x_data_spreadsheet/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","locale","tf","$languages","$messages","en","toolbar","undo","redo","print","paintformat","clearformat","format","fontName","fontSize","fontBold","fontItalic","underline","strike","color","bgcolor","border","merge","align","valign","textwrap","freeze","autofilter","formula","more","contextmenu","copy","cut","paste","pasteValue","pasteFormat","hide","insertRow","insertColumn","deleteSheet","deleteRow","deleteColumn","deleteCell","deleteCellText","validation","cellprintable","cellnonprintable","celleditable","cellnoneditable","size","orientation","orientations","general","text","number","percent","rmb","usd","eur","date","time","datetime","duration","longdate","dateformat","sum","average","max","min","_if","and","or","concat","product","count","mod","power","ceiling","floor","len","replace","substitute","vlookup","required","notMatch","between","notBetween","notIn","equal","notEqual","lessThan","lessThanEqual","greaterThan","greaterThanEqual","error","pasteForMergedCell","calendar","weeks","months","button","next","cancel","remove","save","ok","sort","desc","asc","filter","empty","dataValidation","range","criteria","modeType","cell","column","row","type","list","phone","email","operator","be","nbe","lt","lte","gt","gte","eq","neq","translate","messages","_i","_$languages","length","lang","message","keys","match","v","x_spreadsheet","arguments","undefined","unshift","numberCalc","mergeDeep","_len","sources","Array","_key","forEach","source","isArray","digits","a","ret","flag","charAt","a1","a2","Number","isNaN","al1","al2","num1","num2","toFixed","Math","cloneDeep","obj","JSON","parse","stringify","_len2","_key2","apply","equals","obj1","obj2","k","v1","v2","ai","arrayEquals","objOrAry","cb","total","rangeEach","rangeSum","getv","rangeReduceIf","inits","initv","ifv","deleteProperty","oldv","alphabets","stringAt","index","str","cindex","parseInt","last","indexAt","charCodeAt","expr2xy","src","x","y","xlock","ylock","xy2expr","y$","expr2expr","xn","yn","condition","_expr2xy2","_slicedToArray","fontSizes","baseFonts","getFontSizePxByPt","title","pt","px","dpr","devicePixelRatio","thinLineWidth","npx","npxLine","DrawBox","w","h","padding","_classCallCheck","this","width","height","borderTop","borderRight","borderBottom","borderLeft","top","_ref","bottom","left","right","drawFontLine","tx","ty","blheight","blwidth","floffset","line","Draw","el","ctx","getContext","resize","scale","style","_this$el","clearRect","options","assign","beginPath","restore","fillRect","fillText","mtxt","box","_this","attr","textWrap","font","textx","textAlign","textBaseline","italic","bold","fillStyle","strokeStyle","txts","split","biw","innerWidth","ntxts","it","txtWidth","measureText","textLine","start","push","substr","txtHeight","texty","txt","lineWidth","setLineDash","_ref2","_ref3","moveTo","_ref4","_ref5","x1","y1","lineTo","stroke","_toConsumableArray","topxys","rightxys","bottomxys","leftxys","sx","sy","closePath","fill","dtextcb","rect","clip","dateFmt","baseFormats","numfmt","render","label","formatm","f","numfmtCache","Map","cellText","parseValue","has","set","isNumber","parseFloat","isFinite","baseFormulas","ary","flat","reduce","b","_toArray","slice","map","_ref7","_ref8","_ref9","every","_ref11","some","_ref13","join","_ref15","_ref17","_ref18","_ref19","_ref20","pow","_ref21","_ref22","ceil","_ref23","_ref25","String","_ref27","_ref28","oldText","startNum","numChars","newText","zstart","_ref29","_ref30","replaceAll","_ref31","_ref32","lookupValue","table","colIndex","rangeLookup","console","log","findIndex","formulas","formulam","cellPaddingWidth","tableFixedHeaderCleanStyle","tableGridStyle","getDrawBox","data","rindex","yoffset","_data$cellRect","cellRect","renderCell","draw","sortedRowMap","rows","cols","isHide","nrindex","getCell","frozen","editable","getCellStyleOrDefault","dbox","setBorders","strokeBorders","settings","evalPaused","_cell","getCellTextOrDefault","_typeof","validations","getError","renderContent","viewRange","fw","fh","exceptRowSet","exceptRowTotalHeight","sri","eri","each","ri","ci","getHeight","filteredTranslateFunc","rset","Set","eachMergesInView","sci","add","sumHeight","autoFilter","active","afRange","hrange","intersects","dropdown","renderSelectedHeaderCell","global","getComputedStyle","canvas","getPropertyValue","renderFixedHeaders","sumWidth","nty","ntx","_data$selector$range","selector","eci","rowEach","rowHeight","ii","colEach","colWidth","renderContentGrid","showGrid","ch","cw","Table","viewWidth","viewHeight","indexWidth","clear","freezeTotalWidth","freezeTotalHeight","_data$scroll","scroll","_data$freeze","fri","fci","vr","clone","freezeViewRange","ftw","fth","twidth","theight","buildRange","stack","pop","ex","ey","_expr2xy4","items","infixExprToSuffixExpr","operatorStack","subStrs","fnArgType","fnArgOperator","fnArgsLen","oldc","locked","toUpperCase","test","c1","e","nc","evalSubExpr","subExpr","cellRender","fl","expr","substring","_expr2xy6","evalSuffixExpr","srcStack","formulaMap","cellList","fc","params","j","reverse","includes","getCellText","g","Function","self","default","he","1078","1052","1118","5121","15361","3073","2049","11265","13313","12289","4097","6145","8193","16385","1025","10241","7169","14337","9217","1067","1101","2092","1068","1069","1059","2117","1093","5146","1026","1109","1027","2052","3076","5124","4100","1028","1050","1029","1030","1125","2067","1043","1126","3081","10249","4105","9225","2057","16393","6153","8201","5129","13321","7177","11273","1033","12297","1061","1071","1080","1065","1124","1035","2060","11276","3084","9228","12300","1036","5132","13324","6156","14348","10252","4108","7180","1122","2108","1084","1110","1079","3079","1031","5127","4103","2055","1032","1140","1095","1279","1037","1081","1038","1039","1136","1057","1040","2064","1041","1099","1120","1087","1107","1111","1042","1088","1108","1142","1062","1063","2110","1086","1100","1082","1112","1153","1102","1104","2128","1121","1044","2068","1096","1045","1046","2070","1094","1047","2072","1048","1049","2073","1083","1103","3098","2074","1072","1074","1113","1115","1051","1060","1143","1070","11274","16394","13322","9226","5130","7178","12298","17418","4106","18442","2058","19466","6154","15370","10250","20490","1034","14346","8202","1089","2077","1053","1114","1064","1097","1092","1098","1054","1105","1073","1055","1090","1058","1056","2115","1091","1075","1066","1106","1076","1085","1077","group","decimal","positive","negative","exponent","nan","infinity","ampm","mmmm6","mmm6","mmmm","mmm","dddd","ddd","exec","SyntaxError","language","territory","codeset","modifier","u","round","abs","isDefault","overflow","dateErrorThrows","dateErrorNumber","dateSpanLarge","leap1900","nbsp","throws","invalid","ignoreTimezone","_","#","0","?","@","-","+","M","RegExp","F","z","repeat","D","S","date_eval","date_system","sec_decimals","clock","int_pattern","frac_pattern","man_pattern","den_pattern","num_pattern","tokens","num","fractions","dec_fractions","toLowerCase","raw","pad","used","indeterminate","short","decimals","exponential","exp_plus","plus","parens","pattern","grouping","indexOf","group_pri","group_sec","int_padding","man_padding","num_padding","den_padding","denominator","integer","rule","C","volatile","E","Error","generated","splice","partitions","A","Y","P","N","T","I","O","J","Date","UTC","setUTCFullYear","getFullYear","getMonth","getDate","setUTCHours","getHours","getMinutes","getSeconds","getMilliseconds","L","nativeDate","U","R","G","H","currency","grouped","scientific","fraction","B","$","sign","period","int","frac","W","Z","log10","toPrecision","K","q","man","den","V","Q","int_max","frac_max","num_max","den_max","num_min","den_min","padStart","X","ee","te","ne","ae","re","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","ie","january","february","march","april","june","july","august","september","october","november","december","se","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sun","mon","tue","wed","thu","sat","oe","getUTCFullYear","le","de","path","day","month","_mon","year","ue","me","trim","ce","pe","ge","isDate","isText","isPercent","maxDecimals","parentheses","_partitions","startsWith","find","code","level","info","dateInfo","hours","minutes","seconds","clockType","fe","getInfo","getDateInfo","dateToSerial","dateFromSerial","dec2frac","codeToLocale","parseLocale","getLocale","addLocale","is_date","parseNumber","parseDate","parseTime","parseBool","Element","tag","className","document","createElement","eventNames","handler","_eventNames$split2","fen","oen","eventName","navigator","userAgent","addEventListener","evt","stopPropagation","css","offsetTop","offsetLeft","offsetHeight","offsetWidth","scrollLeft","scrollTop","getBoundingClientRect","parentNode","_this2","eles","childNodes","ele","child","removeChild","arg","createTextNode","appendChild","contains","classList","cls","toggleClass","toggle","addClass","removeClass","_this3","setAttribute","getAttribute","removeAttribute","content","innerHTML","focus","_this4","removeProperty","_this5","CellRange","cell_range_classCallCheck","ref","refs","args","_expr2xy","rowFilter","other","addRet","dsr","dsc","der","multiple","Selector","selector_classCallCheck","Scroll","scroll_classCallCheck","History","history_classCallCheck","undoItems","redoItems","currentd","canUndo","canRedo","Clipboard","clipboard_classCallCheck","state","cellRange","Filter","auto_filter_classCallCheck","Sort","order","AutoFilter","filters","getData","getFilter","fset","_this$range","ctext","_this$range2","cnt","valueOf","Merges","merge_classCallCheck","cr","within","union","deleteWithin","cbWithin","rn","cn","it1","merges","toString","Rows","row_classCallCheck","getOrNew","idx","setHide","exceptSet","helper","cells","what","getCellOrNew","srcCellRange","dstCellRange","autofill","dsri","dsci","deri","deci","_srcCellRange$size","_srcCellRange$size2","row_slicedToArray","_dstCellRange$size","_dstCellRange$size2","drn","dcn","isAdd","dn","jj","nri","nci","ncell","word","result","setCell","ncellmm","eachCells","setCellText","ndata","_this6","rndata","_this7","_this8","col","ks","entries","Cols","minWidth","col_classCallCheck","getWidth","rules","returnMessage","Validator","validator_classCallCheck","values","_value","validator_slicedToArray","_value2","Validation","validator","validation_classCallCheck","nrefs","difference","Validations","errors","_v$validator$validate2","validation_slicedToArray","validate","getByValidator","addRef","defaultSettings","view","documentElement","clientHeight","clientWidth","showToolbar","showContextmenu","showBottomBar","autoFillOnCopy","canPaste","dst","_src$size2","data_proxy_slicedToArray","srn","scn","_dst$size2","copyPaste","deleteCells","_cell$merge","cutPaste","clipboard","move","setStyleBorder","bss","styles","cstyle","addStyle","DataProxy","data_proxy_classCallCheck","hyperlinks","comments","history","change","unsortedRowMap","changeData","_this$selector","_this$selector2","setData","copyText","_this$selector$range","clipboardData","clearData","preventDefault","writeText","then","err","isClear","isCopy","isCut","resetSheet","eventTrigger","readText","contentToPaste","parseClipboardContent","startRow","startColumn","cellContent","clipboardContent","parsedData","lines","srcRange","_selector$range2","cri","cci","getFirstIncludes","_this9","unmerge","_selector$range","isSingleSelected","mergeIndexes","_merges$ii","mri","mci","_cell$merge2","mrl","mcl","getCellMerge","_selector$size2","nfont","oldCell","vIndex","_this$selector3","_this$getSelectedRect","getSelectedRect","getRect","left0","top0","fsh","fsw","_getCellRowByY$call","scrollOffsety","frset","_getCellColByX$call","scrollOffsetx","_helper$rangeReduceIf2","totalWidth","totalHeight","_this$cellRect","_this$selector$range2","_cell$merge3","_this$selector$range3","_cell$merge4","_this10","_selector$size4","_selector$range3","_this11","_selector$range4","_this12","addFilter","setSort","resetAutoFilter","_this13","_autoFilter$filteredR","filteredRows","fary","from","oldAry","_this14","_this15","_this15$selector$rang","si","insert","shift","_this16","_selector$range5","_selector$range$size2","rsize","csize","_helper$rangeReduceIf4","_helper$rangeReduceIf6","_cell$merge5","cellStyle","defaultStyle","_this$selector4","_this$freeze","_this17","_this18","setHeight","_this19","setWidth","_this$settings","_this$freeze2","_rows$maxCell2","maxCell","exceptRows","exceptRowTH","filterIntersects","_selector$size6","rlen","clen","_selector$range6","unhide","frary","offset","nstyle","_this20","target","fn","unbind","removeEventListener","unbindClickoutside","xclickoutside","body","bindClickoutside","detail","mouseMoveUp","movefunc","upfunc","xEvtUp","calTouchDirection","spanx","spany","cssPrefix","Resizer","vertical","minDistance","resizer_classCallCheck","moving","children","unhideHoverEl","on","mousedblclickHandler","hoverEl","mousedownHandler","lineEl","cRect","finishedFn","unhideFn","unhideIndex","show","hideUnhide","startEvt","distance","buttons","movementX","movementY","Scrollbar","scrollbar_classCallCheck","moveFn","contentEl","_evt$target","contentDistance","cssKey","startZIndex","SelectorElement","useHideInput","autoFocus","component_selector_classCallCheck","inputChange","cornerEl","areaEl","clipboardEl","autofillEl","hideInput","hideInputDiv","of","val","calBRAreaOffset","ftwidth","ftheight","calTAreaOffset","calLAreaOffset","setBRAreaOffset","br","setAreaOffset","setTAreaOffset","setLAreaOffset","setLClipboardOffset","setClipboardOffset","setBRClipboardOffset","setTClipboardOffset","setAllAreaOffset","tl","setAllClipboardOffset","areaOffset","indexes","arange","lastri","lastci","resetAreaOffset","freezeHeight","freezeWidth","setOffset","coffset","getClipboardRect","resetOffset","indexesUpdated","calSelectedRangeByStart","setIndexes","moveIndexes","calSelectedRangeByEnd","_this$data$selector$r","setEnd","ern","ecn","showAutofill","hideAutofill","showClipboard","hideClipboard","inputEnter","filterItems","itemIndex","click","Suggest","itemClick","suggest_classCallCheck","cssRemoveKeys","parent","_el$html","item","html","suggest_toConsumableArray","input","keyCode","ctrlKey","icons","font-bold","font-italic","align-left","align-center","align-right","align-top","align-middle","align-bottom","arrow-down","arrow-right","link","graph","ellipsis","border-all","border-inside","border-horizontal","border-vertical","border-outside","border-left","border-top","border-right","border-bottom","border-none","line-color","line-type","chevron-left","chevron-right","close","buildSVG","Icon","icon_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","svg","iconNameEl","firstChild","addMonth","step","setMonth","weekday","setDate","getDay","Calendar","_h","calendar_classCallCheck","cvalue","headerLeftEl","bodyEl","buildAll","prev","calendar_toConsumableArray","week","selectChange","buildHeaderLeft","buildBody","_bodyEl$html","trs","cdate","startDate","datess","disabled","monthDays","_h2","tds","Datepicker","datepicker_classCallCheck","setValue","resetTextareaSize","inputText","textlineEl","textEl","maxTxtSize","editor_toConsumableArray","fontWidth","tlineWidth","maxWidth","viewFn","h1","keydownEventHandler","altKey","itxt","selectionEnd","ntxt","setSelectionRange","setText","position","blur","setTimeout","Editor","editor_classCallCheck","suggest","lastIndexOf","sit","eit","datepicker","dateFormat","search","bindInputEvents","setItems","suggestPosition","elOffset","sOffset","Button","button_classCallCheck","button_possibleConstructorReturn","button_getPrototypeOf","PAGER_SIZES","PAGER_ORIENTATIONS","inches2px","inc","btnClick","toPrint","Print","print_classCallCheck","paper","print_toConsumableArray","ps","preview","iwidth","iheight","contentRange","pages","canvases","mViewRange","_loop","th","yo","wrap","rh","yof","contentWindow","idoc","head","cloneNode","drawImage","menuItems","buildMenu","ContextMenu","contextmenu_classCallCheck","contextmenu_toConsumableArray","setMode","hideEl","vhf","Item","shortcut","item_classCallCheck","tip","element","_target$getBoundingCl","where","parentElement","elBox","wherebox","tooltipLeft","tooltiptop","tooltip","DropdownItem","dd","getValue","_get","dropdown_item_getPrototypeOf","setTitle","Dropdown","showArrow","placement","classname","dropdown_classCallCheck","dropdown_possibleConstructorReturn","dropdown_getPrototypeOf","headerClick","setContentChildren","headerEl","_this$contentEl","DropdownAlign","aligns","_getPrototypeOf2","dropdown_align_classCallCheck","icon","naligns","iconName","dropdown_align_possibleConstructorReturn","dropdown_align_getPrototypeOf","dropdown_align_toConsumableArray","setName","Align","align_classCallCheck","align_possibleConstructorReturn","align_getPrototypeOf","Valign","valign_classCallCheck","valign_possibleConstructorReturn","valign_getPrototypeOf","ToggleItem","toggle_item_get","toggle_item_getPrototypeOf","hasClass","Autofilter","autofilter_classCallCheck","autofilter_possibleConstructorReturn","autofilter_getPrototypeOf","Bold","bold_classCallCheck","bold_possibleConstructorReturn","bold_getPrototypeOf","Italic","italic_classCallCheck","italic_possibleConstructorReturn","italic_getPrototypeOf","Strike","strike_classCallCheck","strike_possibleConstructorReturn","strike_getPrototypeOf","Underline","underline_classCallCheck","underline_possibleConstructorReturn","underline_getPrototypeOf","themeColorPlaceHolders","themeColors","standardColors","buildTd","ColorPalette","_h4","color_palette_classCallCheck","color_palette_toConsumableArray","_h3","DropdownColor","dropdown_color_classCallCheck","colorPalette","dropdown_color_possibleConstructorReturn","dropdown_color_getPrototypeOf","lineTypes","DropdownLineType","dropdown_linetype_classCallCheck","beforei","lineTypeEls","iti","dropdown_linetype_possibleConstructorReturn","dropdown_linetype_getPrototypeOf","dropdown_linetype_toConsumableArray","buildTable","BorderPalette","border_palette_classCallCheck","ddColor","ddType","border_palette_slicedToArray","border_palette_toConsumableArray","DropdownBorder","dropdown_border_classCallCheck","borderPalette","dropdown_border_possibleConstructorReturn","dropdown_border_getPrototypeOf","Border","border_classCallCheck","border_possibleConstructorReturn","border_getPrototypeOf","IconItem","icon_item_get","icon_item_getPrototypeOf","Clearformat","clearformat_classCallCheck","clearformat_possibleConstructorReturn","clearformat_getPrototypeOf","Paintformat","paintformat_classCallCheck","paintformat_possibleConstructorReturn","paintformat_getPrototypeOf","TextColor","text_color_classCallCheck","text_color_possibleConstructorReturn","text_color_getPrototypeOf","FillColor","fill_color_classCallCheck","fill_color_possibleConstructorReturn","fill_color_getPrototypeOf","DropdownFontSize","dropdown_fontsize_classCallCheck","nfontSizes","dropdown_fontsize_possibleConstructorReturn","dropdown_fontsize_getPrototypeOf","dropdown_fontsize_toConsumableArray","Format","font_size_classCallCheck","font_size_possibleConstructorReturn","font_size_getPrototypeOf","DropdownFontsize","DropdownFont","dropdown_font_classCallCheck","nfonts","dropdown_font_possibleConstructorReturn","dropdown_font_getPrototypeOf","dropdown_font_toConsumableArray","Font","font_classCallCheck","font_possibleConstructorReturn","font_getPrototypeOf","DropdownFormat","dropdown_format_classCallCheck","nformats","dropdown_format_possibleConstructorReturn","dropdown_format_getPrototypeOf","dropdown_format_toConsumableArray","format_classCallCheck","format_possibleConstructorReturn","format_getPrototypeOf","DropdownFormula","dropdown_formula_classCallCheck","nformulas","dropdown_formula_possibleConstructorReturn","dropdown_formula_getPrototypeOf","dropdown_formula_toConsumableArray","formula_classCallCheck","formula_possibleConstructorReturn","formula_getPrototypeOf","Freeze","freeze_classCallCheck","freeze_possibleConstructorReturn","freeze_getPrototypeOf","Merge","toolbar_merge_classCallCheck","merge_possibleConstructorReturn","merge_getPrototypeOf","Redo","redo_classCallCheck","redo_possibleConstructorReturn","redo_getPrototypeOf","Undo","undo_classCallCheck","undo_possibleConstructorReturn","undo_getPrototypeOf","toolbar_print_classCallCheck","print_possibleConstructorReturn","print_getPrototypeOf","Textwrap","textwrap_classCallCheck","textwrap_possibleConstructorReturn","textwrap_getPrototypeOf","DropdownMore","more_classCallCheck","moreBtns","more_possibleConstructorReturn","more_getPrototypeOf","More","buildDivider","moreResize","_btns$html","_moreBtns$html","btns","moreEl","btns2","_moreEl$dd","widthFn","sumWidth2","list1","list2","toolbar_slicedToArray","genBtn","btn","onClick","Toolbar","toolbar_classCallCheck","undoEl","redoEl","showPrint","paintformatEl","clearformatEl","formatEl","fontEl","fontSizeEl","FontSize","boldEl","italicEl","underlineEl","strikeEl","textColorEl","fillColorEl","borderEl","mergeEl","alignEl","valignEl","textwrapEl","freezeEl","autofilterEl","formulaEl","Formula","_data$settings$extend","extendToolbar","reset","_el$computedStyle","computedStyle","marginLeft","marginRight","_it$computedStyle","getSelectedCellStyle","setState","canUnmerge","canAutofilter","freezeIsActive","Modal","modal_classCallCheck","modal_toConsumableArray","dimmer","_this$el$show$box","_document$documentEle","xkeydownEsc","FormInput","hint","form_input_classCallCheck","vchange","FormSelect","getTitle","form_select_classCallCheck","itemEl","patterns","FormField","labelWidth","form_field_classCallCheck","fieldLabelWidth","ModalValidation","modal_validation_classCallCheck","mf","rf","cf","criteriaSelected","criteriaOperatorSelected","minvf","maxvf","svf","vf","modal_validation_possibleConstructorReturn","modal_validation_getPrototypeOf","action","attrs","field","isShow","clsName","buildSortItem","resetFilterHeader","filterhEl","filterValues","checked","SortFilter","sort_filter_classCallCheck","filterbEl","filterClick","sortAscEl","sortDescEl","sortDesc","tindex","xtoast","_el$box","throttle","func","wait","timeout","that","selectorSet","contextMenu","trigger","selectorMove","direction","_selector$indexes","sheet_slicedToArray","_selector$moveIndexes","verticalScrollbar","horizontalScrollbar","_data$getSelectedRect","tableOffset","getTableOffset","verticalScrollbarSet","erth","horizontalScrollbarSet","sheetReset","tableEl","overlayerEl","overlayerCEl","tOffset","vRect","editor","fwidth","fheight","setFreezeLengths","clearClipboard","copyToSystemClipboard","pasteFromSystemClipboard","msg","cdata","pasteFromText","unhideRowsOrCols","overlayerMousedown","sortFilter","offsetX","offsetY","isAutofillEl","getCellRectByXY","getSort","shiftKey","_data$getCellRectByXY","paintformatActive","paintformatToggle","editorSetOffset","sPosition","editorSet","getSelectedCell","getSelectedValidator","dataSetCellText","setSelectedCellText","_data$selector","insertDeleteRowColumn","setSelectedCellAttr","toolbarChange","_data$selector2","sheetInitEvents","end","startx","starty","rowResizer","colResizer","modalValidation","tRect","showUnhide","xyInSelectedRect","setPosition","deltaY","deltaX","loopValue","vFunc","moveY","tempY","tempX","temp","horizontal","moveX","_evt$touches$","touches","pageX","pageY","_evt$changedTouches$","changedTouches","_evt$changedTouches$2","setAutoFilter","scrolly","resetBRLAreaOffset","scrollx","resetBRTAreaOffset","itext","_this6$data","addValidation","removeValidation","getSelectedValidation","hideRowsOrCols","reload","focusing","which","metaKey","Sheet","targetEl","sheet_classCallCheck","eventMap","listeners","callback","currentListener","removeListener","current","once","execCalllback","fire","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","event_toConsumableArray","removeAllListeners","createEventEmitter","_data$settings","_len3","_key3","resetData","setFreeze","_this$data","_this$getRect","bottombar_classCallCheck","bottombar_possibleConstructorReturn","bottombar_getPrototypeOf","contentClick","bottombar_toConsumableArray","_h$css","Bottombar","addFunc","swapFunc","deleteFunc","updateFunc","dataNames","activeEl","deleteEl","clickSwap2","menuEl","nindex","renameItem","clickSwap","bottombar_slicedToArray","Spreadsheet","selectors","src_classCallCheck","_objectSpread","showValidation","sheetIndex","datas","querySelector","bottombar","addSheet","sheet","rootEl","_this2$sheet","addItem","_this$bottombar$delet2","src_slicedToArray","deleteItem","oldIndex","ds","nd","getCellStyle"],"mappings":"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AAKmnC,UAAYD,EAAYvtC,OAAS,IACxCqG,KAAKmnC,UAAY,GAEnBD,EAAYlnC,KAAKmnC,WAAW5Y,YA6BV/+B,KAAKwQ,KAAM+sB,GACzB,MACF,KAAK,GAGL,KAAK,EACHka,GAAWz3C,KAAKwQ,KAAM+sB,GACtB,MACF,QACEA,EAAIC,oBAoEyCx9B,KAAKk+B,EAAMX,41BClF9D,IAAMkb,GAAQ,CACZr2C,KCnDa,wcDoDbC,KEpDa,qeFqDbC,MGrDa,2cHsDbC,YItDa,+WJuDbC,YKvDa,oYLwDbk2C,YMxDa,0gBNyDbC,cOzDa,4RP0Db71C,UQ1Da,2WR2DbC,OS3Da,2uET4DbC,MU5Da,6TV6DbC,QW7Da,qjBX8DbE,MY9Da,obZ+Dby1C,aa/Da,uUbgEbC,echEa,sUdiEbC,cejEa,sUfkEbC,YgBlEa,uShBmEbC,eiBnEa,6WjBoEbC,ekBpEa,kTlBqEb31C,SmBrEa,ybnBsEbE,WoBtEa,0RpBuEbC,QqBvEa,qRrBwEby1C,asBxEa,oMtByEbC,cuBzEa,4MvB0EbC,KwB1Ea,qhBxB2EbC,MyB3Ea,ydzB4Eb91C,O0B5Ea,8W1B6Eb+1C,S2B7Ea,ojB3B8Ebz8B,I4B9Ea,iR5B+Eb08B,a6B/Ea,8X7BgFbC,gB8BhFa,otB9BiFbC,oB+BjFa,0zB/BkFbC,kBgClFa,wzBhCmFbC,iBiCnFa,gcjCoFbC,ckCpFa,wzBlCqFbC,amCrFa,8zBnCsFbC,eoCtFa,kyBpCuFbC,gBqCvFa,gyBrCwFbC,csCxFa,s8BtCyFbC,auCzFa,uYvC0FbC,YwC1Fa,0ZxC2FbC,eyC3Fa,sMzC4FbC,gB0C5Fa,qN1C6FbC,M2C7Fa,iU3C2GFC,GAAW,SAACl6C,GACvB,OAAGq4C,GAAMr4C,GACAq4C,GAAMr4C,IAEbqZ,QAAQC,IAAR,QAAArT,OAAoBjG,EAApB,eAEK,KAGYm6C,eACnB,SAAAA,EAAYn6C,GAAM,IAAAwS,+FAAA4nC,CAAAhqC,KAAA+pC,GAChB3nC,EAAA6nC,GAAAjqC,KAAAkqC,GAAAH,GAAAv6C,KAAAwQ,KAAM,MAAN,GAAAnK,OAAgB6rC,GAAhB,eAAA7rC,OAAuCjG,KAEvC,IAA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","file":"xspreadsheet.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"x_data_spreadsheet\"] = factory();\n\telse\n\t\troot[\"x_data_spreadsheet\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","/* global window */\nimport en from './en';\n\n// Defines the fallback language as English\nlet $languages = ['en'];\nconst $messages = {\n  en,\n};\n\nfunction translate(key, messages) {\n  if (messages) {\n    // Return the translation from the first language in the languages array\n    // that has a value for the provided key.\n    for (const lang of $languages) {\n      if (!messages[lang]) break;\n\n      let message = messages[lang];\n\n      // Splits the key at '.' except where escaped as '\\.'\n      const keys = key.match(/(?:\\\\.|[^.])+/g);\n\n      for (let i = 0; i < keys.length; i += 1) {\n        const property = keys[i];\n        const value = message[property];\n\n        // If value doesn't exist, try next language\n        if (!value) break;\n\n        if (i === keys.length - 1) return value;\n\n        // Move down to the next level of the messages object\n        message = value;\n      }\n    }\n  }\n\n  return undefined;\n}\n\nfunction t(key) {\n  let v = translate(key, $messages);\n  if (!v && window && window.x_spreadsheet && window.x_spreadsheet.$messages) {\n    v = translate(key, window.x_spreadsheet.$messages);\n  }\n  return v || key;\n}\n\nfunction tf(key) {\n  return () => t(key);\n}\n\n// If clearLangList is set to false, lang will be added to the front of the\n// languages array. The languages in the language array are searched in order\n// to find a translation. This allows the use of other languages as a fallback\n// if lang is missing some keys. The language array is preloaded with English.\n// To set the languages array to only include lang, set clearLangList to true.\nfunction locale(lang, message, clearLangList = false) {\n  if (clearLangList) {\n    $languages = [lang];\n  } else {\n    // Append to front of array.\n    // Translation method will use the first language in the list that has a\n    // matching key.\n    $languages.unshift(lang);\n  }\n\n  if (message) {\n    $messages[lang] = message;\n  }\n}\n\nexport default {\n  t,\n};\n\nexport {\n  locale,\n  t,\n  tf,\n};\n","export default {\n  toolbar: {\n    undo: 'Undo',\n    redo: 'Redo',\n    print: 'Print',\n    paintformat: 'Paint format',\n    clearformat: 'Clear format',\n    format: 'Format',\n    fontName: 'Font',\n    fontSize: 'Font size',\n    fontBold: 'Font bold',\n    fontItalic: 'Font italic',\n    underline: 'Underline',\n    strike: 'Strike',\n    color: 'Text color',\n    bgcolor: 'Fill color',\n    border: 'Borders',\n    merge: 'Merge cells',\n    align: 'Horizontal align',\n    valign: 'Vertical align',\n    textwrap: 'Text wrapping',\n    freeze: 'Freeze cell',\n    autofilter: 'Filter',\n    formula: 'Functions',\n    more: 'More',\n  },\n  contextmenu: {\n    copy: 'Copy',\n    cut: 'Cut',\n    paste: 'Paste',\n    pasteValue: 'Paste values only',\n    pasteFormat: 'Paste format only',\n    hide: 'Hide',\n    insertRow: 'Insert row',\n    insertColumn: 'Insert column',\n    deleteSheet: 'Delete',\n    deleteRow: 'Delete row',\n    deleteColumn: 'Delete column',\n    deleteCell: 'Delete cell',\n    deleteCellText: 'Delete cell text',\n    validation: 'Data validations',\n    cellprintable: 'Enable export',\n    cellnonprintable: 'Disable export',\n    celleditable: 'Enable editing',\n    cellnoneditable: 'Disable editing',\n  },\n  print: {\n    size: 'Paper size',\n    orientation: 'Page orientation',\n    orientations: ['Landscape', 'Portrait'],\n  },\n  format: {\n    general: 'General',\n    text: 'Plain Text',\n    number: 'Number',\n    percent: 'Percent',\n    rmb: 'RMB',\n    usd: 'USD',\n    eur: 'EUR',\n    date: 'Date',\n    time: 'Time',\n    datetime: 'Date time',\n    duration: 'Duration',\n    longdate: 'Long Date',\n    dateformat: 'mm/dd/yyyy',\n  },\n  formula: {\n    sum: 'Sum',\n    average: 'Average',\n    max: 'Max',\n    min: 'Min',\n    _if: 'IF',\n    and: 'AND',\n    or: 'OR',\n    concat: 'Concat',\n    product: 'Product',\n    count: 'Count',\n    mod: 'Mod',\n    power: 'Power',\n    ceiling: 'Ceiling',\n    floor: 'Floor',\n    len: 'Length',\n    replace: 'Replace',\n    substitute: 'Substitute',\n    vlookup: 'Vertical Lookup',\n  },\n  validation: {\n    required: 'it must be required',\n    notMatch: 'it not match its validation rule',\n    between: 'it is between {} and {}',\n    notBetween: 'it is not between {} and {}',\n    notIn: 'it is not in list',\n    equal: 'it equal to {}',\n    notEqual: 'it not equal to {}',\n    lessThan: 'it less than {}',\n    lessThanEqual: 'it less than or equal to {}',\n    greaterThan: 'it greater than {}',\n    greaterThanEqual: 'it greater than or equal to {}',\n  },\n  error: {\n    pasteForMergedCell: 'Unable to do this for merged cells',\n  },\n  calendar: {\n    weeks: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n  },\n  button: {\n    next: 'Next',\n    cancel: 'Cancel',\n    remove: 'Remove',\n    save: 'Save',\n    ok: 'OK',\n  },\n  sort: {\n    desc: 'Sort Z -> A',\n    asc: 'Sort A -> Z',\n  },\n  filter: {\n    empty: 'empty',\n  },\n  dataValidation: {\n    mode: 'Mode',\n    range: 'Cell Range',\n    criteria: 'Criteria',\n    modeType: {\n      cell: 'Cell',\n      column: 'Colun',\n      row: 'Row',\n    },\n    type: {\n      list: 'List',\n      number: 'Number',\n      date: 'Date',\n      phone: 'Phone',\n      email: 'Email',\n    },\n    operator: {\n      be: 'between',\n      nbe: 'not betwwen',\n      lt: 'less than',\n      lte: 'less than or equal to',\n      gt: 'greater than',\n      gte: 'greater than or equal to',\n      eq: 'equal to',\n      neq: 'not equal to',\n    },\n  },\n};\n","/* eslint-disable no-param-reassign */\nfunction cloneDeep(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nconst mergeDeep = (object = {}, ...sources) => {\n  sources.forEach((source) => {\n    Object.keys(source).forEach((key) => {\n      const v = source[key];\n      // console.log('k:', key, ', v:', source[key], typeof v, v instanceof Object);\n      if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {\n        object[key] = v;\n      } else if (typeof v !== 'function' && !Array.isArray(v) && v instanceof Object) {\n        object[key] = object[key] || {};\n        mergeDeep(object[key], v);\n      } else {\n        object[key] = v;\n      }\n    });\n  });\n  // console.log('::', object);\n  return object;\n};\n\nfunction equals(obj1, obj2) {\n  const keys = Object.keys(obj1);\n  if (keys.length !== Object.keys(obj2).length) return false;\n  for (let i = 0; i < keys.length; i += 1) {\n    const k = keys[i];\n    const v1 = obj1[k];\n    const v2 = obj2[k];\n    if (v2 === undefined) return false;\n    if (typeof v1 === 'string' || typeof v1 === 'number' || typeof v1 === 'boolean') {\n      if (v1 !== v2) return false;\n    } else if (Array.isArray(v1)) {\n      if (v1.length !== v2.length) return false;\n      for (let ai = 0; ai < v1.length; ai += 1) {\n        if (!equals(v1[ai], v2[ai])) return false;\n      }\n    } else if (typeof v1 !== 'function' && !Array.isArray(v1) && v1 instanceof Object) {\n      if (!equals(v1, v2)) return false;\n    }\n  }\n  return true;\n}\n\n/*\n  objOrAry: obejct or Array\n  cb: (value, index | key) => { return value }\n*/\nconst sum = (objOrAry, cb = value => value) => {\n  let total = 0;\n  let size = 0;\n  Object.keys(objOrAry).forEach((key) => {\n    total += cb(objOrAry[key], key);\n    size += 1;\n  });\n  return [total, size];\n};\n\nfunction deleteProperty(obj, property) {\n  const oldv = obj[`${property}`];\n  delete obj[`${property}`];\n  return oldv;\n}\n\nfunction rangeReduceIf(min, max, inits, initv, ifv, getv) {\n  let s = inits;\n  let v = initv;\n  let i = min;\n  for (; i < max; i += 1) {\n    if (s > ifv) break;\n    v = getv(i);\n    s += v;\n  }\n  return [i, s - v, v];\n}\n\nfunction rangeSum(min, max, getv) {\n  let s = 0;\n  for (let i = min; i < max; i += 1) {\n    s += getv(i);\n  }\n  return s;\n}\n\nfunction rangeEach(min, max, cb) {\n  for (let i = min; i < max; i += 1) {\n    cb(i);\n  }\n}\n\nfunction arrayEquals(a1, a2) {\n  if (a1.length === a2.length) {\n    for (let i = 0; i < a1.length; i += 1) {\n      if (a1[i] !== a2[i]) return false;\n    }\n  } else return false;\n  return true;\n}\n\nfunction digits(a) {\n  const v = `${a}`;\n  let ret = 0;\n  let flag = false;\n  for (let i = 0; i < v.length; i += 1) {\n    if (flag === true) ret += 1;\n    if (v.charAt(i) === '.') flag = true;\n  }\n  return ret;\n}\n\nexport function numberCalc(type, a1, a2) {\n  if (Number.isNaN(a1) || Number.isNaN(a2)) {\n    return a1 + type + a2;\n  }\n  const al1 = digits(a1);\n  const al2 = digits(a2);\n  const num1 = Number(a1);\n  const num2 = Number(a2);\n  let ret = 0;\n  if (type === '-') {\n    ret = num1 - num2;\n  } else if (type === '+') {\n    ret = num1 + num2;\n  } else if (type === '*') {\n    ret = num1 * num2;\n  } else if (type === '/') {\n    ret = num1 / num2;\n    if (digits(ret) > 5) return ret.toFixed(2);\n    return ret;\n  }\n  return ret.toFixed(Math.max(al1, al2));\n}\n\nexport default {\n  cloneDeep,\n  merge: (...sources) => mergeDeep({}, ...sources),\n  equals,\n  arrayEquals,\n  sum,\n  rangeEach,\n  rangeSum,\n  rangeReduceIf,\n  deleteProperty,\n  numberCalc,\n};\n","import './_.prototypes';\n\nconst alphabets = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\n/** index number 2 letters\n * @example stringAt(26) ==> 'AA'\n * @date 2019-10-10\n * @export\n * @param {number} index\n * @returns {string}\n */\nexport function stringAt(index) {\n  let str = '';\n  let cindex = index;\n  while (cindex >= alphabets.length) {\n    cindex /= alphabets.length;\n    cindex -= 1;\n    str += alphabets[parseInt(cindex, 10) % alphabets.length];\n  }\n  const last = index % alphabets.length;\n  str += alphabets[last];\n  return str;\n}\n\n/** translate letter in A1-tag to number\n * @date 2019-10-10\n * @export\n * @param {string} str \"AA\" in A1-tag \"AA1\"\n * @returns {number}\n */\nexport function indexAt(str) {\n  let ret = 0;\n  for(let i = 0; i !== str.length; ++i) ret = 26 * ret + str.charCodeAt(i) - 64;\n  return ret - 1;\n}\n\n\n// B10 => x,y\n/** translate A1-tag to XY-tag\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @returns {tagXY}\n */\nexport function expr2xy(src) {\n  let x = '';\n  let y = '';\n  let xlock = false;\n  let ylock = false;\n  for (let i = 0; i < src.length; i += 1) {\n    if(src.charAt(i) === '$') {\n      if(x.length > 0) ylock = true\n      else xlock = true\n    } else  if (src.charAt(i) >= '0' && src.charAt(i) <= '9') {\n      y += src.charAt(i);\n    } else {\n      x += src.charAt(i);\n    }\n  }\n\n  return [indexAt(x), parseInt(y, 10) - 1, xlock, ylock];\n}\n\n/** translate XY-tag to A1-tag\n * @example x,y => B10\n * @date 2019-10-10\n * @export\n * @param {number} x\n * @param {number} y\n * @returns {tagA1}\n */\nexport function xy2expr(x, y, xlock, ylock) {\n  const x$ = xlock ? '$' : '';\n  const y$ = ylock ? '$' : '';\n  return `${x$}${stringAt(x)}${y$}${y + 1}`;\n}\n\n/** translate A1-tag src by (xn, yn)\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @param {number} xn\n * @param {number} yn\n * @returns {tagA1}\n */\nexport function expr2expr(src, xn, yn, condition = () => true) {\n  if (xn === 0 && yn === 0) return src;\n  const [x, y, xlock, ylock] = expr2xy(src);\n  if (!condition(x, y)) return src;\n  return xy2expr(x + (xlock ? 0 : xn), y + (ylock ? 0 : yn), xlock, ylock);\n}\n\nexport default {\n  stringAt,\n  indexAt,\n  expr2xy,\n  xy2expr,\n  expr2expr,\n};\n","module.exports = require('./numfmt');\n","// docs\nimport './_.prototypes';\n\n/** default font list\n * @type {BaseFont[]}\n */\nconst baseFonts = [\n  { key: 'Arial', title: 'Arial' },\n  { key: 'Helvetica', title: 'Helvetica' },\n  { key: 'Source Sans Pro', title: 'Source Sans Pro' },\n  { key: 'Comic Sans MS', title: 'Comic Sans MS' },\n  { key: 'Courier New', title: 'Courier New' },\n  { key: 'Verdana', title: 'Verdana' },\n  { key: 'Lato', title: 'Lato' },\n];\n\n/** default fontSize list\n * @type {FontSize[]}\n */\nconst fontSizes = [\n  { pt: 7.5, px: 10 },\n  { pt: 8, px: 11 },\n  { pt: 9, px: 12 },\n  { pt: 10, px: 13 },\n  { pt: 10.5, px: 14 },\n  { pt: 11, px: 15 },\n  { pt: 12, px: 16 },\n  { pt: 14, px: 18.7 },\n  { pt: 15, px: 20 },\n  { pt: 16, px: 21.3 },\n  { pt: 18, px: 24 },\n  { pt: 22, px: 29.3 },\n  { pt: 24, px: 32 },\n  { pt: 26, px: 34.7 },\n  { pt: 36, px: 48 },\n  { pt: 42, px: 56 },\n  // { pt: 54, px: 71.7 },\n  // { pt: 63, px: 83.7 },\n  // { pt: 72, px: 95.6 },\n];\n\n/** map pt to px\n * @date 2019-10-10\n * @param {fontsizePT} pt\n * @returns {fontsizePX}\n */\nfunction getFontSizePxByPt(pt) {\n  for (let i = 0; i < fontSizes.length; i += 1) {\n    const fontSize = fontSizes[i];\n    if (fontSize.pt === pt) {\n      return fontSize.px;\n    }\n  }\n  return pt;\n}\n\n/** transform baseFonts to map\n * @date 2019-10-10\n * @param {BaseFont[]} [ary=[]]\n * @returns {object}\n */\nfunction fonts(ary = []) {\n  const map = {};\n  baseFonts.concat(ary).forEach((f) => {\n    map[f.key] = f;\n  });\n  return map;\n}\n\nexport default {};\nexport {\n  fontSizes,\n  fonts,\n  baseFonts,\n  getFontSizePxByPt,\n};\n","/* global window */\nfunction dpr() {\n  return window.devicePixelRatio || 1;\n}\n\nfunction thinLineWidth() {\n  return dpr() - 0.5;\n}\n\nfunction npx(px) {\n  return parseInt(px * dpr(), 10);\n}\n\nfunction npxLine(px) {\n  const n = npx(px);\n  return n > 0 ? n - 0.5 : 0.5;\n}\n\nclass DrawBox {\n  constructor(x, y, w, h, padding = 0) {\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n    this.padding = padding;\n    this.bgcolor = '#ffffff';\n    // border: [width, style, color]\n    this.borderTop = null;\n    this.borderRight = null;\n    this.borderBottom = null;\n    this.borderLeft = null;\n  }\n\n  setBorders({\n    top, bottom, left, right,\n  }) {\n    if (top) this.borderTop = top;\n    if (right) this.borderRight = right;\n    if (bottom) this.borderBottom = bottom;\n    if (left) this.borderLeft = left;\n  }\n\n  innerWidth() {\n    return this.width - (this.padding * 2) - 2;\n  }\n\n  innerHeight() {\n    return this.height - (this.padding * 2) - 2;\n  }\n\n  textx(align) {\n    const { width, padding } = this;\n    let { x } = this;\n    if (align === 'left') {\n      x += padding;\n    } else if (align === 'center') {\n      x += width / 2;\n    } else if (align === 'right') {\n      x += width - padding;\n    }\n    return x;\n  }\n\n  texty(align, h) {\n    const { height, padding } = this;\n    let { y } = this;\n    if (align === 'top') {\n      y += padding;\n    } else if (align === 'middle') {\n      y += height / 2 - h / 2;\n    } else if (align === 'bottom') {\n      y += height - padding - h;\n    }\n    return y;\n  }\n\n  topxys() {\n    const { x, y, width } = this;\n    return [[x, y], [x + width, y]];\n  }\n\n  rightxys() {\n    const {\n      x, y, width, height,\n    } = this;\n    return [[x + width, y], [x + width, y + height]];\n  }\n\n  bottomxys() {\n    const {\n      x, y, width, height,\n    } = this;\n    return [[x, y + height], [x + width, y + height]];\n  }\n\n  leftxys() {\n    const {\n      x, y, height,\n    } = this;\n    return [[x, y], [x, y + height]];\n  }\n}\n\nfunction drawFontLine(type, tx, ty, align, valign, blheight, blwidth) {\n  const floffset = { x: 0, y: 0 };\n  if (type === 'underline') {\n    if (valign === 'bottom') {\n      floffset.y = 0;\n    } else if (valign === 'top') {\n      floffset.y = -(blheight + 2);\n    } else {\n      floffset.y = -blheight / 2;\n    }\n  } else if (type === 'strike') {\n    if (valign === 'bottom') {\n      floffset.y = blheight / 2;\n    } else if (valign === 'top') {\n      floffset.y = -((blheight / 2) + 2);\n    }\n  }\n\n  if (align === 'center') {\n    floffset.x = blwidth / 2;\n  } else if (align === 'right') {\n    floffset.x = blwidth;\n  }\n  this.line(\n    [tx - floffset.x, ty - floffset.y],\n    [tx - floffset.x + blwidth, ty - floffset.y],\n  );\n}\n\nclass Draw {\n  constructor(el, width, height) {\n    this.el = el;\n    this.ctx = el.getContext('2d');\n    this.resize(width, height);\n    this.ctx.scale(dpr(), dpr());\n  }\n\n  resize(width, height) {\n    // console.log('dpr:', dpr);\n    this.el.style.width = `${width}px`;\n    this.el.style.height = `${height}px`;\n    this.el.width = npx(width);\n    this.el.height = npx(height);\n  }\n\n  clear() {\n    const { width, height } = this.el;\n    this.ctx.clearRect(0, 0, width, height);\n    return this;\n  }\n\n  attr(options) {\n    Object.assign(this.ctx, options);\n    return this;\n  }\n\n  save() {\n    this.ctx.save();\n    this.ctx.beginPath();\n    return this;\n  }\n\n  restore() {\n    this.ctx.restore();\n    return this;\n  }\n\n  beginPath() {\n    this.ctx.beginPath();\n    return this;\n  }\n\n  translate(x, y) {\n    this.ctx.translate(npx(x), npx(y));\n    return this;\n  }\n\n  scale(x, y) {\n    this.ctx.scale(x, y);\n    return this;\n  }\n\n  clearRect(x, y, w, h) {\n    this.ctx.clearRect(x, y, w, h);\n    return this;\n  }\n\n  fillRect(x, y, w, h) {\n    this.ctx.fillRect(npx(x) - 0.5, npx(y) - 0.5, npx(w), npx(h));\n    return this;\n  }\n\n  fillText(text, x, y) {\n    this.ctx.fillText(text, npx(x), npx(y));\n    return this;\n  }\n\n  /*\n    txt: render text\n    box: DrawBox\n    attr: {\n      align: left | center | right\n      valign: top | middle | bottom\n      color: '#333333',\n      strike: false,\n      font: {\n        name: 'Arial',\n        size: 14,\n        bold: false,\n        italic: false,\n      }\n    }\n    textWrap: text wrapping\n  */\n  text(mtxt, box, attr = {}, textWrap = true) {\n    const { ctx } = this;\n    const {\n      align, valign, font, color, strike, underline,\n    } = attr;\n    const tx = box.textx(align);\n    ctx.save();\n    ctx.beginPath();\n    this.attr({\n      textAlign: align,\n      textBaseline: valign,\n      font: `${font.italic ? 'italic' : ''} ${font.bold ? 'bold' : ''} ${npx(font.size)}px ${font.name}`,\n      fillStyle: color,\n      strokeStyle: color,\n    });\n    const txts = `${mtxt}`.split('\\n');\n    const biw = box.innerWidth();\n    const ntxts = [];\n    txts.forEach((it) => {\n      const txtWidth = ctx.measureText(it).width;\n      if (textWrap && txtWidth > npx(biw)) {\n        let textLine = { w: 0, len: 0, start: 0 };\n        for (let i = 0; i < it.length; i += 1) {\n          if (textLine.w >= npx(biw)) {\n            ntxts.push(it.substr(textLine.start, textLine.len));\n            textLine = { w: 0, len: 0, start: i };\n          }\n          textLine.len += 1;\n          textLine.w += ctx.measureText(it[i]).width + 1;\n        }\n        if (textLine.len > 0) {\n          ntxts.push(it.substr(textLine.start, textLine.len));\n        }\n      } else {\n        ntxts.push(it);\n      }\n    });\n    const txtHeight = (ntxts.length - 1) * (font.size + 2);\n    let ty = box.texty(valign, txtHeight);\n    ntxts.forEach((txt) => {\n      const txtWidth = ctx.measureText(txt).width;\n      this.fillText(txt, tx, ty);\n      if (strike) {\n        drawFontLine.call(this, 'strike', tx, ty, align, valign, font.size, txtWidth);\n      }\n      if (underline) {\n        drawFontLine.call(this, 'underline', tx, ty, align, valign, font.size, txtWidth);\n      }\n      ty += font.size + 2;\n    });\n    ctx.restore();\n    return this;\n  }\n\n  border(style, color) {\n    const { ctx } = this;\n    ctx.lineWidth = thinLineWidth;\n    ctx.strokeStyle = color;\n    // console.log('style:', style);\n    if (style === 'medium') {\n      ctx.lineWidth = npx(2) - 0.5;\n    } else if (style === 'thick') {\n      ctx.lineWidth = npx(3);\n    } else if (style === 'dashed') {\n      ctx.setLineDash([npx(3), npx(2)]);\n    } else if (style === 'dotted') {\n      ctx.setLineDash([npx(1), npx(1)]);\n    } else if (style === 'double') {\n      ctx.setLineDash([npx(2), 0]);\n    }\n    return this;\n  }\n\n  line(...xys) {\n    const { ctx } = this;\n    if (xys.length > 1) {\n      ctx.beginPath();\n      const [x, y] = xys[0];\n      ctx.moveTo(npxLine(x), npxLine(y));\n      for (let i = 1; i < xys.length; i += 1) {\n        const [x1, y1] = xys[i];\n        ctx.lineTo(npxLine(x1), npxLine(y1));\n      }\n      ctx.stroke();\n    }\n    return this;\n  }\n\n  strokeBorders(box) {\n    const { ctx } = this;\n    ctx.save();\n    // border\n    const {\n      borderTop, borderRight, borderBottom, borderLeft,\n    } = box;\n    if (borderTop) {\n      this.border(...borderTop);\n      // console.log('box.topxys:', box.topxys());\n      this.line(...box.topxys());\n    }\n    if (borderRight) {\n      this.border(...borderRight);\n      this.line(...box.rightxys());\n    }\n    if (borderBottom) {\n      this.border(...borderBottom);\n      this.line(...box.bottomxys());\n    }\n    if (borderLeft) {\n      this.border(...borderLeft);\n      this.line(...box.leftxys());\n    }\n    ctx.restore();\n  }\n\n  dropdown(box) {\n    const { ctx } = this;\n    const {\n      x, y, width, height,\n    } = box;\n    const sx = x + width - 15;\n    const sy = y + height - 15;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx), npx(sy));\n    ctx.lineTo(npx(sx + 8), npx(sy));\n    ctx.lineTo(npx(sx + 4), npx(sy + 6));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(0, 0, 0, .45)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  error(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(255, 0, 0, .65)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  frozen(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(0, 255, 0, .85)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  rect(box, dtextcb) {\n    const { ctx } = this;\n    const {\n      x, y, width, height, bgcolor,\n    } = box;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = bgcolor || '#fff';\n    ctx.rect(npxLine(x + 1), npxLine(y + 1), npx(width - 2), npx(height - 2));\n    ctx.clip();\n    ctx.fill();\n    dtextcb();\n    ctx.restore();\n  }\n}\n\nexport default {};\nexport {\n  Draw,\n  DrawBox,\n  thinLineWidth,\n  npx,\n};\n","import numfmt from 'numfmt';\nimport { tf } from '../locale/locale';\n\n// eslint-disable-next-line no-unused-vars\nconst formatStringRender = v => v;\n\n// eslint-disable-next-line no-unused-vars\nconst formatNumberRender = (v) => {\n  // match \"-12.1\" or \"12\" or \"12.1\"\n  if (/^(-?\\d*.?\\d*)$/.test(v)) {\n    const v1 = Number(v).toFixed(2).toString();\n    const [first, ...parts] = v1.split('\\\\.');\n    return [first.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,'), ...parts];\n  }\n  return v;\n};\n\nconst generalFmt = ``;\nconst textFmt = '@';\nconst numericFmt = '#,##0.00';\nconst percentFmt = '#,##0.00%';\nconst rmbFmt = '#,##0.00';\nconst usdFmt = '$#,##0.00';\nconst eurFmt = '#,##0.00';\n// TODO: take from locale\nconst dateFmt = tf('format.dateformat')() || 'yyyy-mm-dd';\nconst timeFmt = '[$-F400]h:mm:ss AM/PM';\nconst longdateFmt = '[$-F800]dddd, mmmm dd, yyyy';\n\n\nconst baseFormats = [\n  {\n    // key: 'general',\n    numfmt: generalFmt,\n    title: tf('format.general'),\n    type: 'string',\n    render: numfmt(generalFmt),\n  },\n  {\n    // key: 'text',\n    numfmt: textFmt,\n    title: tf('format.text'),\n    type: 'string',\n    render: numfmt(textFmt),\n  },\n  {\n    // key: 'number',\n    numfmt: numericFmt,\n    title: tf('format.number'),\n    type: 'number',\n    label: '1,000.12',\n    render: numfmt(numericFmt),\n  },\n  {\n    // key: 'percent',\n    numfmt: percentFmt,\n    title: tf('format.percent'),\n    type: 'number',\n    label: '10.12%',\n    render: numfmt(percentFmt),\n  },\n  {\n    // key: 'rmb',\n    numfmt: rmbFmt,\n    title: tf('format.rmb'),\n    type: 'number',\n    label: '10.00',\n    render: numfmt(rmbFmt),\n  },\n  {\n    // key: 'usd',\n    numfmt: usdFmt,\n    title: tf('format.usd'),\n    type: 'number',\n    label: '$10.00',\n    render: numfmt(usdFmt),\n  },\n  {\n    // key: 'eur',\n    numfmt: eurFmt,\n    title: tf('format.eur'),\n    type: 'number',\n    label: '10.00',\n    render: numfmt(eurFmt),\n  },\n  {\n    // key: 'date',\n    numfmt: dateFmt,\n    title: tf('format.date'),\n    type: 'date',\n    label: '26/09/2008',\n    render: numfmt(dateFmt),\n  },\n  {\n    // key: 'time',\n    numfmt: timeFmt,\n    title: tf('format.time'),\n    type: 'date',\n    label: '15:59:00',\n    render: numfmt(timeFmt),\n  },\n  // {\n  //   key: 'datetime',\n  //   title: tf('format.datetime'),\n  //   type: 'date',\n  //   label: '26/09/2008 15:59:00',\n  //   render: timeFmt,\n  // },\n  {\n    // key: 'longdate',\n    numfmt: longdateFmt,\n    title: tf('format.longdate'),\n    type: 'date',\n    label: '24:01:00',\n    render: numfmt(longdateFmt),\n  },\n\n];\n\n// const formats = (ary = []) => {\n//   const map = {};\n//   baseFormats.concat(ary).forEach((f) => {\n//     map[f.key] = f;\n//   });\n//   return map;\n// };\nconst formatm = {};\nbaseFormats.forEach((f) => {\n  formatm[f.key] = f;\n});\n\nconst numfmtCache = new Map();\n\nformatm.render = (format, cellText) => {\n  const p = numfmt.parseValue(cellText);\n\n  const v = (p && p.v) || cellText;\n  // if (p) {\n  //   const { v } = p;\n  //   // console.log(data.formatm, '>>', cell.format);\n  //   cellText = formatm[style.format].render(v);\n  // }\n  let f;\n  if (formatm[format]) {\n    f = formatm[format].render;\n  } else if (numfmtCache.has(format)) {\n    f = numfmtCache.get(format);\n  } else {\n    f = numfmt(format);\n    numfmtCache.set(format, f);\n  }\n  return f(v);\n};\n\nexport default {\n};\nexport {\n  formatm,\n  baseFormats,\n};\n","/**\n  formula:\n    key\n    title\n    render\n*/\n/**\n * @typedef {object} Formula\n * @property {string} key\n * @property {function} title\n * @property {function} render\n */\nimport { tf } from '../locale/locale';\nimport { numberCalc } from './helper';\n\nfunction isNumber(str) {\n  // eslint-disable-next-line no-restricted-globals\n  return !Number.isNaN(parseFloat(str)) && isFinite(str);\n}\n\n\n\n\n/** @type {Formula[]} */\nconst baseFormulas = [\n  {\n    key: 'SUM',\n    title: tf('formula.sum'),\n    render: ary => ary.flat().flat().filter(isNumber).reduce((a, b) => numberCalc('+', a, b), 0),\n  },\n  {\n    key: 'AVERAGE',\n    title: tf('formula.average'),\n    render: ([...ary]) => ary.flat().flat().filter(isNumber).reduce((a, b) => Number(a) + Number(b), 0) / ary.flat().length,\n  },\n  {\n    key: 'MAX',\n    title: tf('formula.max'),\n    render: ([...ary]) => Math.max(...ary.flat().flat().filter(isNumber).map(v => Number(v))),\n  },\n  {\n    key: 'MIN',\n    title: tf('formula.min'),\n    render: ([...ary]) => Math.min(...ary.flat().flat().filter(isNumber).map(v => Number(v))),\n  },\n  {\n    key: 'IF',\n    title: tf('formula._if'),\n    render: ([b, t, f]) => (b ? t : f),\n  },\n  {\n    key: 'AND',\n    title: tf('formula.and'),\n    render: ([...ary]) => ary.flat().flat().every(it => it),\n  },\n  {\n    key: 'OR',\n    title: tf('formula.or'),\n    render: ([...ary]) => ary.flat().flat().some(it => it),\n  },\n  {\n    key: 'CONCAT',\n    title: tf('formula.concat'),\n    render: ([...ary]) => ary.flat().flat().join(''),\n  },\n  {\n    key: 'PRODUCT',\n    title: tf('formula.product'),\n    render: ([...ary]) => ary.flat().flat().filter(isNumber).reduce((a, b) => Number(a) * Number(b),1),\n  },\n  {\n    key: 'COUNT',\n    title: tf('formula.count'),\n    render: ary => ary.flat().flat().filter(isNumber).length,\n  },\n  {\n    key: 'MOD',\n    title: tf('formula.mod'),\n    render: ([a,b]) => Number(a) % Number(b),\n  },\n  {\n    key: 'POWER',\n    title: tf('formula.power'),\n    render: ([a,b]) => Number(a) ** Number(b),\n  },\n  {\n    key: 'CEILING',\n    title: tf('formula.ceiling'),\n    render: ([a, significance]) => Math.ceil(Number(a)),\n  }, \n  {\n    key: 'FLOOR',\n    title: tf('formula.floor'),\n    render: ([a]) => Math.floor(Number(a)),\n  },\n  {\n    key: 'LEN',\n    title: tf('formula.len'),\n    render: ([a]) => String(a).length,\n  },\n  {\n    key: 'REPLACE',\n    title: tf('formula.replace'),\n    render: ([oldText, startNum, numChars, newText]) => {\n      // Adjust the startNum from 1-based index to 0-based index for JavaScript\n      const zstart = startNum - 1;\n\n      // Get the parts of the old text to keep\n      const beginning = oldText.slice(0, zstart);\n      const ending = oldText.slice(zstart + numChars);\n\n      // Build and return the final string\n      return beginning + newText + ending;\n    }\n  },\n  {\n    key: 'SUBSTITUTE',\n    title: tf('formula.substitute'),\n    render: ([text, oldText, newText]) => String(text).replaceAll(oldText, newText)\n  },\n  {\n    key: 'VLOOKUP',\n    title: tf('formula.vlookup'),\n    render: ([lookupValue, table, colIndex, rangeLookup]) => {\n      console.log(lookupValue, table, colIndex, rangeLookup);\n      const index = table[0].findIndex(s => s == lookupValue);\n      if(index >= 0 && colIndex <= table.length) {\n        const lookup = table[colIndex-1];\n        const value = lookup[index];\n        return value;\n      }\n      return \"#N/A\";\n    },\n\n  }\n  /* support:  1 + A1 + B2 * 3\n  {\n    key: 'DIVIDE',\n    title: tf('formula.divide'),\n    render: ary => ary.reduce((a, b) => Number(a) / Number(b)),\n  },\n  {\n    key: 'PRODUCT',\n    title: tf('formula.product'),\n    render: ary => ary.reduce((a, b) => Number(a) * Number(b),1),\n  },\n  {\n    key: 'SUBTRACT',\n    title: tf('formula.subtract'),\n    render: ary => ary.reduce((a, b) => Number(a) - Number(b)),\n  },\n  */\n];\n\nconst formulas = baseFormulas;\n\n// const formulas = (formulaAry = []) => {\n//   const formulaMap = {};\n//   baseFormulas.concat(formulaAry).forEach((f) => {\n//     formulaMap[f.key] = f;\n//   });\n//   return formulaMap;\n// };\nconst formulam = {};\nbaseFormulas.forEach((f) => {\n  formulam[f.key] = f;\n});\n\nexport default {\n};\n\nexport {\n  formulam,\n  formulas,\n  baseFormulas,\n};\n","import { stringAt } from '../core/alphabet';\nimport { getFontSizePxByPt } from '../core/font';\nimport _cell from '../core/cell';\nimport { formulam } from '../core/formula';\nimport { formatm } from '../core/format';\n\nimport {\n  Draw, DrawBox, thinLineWidth, npx,\n} from '../canvas/draw';\n\n// gobal var\nconst cellPaddingWidth = 5;\nconst tableFixedHeaderCleanStyle = { fillStyle: '#f4f5f8' };\nconst tableGridStyle = {\n  fillStyle: '#fff',\n  lineWidth: thinLineWidth,\n  strokeStyle: '#e6e6e6',\n};\nfunction tableFixedHeaderStyle() {\n  return {\n    textAlign: 'center',\n    textBaseline: 'middle',\n    font: `500 ${npx(12)}px Source Sans Pro`,\n    fillStyle: '#585757',\n    lineWidth: thinLineWidth(),\n    strokeStyle: '#e6e6e6',\n  };\n}\n\nfunction getDrawBox(data, rindex, cindex, yoffset = 0) {\n  const {\n    left, top, width, height,\n  } = data.cellRect(rindex, cindex);\n  return new DrawBox(left, top + yoffset, width, height, cellPaddingWidth);\n}\n/*\nfunction renderCellBorders(bboxes, translateFunc) {\n  const { draw } = this;\n  if (bboxes) {\n    const rset = new Set();\n    // console.log('bboxes:', bboxes);\n    bboxes.forEach(({ ri, ci, box }) => {\n      if (!rset.has(ri)) {\n        rset.add(ri);\n        translateFunc(ri);\n      }\n      draw.strokeBorders(box);\n    });\n  }\n}\n*/\n\nexport function renderCell(draw, data, rindex, cindex, yoffset = 0) {\n  const { sortedRowMap, rows, cols } = data;\n  if (rows.isHide(rindex) || cols.isHide(cindex)) return;\n  let nrindex = rindex;\n  if (sortedRowMap.has(rindex)) {\n    nrindex = sortedRowMap.get(rindex);\n  }\n\n  const cell = data.getCell(nrindex, cindex);\n  if (cell === null) return;\n  let frozen = false;\n  if ('editable' in cell && cell.editable === false) {\n    frozen = true;\n  }\n\n  const style = data.getCellStyleOrDefault(nrindex, cindex);\n  const dbox = getDrawBox(data, rindex, cindex, yoffset);\n  dbox.bgcolor = style.bgcolor;\n  if (style.border !== undefined) {\n    dbox.setBorders(style.border);\n    // bboxes.push({ ri: rindex, ci: cindex, box: dbox });\n    draw.strokeBorders(dbox);\n  }\n  draw.rect(dbox, () => {\n    // render text\n    let cellText = '';\n    if (!data.settings.evalPaused) {\n      cellText = _cell.render(cell.text || '', formulam, (y, x) => (data.getCellTextOrDefault(x, y)));\n    } else {\n      cellText = cell.text || '';\n    }\n    if (typeof (style.format) !== undefined\n      && (typeof (cellText) === 'string') || (typeof (cellText) === 'number')\n    ) {\n      cellText = formatm.render(style.format, cellText);\n    }\n    const font = Object.assign({}, style.font);\n    font.size = getFontSizePxByPt(font.size);\n    // console.log('style:', style);\n    draw.text(cellText, dbox, {\n      align: style.align,\n      valign: style.valign,\n      font,\n      color: style.color,\n      strike: style.strike,\n      underline: style.underline,\n    }, style.textwrap);\n    // error\n    const error = data.validations.getError(rindex, cindex);\n    if (error) {\n      // console.log('error:', rindex, cindex, error);\n      draw.error(dbox);\n    }\n    if (frozen) {\n      draw.frozen(dbox);\n    }\n  });\n}\n\nfunction renderAutofilter(viewRange) {\n  const { data, draw } = this;\n  if (viewRange) {\n    const { autoFilter } = data;\n    if (!autoFilter.active()) return;\n    const afRange = autoFilter.hrange();\n    if (viewRange.intersects(afRange)) {\n      afRange.each((ri, ci) => {\n        const dbox = getDrawBox(data, ri, ci);\n        draw.dropdown(dbox);\n      });\n    }\n  }\n}\n\nfunction renderContent(viewRange, fw, fh, tx, ty) {\n  const { draw, data } = this;\n  draw.save();\n  draw.translate(fw, fh)\n    .translate(tx, ty);\n\n  const { exceptRowSet } = data;\n  // const exceptRows = Array.from(exceptRowSet);\n  const filteredTranslateFunc = (ri) => {\n    const ret = exceptRowSet.has(ri);\n    if (ret) {\n      const height = data.rows.getHeight(ri);\n      draw.translate(0, -height);\n    }\n    return !ret;\n  };\n\n  const exceptRowTotalHeight = data.exceptRowTotalHeight(viewRange.sri, viewRange.eri);\n  // 1 render cell\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  viewRange.each((ri, ci) => {\n    renderCell(draw, data, ri, ci);\n  }, ri => filteredTranslateFunc(ri));\n  draw.restore();\n\n\n  // 2 render mergeCell\n  const rset = new Set();\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  data.eachMergesInView(viewRange, ({ sri, sci, eri }) => {\n    if (!exceptRowSet.has(sri)) {\n      renderCell(draw, data, sri, sci);\n    } else if (!rset.has(sri)) {\n      rset.add(sri);\n      const height = data.rows.sumHeight(sri, eri + 1);\n      draw.translate(0, -height);\n    }\n  });\n  draw.restore();\n\n  // 3 render autofilter\n  renderAutofilter.call(this, viewRange);\n\n  draw.restore();\n}\n\nfunction renderSelectedHeaderCell(x, y, w, h) {\n  const { draw } = this;\n  // const {canvas} = draw.context;\n  const color = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--canvas-header-fill') || '#4b89ff19';\n  \n  draw.save();\n  draw\n    .attr({ fillStyle: `${color}` })\n    // .attr({ fillStyle: 'rgba(75, 137, 255, 0.08)' })\n    .fillRect(x, y, w, h);\n  draw.restore();\n}\n\n// viewRange\n// type: all | left | top\n// w: the fixed width of header\n// h: the fixed height of header\n// tx: moving distance on x-axis\n// ty: moving distance on y-axis\nfunction renderFixedHeaders(type, viewRange, w, h, tx, ty) {\n  const { draw, data } = this;\n  const sumHeight = viewRange.h; // rows.sumHeight(viewRange.sri, viewRange.eri + 1);\n  const sumWidth = viewRange.w; // cols.sumWidth(viewRange.sci, viewRange.eci + 1);\n  const nty = ty + h;\n  const ntx = tx + w;\n\n  draw.save();\n  // draw rect background\n  draw.attr(tableFixedHeaderCleanStyle);\n  if (type === 'all' || type === 'left') draw.fillRect(0, nty, w, sumHeight);\n  if (type === 'all' || type === 'top') draw.fillRect(ntx, 0, sumWidth, h);\n\n  const {\n    sri, sci, eri, eci,\n  } = data.selector.range;\n  // console.log(data.selectIndexes);\n  // draw text\n  // text font, align...\n  draw.attr(tableFixedHeaderStyle());\n  // y-header-text\n  if (type === 'all' || type === 'left') {\n    data.rowEach(viewRange.sri, viewRange.eri, (i, y1, rowHeight) => {\n      const y = nty + y1;\n      const ii = i;\n      draw.line([0, y], [w, y]);\n      if (sri <= ii && ii < eri + 1) {\n        renderSelectedHeaderCell.call(this, 0, y, w, rowHeight);\n      }\n      draw.fillText(ii + 1, w / 2, y + (rowHeight / 2));\n      if (i > 0 && data.rows.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle: '#c6c6c6' });\n        draw.line([5, y + 5], [w - 5, y + 5]);\n        draw.restore();\n      }\n    });\n    draw.line([0, sumHeight + nty], [w, sumHeight + nty]);\n    draw.line([w, nty], [w, sumHeight + nty]);\n  }\n  // x-header-text\n  if (type === 'all' || type === 'top') {\n    data.colEach(viewRange.sci, viewRange.eci, (i, x1, colWidth) => {\n      const x = ntx + x1;\n      const ii = i;\n      draw.line([x, 0], [x, h]);\n      if (sci <= ii && ii < eci + 1) {\n        renderSelectedHeaderCell.call(this, x, 0, colWidth, h);\n      }\n      draw.fillText(stringAt(ii), x + (colWidth / 2), h / 2);\n      if (i > 0 && data.cols.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle: '#c6c6c6' });\n        draw.line([x + 5, 5], [x + 5, h - 5]);\n        draw.restore();\n      }\n    });\n    draw.line([sumWidth + ntx, 0], [sumWidth + ntx, h]);\n    draw.line([0, h], [sumWidth + ntx, h]);\n  }\n  draw.restore();\n}\n\nfunction renderFixedLeftTopCell(fw, fh) {\n  const { draw } = this;\n  draw.save();\n  // left-top-cell\n  draw.attr({ fillStyle: '#f4f5f8' })\n    .fillRect(0, 0, fw, fh);\n  draw.restore();\n}\n\nfunction renderContentGrid({\n  sri, sci, eri, eci, w, h,\n}, fw, fh, tx, ty) {\n  const { draw, data } = this;\n  const { settings } = data;\n\n  draw.save();\n  draw.attr(tableGridStyle)\n    .translate(fw + tx, fh + ty);\n  // const sumWidth = cols.sumWidth(sci, eci + 1);\n  // const sumHeight = rows.sumHeight(sri, eri + 1);\n  // console.log('sumWidth:', sumWidth);\n  // draw.clearRect(0, 0, w, h);\n  if (!settings.showGrid) {\n    draw.restore();\n    return;\n  }\n  // console.log('rowStart:', rowStart, ', rowLen:', rowLen);\n  data.rowEach(sri, eri, (i, y, ch) => {\n    // console.log('y:', y);\n    if (i !== sri) draw.line([0, y], [w, y]);\n    if (i === eri) draw.line([0, y + ch], [w, y + ch]);\n  });\n  data.colEach(sci, eci, (i, x, cw) => {\n    if (i !== sci) draw.line([x, 0], [x, h]);\n    if (i === eci) draw.line([x + cw, 0], [x + cw, h]);\n  });\n  draw.restore();\n}\n\nfunction renderFreezeHighlightLine(fw, fh, ftw, fth) {\n  const { draw, data } = this;\n  const twidth = data.viewWidth() - fw;\n  const theight = data.viewHeight() - fh;\n  const color = global.getComputedStyle(draw.ctx.canvas).getPropertyValue('--canvas-header-stroke') || '#4b89ff99';\n\n  draw.save()\n    .translate(fw, fh)\n    .attr({ strokeStyle: `${color}` })\n    // .attr({ strokeStyle: 'rgba(75, 137, 255, .6)' })\n    ;\n  draw.line([0, fth], [twidth, fth]);\n  draw.line([ftw, 0], [ftw, theight]);\n  draw.restore();\n}\n\n/** end */\nclass Table {\n  constructor(el, data) {\n    this.el = el;\n    this.draw = new Draw(el, data.viewWidth(), data.viewHeight());\n    this.data = data;\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.render();\n  }\n\n  render() {\n    // resize canvas\n    const { data } = this;\n    const { rows, cols } = data;\n    // fixed width of header\n    const fw = cols.indexWidth;\n    // fixed height of header\n    const fh = rows.height;\n\n    this.draw.resize(data.viewWidth(), data.viewHeight());\n    this.clear();\n\n    const viewRange = data.viewRange();\n    // renderAll.call(this, viewRange, data.scroll);\n    const tx = data.freezeTotalWidth();\n    const ty = data.freezeTotalHeight();\n    const { x, y } = data.scroll;\n    // 1\n    renderContentGrid.call(this, viewRange, fw, fh, tx, ty);\n    renderFixedHeaders.call(this, 'all', viewRange, fw, fh, tx, ty);\n    renderFixedLeftTopCell.call(this, fw, fh);\n    // gcannata moved here for top borders\n    renderContent.call(this, viewRange, fw, fh, -x, -y);\n    const [fri, fci] = data.freeze;\n    if (fri > 0 || fci > 0) {\n      // 2\n      if (fri > 0) {\n        const vr = viewRange.clone();\n        vr.sri = 0;\n        vr.eri = fri - 1;\n        vr.h = ty;\n        renderContentGrid.call(this, vr, fw, fh, tx, 0);\n        renderFixedHeaders.call(this, 'top', vr, fw, fh, tx, 0);\n        // gcannata moved here for top borders\n        renderContent.call(this, vr, fw, fh, -x, 0);\n      }\n      // 3\n      if (fci > 0) {\n        const vr = viewRange.clone();\n        vr.sci = 0;\n        vr.eci = fci - 1;\n        vr.w = tx;\n        renderContentGrid.call(this, vr, fw, fh, 0, ty);\n        renderFixedHeaders.call(this, 'left', vr, fw, fh, 0, ty);\n        renderContent.call(this, vr, fw, fh, 0, -y);\n      }\n      // 4\n      const freezeViewRange = data.freezeViewRange();\n      renderContentGrid.call(this, freezeViewRange, fw, fh, 0, 0);\n      renderFixedHeaders.call(this, 'all', freezeViewRange, fw, fh, 0, 0);\n      renderContent.call(this, freezeViewRange, fw, fh, 0, 0);\n      // 5\n      renderFreezeHighlightLine.call(this, fw, fh, tx, ty);\n    }\n  }\n\n  clear() {\n    this.draw.clear();\n  }\n}\n\nexport default Table;\n","import { expr2xy,xy2expr } from './alphabet';\nimport font from './font';\nimport { numberCalc } from './helper';\n\nfunction buildRange(stack) {\n  const [ex,ey] = expr2xy(stack.pop());\n  const [sx,sy] = expr2xy(stack.pop());\n  // console.log('::', sx, sy, ex, ey);\n  // let rangelen = 0;\n  const rows = [];\n  let items = [];\n  // TODO: what about rectangular selection\n  for (let x = sx; x <= ex; x += 1) {\n    for (let y = sy; y <= ey; y += 1) {\n      items.push(xy2expr(x,y));\n      // rangelen += 1;\n    }\n    rows.push(items);\n    items = [];\n  }\n  \n  return rows;\n}\n\n// Converting infix expression to a suffix expression\n// src: AVERAGE(SUM(A1,A2), B1) + 50 + B20\n// return: [A1, A2], SUM[, B1],AVERAGE,50,+,B20,+\nconst infixExprToSuffixExpr = (src) => {\n  const operatorStack = [];\n  const stack = [];\n  let subStrs = []; // SUM, A1, B2, 50 ...\n  let fnArgType = 0; // 1 => , 2 => :\n  let fnArgOperator = '';\n  let fnArgsLen = 1; // A1,A2,A3...\n  let oldc = '';\n  let locked = false;\n  for (let i = 0; i < src.length; i += 1) {\n    const c = src.charAt(i);\n    if (c !== ' ') {\n      // skip '$' for now\n      if (c === '$') {\n        locked = true;\n      } else if (c >= 'a' && c <= 'z') {\n        subStrs.push((locked ? '$' : '') + c.toUpperCase());\n        locked  = false;\n      } else if ((c >= '0' && c <= '9') || (c >= 'A' && c <= 'Z') || c === '.') {\n        subStrs.push((locked ? '$' : '') + c);\n        locked = false;\n      } else if (c === '\"') {\n        i += 1;\n        while (src.charAt(i) !== '\"') {\n          subStrs.push(src.charAt(i));\n          i += 1;\n        }\n        stack.push(`\"${subStrs.join('')}`);\n        subStrs = [];\n      } else if (c === '-' && /[+\\-*/,(]/.test(oldc)) {\n        subStrs.push(c);\n      } else {\n        // console.log('subStrs:', subStrs.join(''), stack);\n        if (c !== '(' && subStrs.length > 0) {\n          stack.push(subStrs.join(''));\n        }\n        if (c === ')' /* || c === ',' */) {\n          // let c1 = operatorStack.pop();\n          if (fnArgType === 2) { // encountered a :\n            // fn argument range => A1:B5\n            try {\n              const items = buildRange(stack)\n              stack.push(items);\n              // it will be actually incremented lated\n              // if (c === ')') {\n              let c1 = operatorStack.pop();\n              stack.push({ f: c1,len: fnArgsLen });\n              // } else {\n              //   fnArgType = 1;\n              //   fnArgsLen += 1;\n              // }\n            } catch (e) {\n              // console.log(e);\n            }\n          } else if (fnArgType === 1 || fnArgType === 3) {\n            if (fnArgType === 3) {\n              stack.push(fnArgOperator);\n              fnArgOperator = '';\n            }\n            // if (fnArgType === 1) stack.push({ f: c1, len: fnArgsLen});\n            // if (c === ')') {\n            let c1 = operatorStack.pop();\n\n            // fn argument => A1,A2,B5\n            stack.push({ f: c1,len: fnArgsLen });\n            fnArgsLen = 1;\n            // } else {\n            //   fnArgType = 1;\n            //   fnArgsLen += 1;\n            // }\n\n          } else {\n            // console.log('c1:', c1, fnArgType, stack, operatorStack);\n            let c1 = operatorStack.pop();\n            while (c1 !== '(') {\n              stack.push(c1);\n              if (operatorStack.length <= 0) break;\n              c1 = operatorStack.pop();\n            }\n          }\n          // if (c === ')') {\n          fnArgType = 0;\n          // }\n        } else if (c === '=' || c === '>' || c === '<') {\n          const nc = src.charAt(i + 1);\n          fnArgOperator = c;\n          if (nc === '=' || nc === '-') {\n            fnArgOperator += nc;\n            i += 1;\n          }\n          fnArgType = 3;\n        } else if (c === ':') {\n          fnArgType = 2;\n        } else if (c === ',') {\n          // TODO: here if the previous parameter is a range, we should colllect it\n          if (fnArgType === 2) {\n            const items = buildRange(stack)\n            stack.push(items);\n          } else if (fnArgType === 3) {\n            stack.push(fnArgOperator);\n            fnArgOperator = '';\n          }\n          fnArgType = 1;\n          fnArgsLen += 1;\n        } else if (c === '(' && subStrs.length > 0) {\n          // function\n          operatorStack.push(subStrs.join(''));\n        } else {\n          // priority: */ > +-\n          // console.log('xxxx:', operatorStack, c, stack);\n          if (operatorStack.length > 0 && (c === '+' || c === '-')) {\n            let top = operatorStack[operatorStack.length - 1];\n            if (top !== '(') stack.push(operatorStack.pop());\n            if (top === '*' || top === '/') {\n              while (operatorStack.length > 0) {\n                top = operatorStack[operatorStack.length - 1];\n                if (top !== '(') stack.push(operatorStack.pop());\n                else break;\n              }\n            }\n          } else if (operatorStack.length > 0) {\n            const top = operatorStack[operatorStack.length - 1];\n            if (top === '*' || top === '/') stack.push(operatorStack.pop());\n          }\n          operatorStack.push(c);\n        }\n        subStrs = [];\n      }\n      oldc = c;\n    }\n  }\n  if (subStrs.length > 0) {\n    stack.push(subStrs.join(''));\n  }\n  while (operatorStack.length > 0) {\n    stack.push(operatorStack.pop());\n  }\n  if (fnArgOperator.length > 0) {\n    stack.push(fnArgOperator);\n  }\n  return stack;\n};\n\nconst evalSubExpr = (subExpr,cellRender) => {\n\n  if (Array.isArray(subExpr)) {\n    const ret = subExpr.map(e => evalSubExpr(e,cellRender));\n    return ret;\n  }\n\n  const [fl] = subExpr;\n  let expr = subExpr;\n  if (fl === '\"') {\n    return subExpr.substring(1);\n  }\n  let ret = 1;\n  if (fl === '-') {\n    expr = subExpr.substring(1);\n    ret = -1;\n  }\n  if (expr[0] >= '0' && expr[0] <= '9') {\n    return ret * Number(expr);\n  }\n  const [x,y] = expr2xy(expr);\n  // changed by gcannata\n  // return ret * cellRender(x, y);\n  return cellRender(x,y);\n};\n\n// evaluate the suffix expression\n// srcStack: <= infixExprToSufixExpr\n// formulaMap: {'SUM': {}, ...}\n// cellRender: (x, y) => {}\nconst evalSuffixExpr = (srcStack,formulaMap,cellRender,cellList) => {\n  const stack = [];\n  // console.log(':::::formulaMap:', formulaMap);\n  for (let i = 0; i < srcStack.length; i += 1) {\n    // console.log(':::>>>', srcStack[i]);\n    const expr = srcStack[i];\n    const fc = expr[0];\n    if (expr === '+') {\n      const top = stack.pop();\n      stack.push(numberCalc('+',stack.pop(),top));\n    } else if (expr === '-') {\n      if (stack.length === 1) {\n        const top = stack.pop();\n        stack.push(numberCalc('*',top,-1));\n      } else {\n        const top = stack.pop();\n        stack.push(numberCalc('-',stack.pop(),top));\n      }\n    } else if (expr === '*') {\n      stack.push(numberCalc('*',stack.pop(),stack.pop()));\n    } else if (expr === '/') {\n      const top = stack.pop();\n      stack.push(numberCalc('/',stack.pop(),top));\n    } else if (fc === '=' || fc === '>' || fc === '<') {\n      let top = stack.pop();\n      if (!Number.isNaN(top)) top = Number(top);\n      let left = stack.pop();\n      if (!Number.isNaN(left)) left = Number(left);\n      let ret = false;\n      if (fc === '=') {\n        ret = (left === top);\n      } else if (expr === '>') {\n        ret = (left > top);\n      } else if (expr === '>=') {\n        ret = (left >= top);\n      } else if (expr === '<') {\n        ret = (left < top);\n      } else if (expr === '<=') {\n        ret = (left <= top);\n      }\n      stack.push(ret);\n    }\n    // by gcannata\n    // else if (Array.isArray(expr)) {\n    //   const [formula, len] = expr;\n    //   const params = [];\n    //   for (let j = 0; j < len; j += 1) {\n    //     params.push(stack.pop());\n    //   }\n    //   stack.push(formulaMap[formula].render(params.reverse()));\n    // } \n    else if (expr.f) {\n      const { f,len } = expr;\n      const params = [];\n      for (let j = 0; j < len; j += 1) {\n        params.push(stack.pop());\n      }\n      stack.push(formulaMap[f].render(params.reverse()));\n    }\n    else if (formulaMap[expr]) { // try to support unary operators\n      const params = [];\n      params.push(stack.pop());\n      stack.push(formulaMap[expr].render(params));\n    } else {\n      if (cellList.includes(expr)) {\n        return 0;\n      }\n      if ((fc >= 'a' && fc <= 'z') || (fc >= 'A' && fc <= 'Z')) {\n        cellList.push(expr);\n      }\n      stack.push(evalSubExpr(expr,cellRender));\n      cellList.pop();\n    }\n    // console.log('stack:', stack);\n  }\n  // by gcanata\n  // return stack[0];\n  const ret = stack[0];\n  if (ret !== undefined && ret !== null) return ret;\n  return 0;\n};\n\nconst cellRender = (src,formulaMap,getCellText,cellList = []) => {\n  if (src[0] === '=') {\n    const stack = infixExprToSuffixExpr(src.substring(1));\n    if (stack.length <= 0) return src;\n    return evalSuffixExpr(\n      stack,\n      formulaMap,\n      (x,y) => cellRender(getCellText(x,y),formulaMap,getCellText,cellList),\n      cellList,\n    );\n  }\n  return src;\n};\n\nexport default {\n  render: cellRender,\n};\nexport {\n  infixExprToSuffixExpr,\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.numfmt=t():e.numfmt=t()}(\"undefined\"!=typeof self?self:this,(function(){return function(){\"use strict\";var e={d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return he}});var n={1078:\"af\",1052:\"sq\",1118:\"am\",5121:\"ar_DZ\",15361:\"ar_BH\",3073:\"ar_EG\",2049:\"ar_IQ\",11265:\"ar_JO\",13313:\"ar_KW\",12289:\"ar_LB\",4097:\"ar_LY\",6145:\"ar_MA\",8193:\"ar_OM\",16385:\"ar_QA\",1025:\"ar_SA\",10241:\"ar_SY\",7169:\"ar_TN\",14337:\"ar_AE\",9217:\"ar_YE\",1067:\"hy\",1101:\"as\",2092:\"az_AZ\",1068:\"az_AZ\",1069:\"eu\",1059:\"be\",2117:\"bn\",1093:\"bn_IN\",5146:\"bs\",1026:\"bg\",1109:\"my\",1027:\"ca\",2052:\"zh_CN\",3076:\"zh_HK\",5124:\"zh_MO\",4100:\"zh_SG\",1028:\"zh_TW\",1050:\"hr\",1029:\"cs\",1030:\"da\",1125:\"dv\",2067:\"nl_BE\",1043:\"nl_NL\",1126:\"bin\",3081:\"en_AU\",10249:\"en_BZ\",4105:\"en_CA\",9225:\"en_CB\",2057:\"en_GB\",16393:\"en_IN\",6153:\"en_IE\",8201:\"en_JM\",5129:\"en_NZ\",13321:\"en_PH\",7177:\"en_ZA\",11273:\"en_TT\",1033:\"en_US\",12297:\"en_ZW\",1061:\"et\",1071:\"mk\",1080:\"fo\",1065:\"fa\",1124:\"fil\",1035:\"fi\",2060:\"fr_BE\",11276:\"fr_CM\",3084:\"fr_CA\",9228:\"fr_CG\",12300:\"fr_CI\",1036:\"fr_FR\",5132:\"fr_LU\",13324:\"fr_ML\",6156:\"fr_MC\",14348:\"fr_MA\",10252:\"fr_SN\",4108:\"fr_CH\",7180:\"fr\",1122:\"fy_NL\",2108:\"gd_IE\",1084:\"gd\",1110:\"gl\",1079:\"ka\",3079:\"de_AT\",1031:\"de_DE\",5127:\"de_LI\",4103:\"de_LU\",2055:\"de_CH\",1032:\"el\",1140:\"gn\",1095:\"gu\",1279:\"en\",1037:\"he\",1081:\"hi\",1038:\"hu\",1039:\"is\",1136:\"ig_NG\",1057:\"id\",1040:\"it_IT\",2064:\"it_CH\",1041:\"ja\",1099:\"kn\",1120:\"ks\",1087:\"kk\",1107:\"km\",1111:\"kok\",1042:\"ko\",1088:\"ky\",1108:\"lo\",1142:\"la\",1062:\"lv\",1063:\"lt\",2110:\"ms_BN\",1086:\"ms_MY\",1100:\"ml\",1082:\"mt\",1112:\"mni\",1153:\"mi\",1102:\"mr\",1104:\"mn\",2128:\"mn\",1121:\"ne\",1044:\"no_NO\",2068:\"no_NO\",1096:\"or\",1045:\"pl\",1046:\"pt_BR\",2070:\"pt_PT\",1094:\"pa\",1047:\"rm\",2072:\"ro_MO\",1048:\"ro_RO\",1049:\"ru\",2073:\"ru_MO\",1083:\"se\",1103:\"sa\",3098:\"sr_SP\",2074:\"sr_SP\",1072:\"st\",1074:\"tn\",1113:\"sd\",1115:\"si\",1051:\"sk\",1060:\"sl\",1143:\"so\",1070:\"sb\",11274:\"es_AR\",16394:\"es_BO\",13322:\"es_CL\",9226:\"es_CO\",5130:\"es_CR\",7178:\"es_DO\",12298:\"es_EC\",17418:\"es_SV\",4106:\"es_GT\",18442:\"es_HN\",2058:\"es_MX\",19466:\"es_NI\",6154:\"es_PA\",15370:\"es_PY\",10250:\"es_PE\",20490:\"es_PR\",1034:\"es_ES\",14346:\"es_UY\",8202:\"es_VE\",1089:\"sw\",2077:\"sv_FI\",1053:\"sv_SE\",1114:\"syc\",1064:\"tg\",1097:\"ta\",1092:\"tt\",1098:\"te\",1054:\"th\",1105:\"bo\",1073:\"ts\",1055:\"tr\",1090:\"tk\",1058:\"uk\",1056:\"ur\",2115:\"uz_UZ\",1091:\"uz_UZ\",1075:\"ve\",1066:\"vi\",1106:\"cy\",1076:\"xh\",1085:\"yi\",1077:\"zu\"};const a=/^([a-z\\d]+)(?:[_-]([a-z\\d]+))?(?:\\.([a-z\\d]+))?(?:@([a-z\\d]+))?$/i,r={},i={group:\"\",decimal:\".\",positive:\"+\",negative:\"-\",percent:\"%\",exponent:\"E\",nan:\"NaN\",infinity:\"\",ampm:[\"AM\",\"PM\"],mmmm6:[\"Muharram\",\"Safar\",\"Rabi I\",\"Rabi II\",\"Jumada I\",\"Jumada II\",\"Rajab\",\"Shaban\",\"Ramadan\",\"Shawwal\",\"Dhul-Qidah\",\"Dhul-Hijjah\"],mmm6:[\"Muh.\",\"Saf.\",\"Rab. I\",\"Rab. II\",\"Jum. I\",\"Jum. II\",\"Raj.\",\"Sha.\",\"Ram.\",\"Shaw.\",\"Dhul-Q.\",\"Dhul-H.\"],mmmm:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],mmm:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dddd:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],ddd:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"]};function s(e){const t=a.exec(e);if(!t)throw new SyntaxError(\"Malformed locale: \".concat(e));return{lang:t[1]+(t[2]?\"_\"+t[2]:\"\"),language:t[1],territory:t[2]||\"\",codeset:t[3]||\"\",modifier:t[4]||\"\"}}function o(e){if(\"number\"==typeof e)return n[65535&e]||null;const t=parseInt(e,16);return isFinite(t)&&n[65535&t]?n[65535&t]||null:a.test(e)?e:null}function l(e){const t=o(e);let n=null;if(t){const e=s(t);n=r[e.lang]||r[e.language]||null}return n}function d(e){return Object.assign({},i,e)}function m(e,t){const n=\"object\"==typeof t?t:s(t);return r[n.lang]=d(e),n.language===n.lang||r[n.language]||(r[n.language]=d(e)),r[n.lang]}const u=d({group:\",\"});function c(e,t){if(\"number\"!=typeof e)return e;if(e<0)return-c(-e,t);if(t){const n=10**(t||0)||1;return c(e*n,0)/n}return Math.round(e)}u.isDefault=!0,m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"zh_CN\"),m({group:\",\",nan:\"\",ampm:[\"\",\"\"],mmmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"zh_TW\"),m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"ja\"),m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],mmm:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"ko\"),m({group:\",\",ampm:[\"\",\"\"],mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\",\"..\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\".\",\".\",\".\",\".\",\".\",\".\",\".\"]},\"th\"),m({decimal:\",\",ampm:[\"dop.\",\"odp.\"],mmmm:[\"ledna\",\"nora\",\"bezna\",\"dubna\",\"kvtna\",\"ervna\",\"ervence\",\"srpna\",\"z\",\"jna\",\"listopadu\",\"prosince\"],mmm:[\"led\",\"no\",\"be\",\"dub\",\"kv\",\"vn\",\"vc\",\"srp\",\"z\",\"j\",\"lis\",\"pro\"],dddd:[\"nedle\",\"pondl\",\"ter\",\"steda\",\"tvrtek\",\"ptek\",\"sobota\"],ddd:[\"ne\",\"po\",\"t\",\"st\",\"t\",\"p\",\"so\"]},\"cs\"),m({group:\".\",decimal:\",\",mmmm:[\"januar\",\"februar\",\"marts\",\"april\",\"maj\",\"juni\",\"juli\",\"august\",\"september\",\"oktober\",\"november\",\"december\"],mmm:[\"jan.\",\"feb.\",\"mar.\",\"apr.\",\"maj\",\"jun.\",\"jul.\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"sndag\",\"mandag\",\"tirsdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lrdag\"],ddd:[\"sn.\",\"man.\",\"tir.\",\"ons.\",\"tor.\",\"fre.\",\"lr.\"]},\"da\"),m({group:\".\",decimal:\",\",ampm:[\"a.m.\",\"p.m.\"],mmmm:[\"januari\",\"februari\",\"maart\",\"april\",\"mei\",\"juni\",\"juli\",\"augustus\",\"september\",\"oktober\",\"november\",\"december\"],mmm:[\"jan.\",\"feb.\",\"mrt.\",\"apr.\",\"mei\",\"jun.\",\"jul.\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"zondag\",\"maandag\",\"dinsdag\",\"woensdag\",\"donderdag\",\"vrijdag\",\"zaterdag\"],ddd:[\"zo\",\"ma\",\"di\",\"wo\",\"do\",\"vr\",\"za\"]},\"nl\"),m({group:\",\"},\"en\"),m({decimal:\",\",nan:\"epluku\",ampm:[\"ap.\",\"ip.\"],mmmm:[\"tammikuuta\",\"helmikuuta\",\"maaliskuuta\",\"huhtikuuta\",\"toukokuuta\",\"keskuuta\",\"heinkuuta\",\"elokuuta\",\"syyskuuta\",\"lokakuuta\",\"marraskuuta\",\"joulukuuta\"],mmm:[\"tammik.\",\"helmik.\",\"maalisk.\",\"huhtik.\",\"toukok.\",\"kesk.\",\"heink.\",\"elok.\",\"syysk.\",\"lokak.\",\"marrask.\",\"jouluk.\"],dddd:[\"sunnuntaina\",\"maanantaina\",\"tiistaina\",\"keskiviikkona\",\"torstaina\",\"perjantaina\",\"lauantaina\"],ddd:[\"su\",\"ma\",\"ti\",\"ke\",\"to\",\"pe\",\"la\"]},\"fi\"),m({group:\"\",decimal:\",\",mmmm:[\"janvier\",\"fvrier\",\"mars\",\"avril\",\"mai\",\"juin\",\"juillet\",\"aot\",\"septembre\",\"octobre\",\"novembre\",\"dcembre\"],mmm:[\"janv.\",\"fvr.\",\"mars\",\"avr.\",\"mai\",\"juin\",\"juil.\",\"aot\",\"sept.\",\"oct.\",\"nov.\",\"dc.\"],dddd:[\"dimanche\",\"lundi\",\"mardi\",\"mercredi\",\"jeudi\",\"vendredi\",\"samedi\"],ddd:[\"dim.\",\"lun.\",\"mar.\",\"mer.\",\"jeu.\",\"ven.\",\"sam.\"]},\"fr\"),m({group:\".\",decimal:\",\",mmmm:[\"Januar\",\"Februar\",\"Mrz\",\"April\",\"Mai\",\"Juni\",\"Juli\",\"August\",\"September\",\"Oktober\",\"November\",\"Dezember\"],mmm:[\"Jan.\",\"Feb.\",\"Mrz\",\"Apr.\",\"Mai\",\"Juni\",\"Juli\",\"Aug.\",\"Sept.\",\"Okt.\",\"Nov.\",\"Dez.\"],dddd:[\"Sonntag\",\"Montag\",\"Dienstag\",\"Mittwoch\",\"Donnerstag\",\"Freitag\",\"Samstag\"],ddd:[\"So.\",\"Mo.\",\"Di.\",\"Mi.\",\"Do.\",\"Fr.\",\"Sa.\"]},\"de\"),m({group:\".\",decimal:\",\",ampm:[\"..\",\"..\"],mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"el\"),m({decimal:\",\",ampm:[\"de.\",\"du.\"],mmmm:[\"janur\",\"februr\",\"mrcius\",\"prilis\",\"mjus\",\"jnius\",\"jlius\",\"augusztus\",\"szeptember\",\"oktber\",\"november\",\"december\"],mmm:[\"jan.\",\"febr.\",\"mrc.\",\"pr.\",\"mj.\",\"jn.\",\"jl.\",\"aug.\",\"szept.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"vasrnap\",\"htf\",\"kedd\",\"szerda\",\"cstrtk\",\"pntek\",\"szombat\"],ddd:[\"V\",\"H\",\"K\",\"Sze\",\"Cs\",\"P\",\"Szo\"]},\"hu\"),m({group:\".\",decimal:\",\",ampm:[\"f.h.\",\"e.h.\"],mmmm:[\"janar\",\"febrar\",\"mars\",\"aprl\",\"ma\",\"jn\",\"jl\",\"gst\",\"september\",\"oktber\",\"nvember\",\"desember\"],mmm:[\"jan.\",\"feb.\",\"mar.\",\"apr.\",\"ma\",\"jn.\",\"jl.\",\"g.\",\"sep.\",\"okt.\",\"nv.\",\"des.\"],dddd:[\"sunnudagur\",\"mnudagur\",\"rijudagur\",\"mivikudagur\",\"fimmtudagur\",\"fstudagur\",\"laugardagur\"],ddd:[\"sun.\",\"mn.\",\"ri.\",\"mi.\",\"fim.\",\"fs.\",\"lau.\"]},\"is\"),m({group:\".\",decimal:\",\",mmmm:[\"Januari\",\"Februari\",\"Maret\",\"April\",\"Mei\",\"Juni\",\"Juli\",\"Agustus\",\"September\",\"Oktober\",\"November\",\"Desember\"],mmm:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"Mei\",\"Jun\",\"Jul\",\"Agu\",\"Sep\",\"Okt\",\"Nov\",\"Des\"],dddd:[\"Minggu\",\"Senin\",\"Selasa\",\"Rabu\",\"Kamis\",\"Jumat\",\"Sabtu\"],ddd:[\"Min\",\"Sen\",\"Sel\",\"Rab\",\"Kam\",\"Jum\",\"Sab\"]},\"id\"),m({group:\".\",decimal:\",\",mmmm:[\"gennaio\",\"febbraio\",\"marzo\",\"aprile\",\"maggio\",\"giugno\",\"luglio\",\"agosto\",\"settembre\",\"ottobre\",\"novembre\",\"dicembre\"],mmm:[\"gen\",\"feb\",\"mar\",\"apr\",\"mag\",\"giu\",\"lug\",\"ago\",\"set\",\"ott\",\"nov\",\"dic\"],dddd:[\"domenica\",\"luned\",\"marted\",\"mercoled\",\"gioved\",\"venerd\",\"sabato\"],ddd:[\"dom\",\"lun\",\"mar\",\"mer\",\"gio\",\"ven\",\"sab\"]},\"it\"),m({decimal:\",\",ampm:[\"a.m.\",\"p.m.\"],mmmm:[\"januar\",\"februar\",\"mars\",\"april\",\"mai\",\"juni\",\"juli\",\"august\",\"september\",\"oktober\",\"november\",\"desember\"],mmm:[\"jan.\",\"feb.\",\"mar.\",\"apr.\",\"mai\",\"jun.\",\"jul.\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"des.\"],dddd:[\"sndag\",\"mandag\",\"tirsdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lrdag\"],ddd:[\"sn.\",\"man.\",\"tir.\",\"ons.\",\"tor.\",\"fre.\",\"lr.\"]},\"nb\"),m({decimal:\",\",mmmm:[\"stycznia\",\"lutego\",\"marca\",\"kwietnia\",\"maja\",\"czerwca\",\"lipca\",\"sierpnia\",\"wrzenia\",\"padziernika\",\"listopada\",\"grudnia\"],mmm:[\"sty\",\"lut\",\"mar\",\"kwi\",\"maj\",\"cze\",\"lip\",\"sie\",\"wrz\",\"pa\",\"lis\",\"gru\"],dddd:[\"niedziela\",\"poniedziaek\",\"wtorek\",\"roda\",\"czwartek\",\"pitek\",\"sobota\"],ddd:[\"niedz.\",\"pon.\",\"wt.\",\"r.\",\"czw.\",\"pt.\",\"sob.\"]},\"pl\"),m({group:\".\",decimal:\",\",mmmm:[\"janeiro\",\"fevereiro\",\"maro\",\"abril\",\"maio\",\"junho\",\"julho\",\"agosto\",\"setembro\",\"outubro\",\"novembro\",\"dezembro\"],mmm:[\"jan.\",\"fev.\",\"mar.\",\"abr.\",\"mai.\",\"jun.\",\"jul.\",\"ago.\",\"set.\",\"out.\",\"nov.\",\"dez.\"],dddd:[\"domingo\",\"segunda-feira\",\"tera-feira\",\"quarta-feira\",\"quinta-feira\",\"sexta-feira\",\"sbado\"],ddd:[\"dom.\",\"seg.\",\"ter.\",\"qua.\",\"qui.\",\"sex.\",\"sb.\"]},\"pt\"),m({decimal:\",\",nan:\"\",mmmm:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],mmm:[\".\",\".\",\".\",\".\",\"\",\".\",\".\",\".\",\".\",\".\",\".\",\".\"],dddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],ddd:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},\"ru\"),m({decimal:\",\",mmmm:[\"janura\",\"februra\",\"marca\",\"aprla\",\"mja\",\"jna\",\"jla\",\"augusta\",\"septembra\",\"oktbra\",\"novembra\",\"decembra\"],mmm:[\"jan\",\"feb\",\"mar\",\"apr\",\"mj\",\"jn\",\"jl\",\"aug\",\"sep\",\"okt\",\"nov\",\"dec\"],dddd:[\"nedea\",\"pondelok\",\"utorok\",\"streda\",\"tvrtok\",\"piatok\",\"sobota\"],ddd:[\"ne\",\"po\",\"ut\",\"st\",\"t\",\"pi\",\"so\"]},\"sk\"),m({group:\".\",decimal:\",\",ampm:[\"a.m.\",\"p.m.\"],mmmm:[\"enero\",\"febrero\",\"marzo\",\"abril\",\"mayo\",\"junio\",\"julio\",\"agosto\",\"septiembre\",\"octubre\",\"noviembre\",\"diciembre\"],mmm:[\"ene.\",\"feb.\",\"mar.\",\"abr.\",\"may.\",\"jun.\",\"jul.\",\"ago.\",\"sept.\",\"oct.\",\"nov.\",\"dic.\"],dddd:[\"domingo\",\"lunes\",\"martes\",\"mircoles\",\"jueves\",\"viernes\",\"sbado\"],ddd:[\"dom.\",\"lun.\",\"mar.\",\"mi.\",\"jue.\",\"vie.\",\"sb.\"]},\"es\"),m({decimal:\",\",ampm:[\"fm\",\"em\"],mmmm:[\"januari\",\"februari\",\"mars\",\"april\",\"maj\",\"juni\",\"juli\",\"augusti\",\"september\",\"oktober\",\"november\",\"december\"],mmm:[\"jan.\",\"feb.\",\"mars\",\"apr.\",\"maj\",\"juni\",\"juli\",\"aug.\",\"sep.\",\"okt.\",\"nov.\",\"dec.\"],dddd:[\"sndag\",\"mndag\",\"tisdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lrdag\"],ddd:[\"sn\",\"mn\",\"tis\",\"ons\",\"tors\",\"fre\",\"lr\"]},\"sv\"),m({group:\".\",decimal:\",\",ampm:[\"\",\"S\"],mmmm:[\"Ocak\",\"ubat\",\"Mart\",\"Nisan\",\"Mays\",\"Haziran\",\"Temmuz\",\"Austos\",\"Eyll\",\"Ekim\",\"Kasm\",\"Aralk\"],mmm:[\"Oca\",\"ub\",\"Mar\",\"Nis\",\"May\",\"Haz\",\"Tem\",\"Au\",\"Eyl\",\"Eki\",\"Kas\",\"Ara\"],dddd:[\"Pazar\",\"Pazartesi\",\"Sal\",\"aramba\",\"Perembe\",\"Cuma\",\"Cumartesi\"],ddd:[\"Paz\",\"Pzt\",\"Sal\",\"ar\",\"Per\",\"Cum\",\"Cmt\"]},\"tr\");function p(e,t,n){const a=e<0?-1:1,r=10**(t||2),i=10**(n||2);let s,o,l=Math.abs(e),d=0,m=0,u=0,c=1;if((e=l)%1==0)o=[e*a,1];else if(e<1e-19)o=[a,1e19];else if(e>1e19)o=[1e19*a,1];else{do{if(l=1/(l-Math.floor(l)),s=c,c=c*Math.floor(l)+d,d=s,m=u,u=Math.floor(e*c+.5),u>=r||c>=i)return[a*m,d]}while(Math.abs(e-u/c)>=1e-10&&l!==Math.floor(l));o=[a*u,c]}return o}const f={overflow:\"######\",dateErrorThrows:!1,dateErrorNumber:!0,dateSpanLarge:!0,leap1900:!0,nbsp:!0,throws:!0,invalid:\"######\",locale:\"\",ignoreTimezone:!1},g=Object.assign({},f);function h(e){if(null===e&&(e=f),e)for(const t in e)if(t in f){const n=e[t];g[t]=null==n?f[t]:n}return{...g}}const y=16,_=32,b=64,j={\"#\":\"\",0:\"0\",\"?\":\"\"},v={\"@\":\"text\",\"-\":\"minus\",\"+\":\"plus\"},M=[\"#000\",\"#FFF\",\"#F00\",\"#0F0\",\"#00F\",\"#FF0\",\"#F0F\",\"#0FF\",\"#000\",\"#FFF\",\"#F00\",\"#0F0\",\"#00F\",\"#FF0\",\"#F0F\",\"#0FF\",\"#800\",\"#080\",\"#008\",\"#880\",\"#808\",\"#088\",\"#CCC\",\"#888\",\"#99F\",\"#936\",\"#FFC\",\"#CFF\",\"#606\",\"#F88\",\"#06C\",\"#CCF\",\"#008\",\"#F0F\",\"#FF0\",\"#0FF\",\"#808\",\"#800\",\"#088\",\"#00F\",\"#0CF\",\"#CFF\",\"#CFC\",\"#FF9\",\"#9CF\",\"#F9C\",\"#C9F\",\"#FC9\",\"#36F\",\"#3CC\",\"#9C0\",\"#FC0\"],k=[\"\",\"$\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],x=new RegExp(\"[\"+k.join(\"\")+\"]\");function F(e,t,n){return t[n+\"_max\"]=e.length,t[n+\"_min\"]=e.replace(/#/g,\"\").length,t}const z={};function w(e){if(!(e in z)){const t=[],n=e.replace(/^[#,]+/,\"\").replace(/[1-9]\\d*/g,(e=>\"?\".repeat(e.length)));for(let e=0;e<n.length;e++){const a=n.charAt(e);t[e]=a in j?j[a]:a}z[e]=t.join(\"\")}return z[e]}function D(e,t){\"string\"==typeof e&&(e={type:\"string\",value:e=e.replace(/ /g,j[\"?\"])}),t.push(e)}function S(e){const t=[],n={scale:1,percent:!1,text:!1,date:0,date_eval:!1,date_system:1,sec_decimals:0,general:!1,clock:24,int_pattern:[],frac_pattern:[],man_pattern:[],den_pattern:[],num_pattern:[],tokens:t};let a=e+\"\",r=\"int\",i=!1,s=null;const l=[];let d,m,u=!1;for(;a&&!i;){if(d=/^General/i.exec(a))n.general=!0,D({type:\"general\"},t);else if(\"int\"===r&&(d=/^[#?0]+(?:,[#?0]+)*/.exec(a))||\"den\"===r&&(d=/^[#?\\d]+/.exec(a))||(d=/^[#?0]+/.exec(a)))n[r+\"_pattern\"].push(d[0]),s={type:r,num:d[0]},D(s,t);else if((d=/^\\//.exec(a))&&n[r+\"_pattern\"].length){if(!s)throw new SyntaxError(\"Missing a numerator in pattern \".concat(e));n.fractions=!0,n.num_pattern.push(n[r+\"_pattern\"].pop()),s.type=\"num\",r=\"den\",D({type:\"div\"},t)}else if(d=/^,+/.exec(a)){const e=a.charAt(1)in j;m.slice(-1)in j&&(d[0].length>1||!e)?n.scale=.001**d[0].length:n.dec_fractions||D(d[0],t)}else{if(d=/^;/.exec(a)){i=!0;break}if(d=/^[@+-]/.exec(a))\"@\"===d[0]&&(n.text=!0),D({type:v[d[0]]},t);else if(d=/^(?:\\[(h+|m+|s+)\\])/i.exec(a)){const e=d[1].toLowerCase(),a=e[0],r={type:\"\",size:0,date:1,raw:d[0],pad:e.length};\"h\"===a?(r.size=y,r.type=\"hour-elap\"):\"m\"===a?(r.size=_,r.type=\"min-elap\"):(r.size=b,r.type=\"sec-elap\"),n.date=n.date|r.size,l.push(r),D(r,t)}else if(d=/^(?:B2)/i.exec(a))u||(n.date_system=6);else if(d=/^(?:B1)/i.exec(a))u||(n.date_system=1);else if(d=/^(?:([hHmMsSyYbBdDegG])\\1*)/.exec(a)){const e={type:\"\",size:0,date:1,raw:d[0]},a=d[0].toLowerCase(),r=a[0];if(\"y\"===a||\"yy\"===a)e.size=2,e.type=\"year-short\";else if(\"y\"===r||\"e\"===r)e.size=2,e.type=\"year\";else if(\"b\"===a||\"bb\"===a)e.size=2,e.type=\"b-year-short\";else if(\"b\"===r)e.size=2,e.type=\"b-year\";else if(\"d\"===a||\"dd\"===a)e.size=8,e.type=\"day\",e.pad=/dd/.test(a);else if(\"ddd\"===a)e.size=8,e.type=\"weekday-short\";else if(\"d\"===r)e.size=8,e.type=\"weekday\";else if(\"h\"===r)e.size=y,e.type=\"hour\",e.pad=/hh/i.test(a);else if(\"m\"===r){3===a.length?(e.size=4,e.type=\"monthname-short\"):5===a.length?(e.size=4,e.type=\"monthname-single\"):a.length>=4&&(e.size=4,e.type=\"monthname\");const t=l[l.length-1];!e.type&&t&&!t.used&&80&t.size&&(t.used=!0,e.size=_,e.type=\"min\",e.pad=/mm/.test(a)),e.type||(e.size=4,e.type=\"month\",e.pad=/mm/.test(a),e.indeterminate=!0)}else if(\"s\"===r){e.size=b,e.type=\"sec\",e.pad=/ss/.test(a);const t=l[l.length-1];t&&t.size&_?e.used=!0:t&&t.indeterminate&&(delete t.indeterminate,t.size=_,t.type=\"min\",e.used=!0)}n.date=n.date|e.size,n.date_eval=!0,l.push(e),D(e,t)}else if(d=/^(?:AM\\/PM|am\\/pm|A\\/P)/.exec(a))n.clock=12,n.date=n.date|y,n.date_eval=!0,D({type:\"am\",short:\"A/P\"===d[0]},t);else if(n.date&&(d=/^\\.0{1,3}/i.exec(a))){const e=d[0].length-1,a=[b,128,256,512][e];n.date=n.date|a,n.date_eval=!0,n.sec_decimals=Math.max(n.sec_decimals,e),D({type:\"subsec\",size:a,decimals:e,date:1,raw:d[0]},t)}else if((d=/^\\\\(.)/.exec(a))||(d=/^\"([^\"]*?)\"/.exec(a)))D(d[1],t);else if(d=/^\\[(<[=>]?|>=?|=)\\s*(-?[.\\d]+)\\]/.exec(a))n.condition=[d[1],parseFloat(d[2],10)];else if(d=/^\\[\\$([^\\]]+)\\]/.exec(a)){const e=d[1].split(\"-\"),a=e.length<2?\"\":e[e.length-1],r=e[0];r&&D(r,t);const i=o(a);i&&(n.locale=i);const s=parseInt(a,16);if(isFinite(s)&&16711680&s){6===(s>>16&255)&&(n.date_system=6)}u=!0}else if(d=/^\\[(black|blue|cyan|green|magenta|red|white|yellow|color\\s*(\\d+))\\]/i.exec(a))n.color=d[2]?M[parseInt(d[2],10)]||\"#000\":d[1].toLowerCase();else if(d=/^\\[(DBNum1|ENG|HIJ|JPN|TWN)\\]/i.exec(a));else if(d=/^%/.exec(a))n.scale=100,n.percent=!0,D(\"%\",t);else if(d=/^_(\\\\.|.)/.exec(a))D(\" \",t);else if(d=/^\\./.exec(a))D({type:\"point\",value:d[0]},t),n.dec_fractions=!0,r=\"frac\";else if(d=/^[Ee]([+-]?|(?=[0#?]))/.exec(a))n.exponential=!0,n.exp_plus=\"+\"===d[1],r=\"man\",D({type:\"exp\",plus:\"+\"===d[1]},t);else if(d=/^\\*(\\\\.|.)/.exec(a));else{if(d=/^[BENn[]/.exec(a))throw new SyntaxError(\"Unexpected char \".concat(a.charAt(0),\" in pattern \").concat(e));\"(\"===a[0]&&(n.parens=!0),d=[a[0]],D(d[0],t)}}m=d[0],a=a.slice(d?d[0].length:1)}if(n.pattern=e.slice(0,e.length-a.length),/^((?:\\[[^\\]]+\\])+)(;|$)/.test(n.pattern)&&!/^\\[(?:h+|m+|s+)\\]/.test(n.pattern)&&D({type:\"text\"},t),n.fractions&&n.dec_fractions||n.fractions&&n.exponential)throw new SyntaxError(\"Invalid pattern: \".concat(n.pattern));const c=n.int_pattern.join(\"\");if(n.grouping=c.indexOf(\",\")>=0,n.grouping){const e=c.split(\",\"),t=e.length;2===t?(n.group_pri=e[1].length,n.group_sec=n.group_pri):t>2&&(n.group_pri=e[t-1].length,n.group_sec=e[t-2].length)}else n.group_pri=0,n.group_sec=0;F(c.replace(/[,]/g,\"\"),n,\"int\"),F(n.frac_pattern.join(\"\"),n,\"frac\"),F(n.man_pattern.join(\"\"),n,\"man\");let p=n.num_pattern.join(\"\"),f=n.den_pattern.join(\"\");const g=/\\?/.test(f)||/\\?/.test(p);return f=f.replace(/\\d/g,g?\"?\":\"#\"),g&&(f=f.replace(/#$/g,\"?\")),F(p,n,\"num\"),F(f,n,\"den\"),g&&(p=p.replace(/#$/g,\"?\")),n.int_padding=w(n.int_pattern.join(\"\")),n.man_padding=w(n.man_pattern.join(\"\")),n.num_padding=w(p),n.den_padding=w(f),n.den_pattern.length&&(n.denominator=parseInt(n.den_pattern.join(\"\").replace(/\\D/g,\"\"),10)),n.integer=!!n.int_pattern.join(\"\").length,n.fractions&&t.forEach(((e,n)=>{const a=t[n+1];\"string\"===e.type&&a&&(\"num\"===a.type?e.rule=\"num+int\":\"div\"===a.type?e.rule=\"num\":\"den\"===a.type&&(e.rule=\"den\"))})),n}const C=e=>{const t=e.condition;t&&t[1]<0&&(\"<\"===t[0]||\"<=\"===t[0]||\"=\"===t[0])||e.tokens.unshift({type:\"minus\",volatile:!0})};function E(e){const t=[];let n,a=!1,r=null,i=e,s=0,l=!1,d=0,m=0;do{if(l=S(i),(l.date||l.general)&&(l.int_pattern.length||l.frac_pattern.length||1!==l.scale||l.text))throw new Error(\"Illegal format\");if(l.condition&&(m++,a=!0),l.text){if(r)throw new Error(\"Unexpected partition\");r=l}l.locale&&(n=o(l.locale)),t.push(l),s=\";\"===i.charAt(l.pattern.length)?1:0,i=i.slice(l.pattern.length+s),d++}while(s&&d<4&&m<3);if(s)throw new Error(\"Unexpected partition\");if(m>2)throw new Error(\"Unexpected condition\");const u=t[3];if(u&&(u.int_pattern.length||u.frac_pattern.length||u.date))throw new Error(\"Unexpected partition\");if(a){const e=t.length;if(1===e&&(t[1]=S(\"General\"),t[1].generated=!0),e<3){const e=t[0],n=t[1];if(C(e),n.condition)C(n);else{const t=e.condition;(\"=\"===t[0]||t[1]>=0&&(\">\"===t[0]||\">=\"===t[0]))&&n.tokens.unshift({type:\"minus\",volatile:!0})}}else t.forEach(C)}else{if(t.length<4&&r)for(let e=0,n=t.length;e<n;e++)t[e]===r&&t.splice(e,1);if(t.length<1&&r&&(t[0]=S(\"General\"),t[0].generated=!0),t.length<2){const e=S(t[0].pattern);e.tokens.unshift({type:\"minus\",volatile:!0}),e.generated=!0,t.push(e)}if(t.length<3){const e=S(t[0].pattern);e.generated=!0,t.push(e)}if(t.length<4)if(r)t.push(r);else{const e=S(\"@\");e.generated=!0,t.push(e)}t[0].condition=[\">\",0],t[1].condition=[\"<\",0],t[2].condition=null}return{pattern:e,partitions:t,locale:n}}const A=Math.floor;function Y(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&e>=0){if(0===e)return[1900,1,0];if(60===e)return[1900,2,29];if(e<60)return[1900,e<32?1:2,(e-1)%31+1]}let n=e+68569+2415019;const a=A(4*n/146097);n-=A((146097*a+3)/4);const r=A(4e3*(n+1)/1461001);n=n-A(1461*r/4)+31;const i=A(80*n/2447),s=n-A(2447*i/80);n=A(i/11);const o=i+2-12*n,l=100*(a-49)+r+n;return[0|l,0|o,0|s]}function T(e){return Y(e+1462)}function N(e){if(60===e)throw new Error(\"#VALUE!\");if(e<=1)return[1317,8,29];if(e<60)return[1317,e<32?9:10,1+(e-2)%30];const t=10631/30,n=.1335;let a=e+466935;const r=A(a/10631);a-=10631*r;const i=A((a-n)/t);a-=A(i*t+n);const s=A((a+28.5001)/29.5);return 13===s?[30*r+i,12,30]:[30*r+i,s,a-A(29.5001*s-29)]}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=A(e);return 6===t?N(a):-1===t?T(a):Y(a,n)}const I=Math.floor,O=86400;function J(e,t){let n=null;if(Array.isArray(e)){const[t,a,r,i,s,o]=e;n=Date.UTC(t,null==a?0:a-1,null!=r?r:1,i||0,s||0,o||0)}else if(e instanceof Date&&(n=1*e,!t||!t.ignoreTimezone)){const t=new Date;t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n=1*t}if(null!=n&&isFinite(n)){const e=n/864e5;return e-(e<=-25509?-25568:-25569)}return e}function L(e,t){let n=0|e;const a=O*(e-n);let r=I(a);a-r>.9999&&(r+=1,r===O&&(r=0,n+=1));const i=r<0?O+r:r,[s,o,l]=P(e,0,t&&t.leap1900),d=I(i/60/60)%60,m=I(i/60)%60,u=I(i)%60;if(t&&t.nativeDate){const e=new Date(0);return e.setUTCFullYear(s,o-1,l),e.setUTCHours(d,m,u),e}return[s,o,l,d,m,u]}function U(e){return!!(e[0]&&e[0].percent||e[1]&&e[1].percent||e[2]&&e[2].percent||e[3]&&e[3].percent)}function R(e){return!!(e[0]&&e[0].date||e[1]&&e[1].date||e[2]&&e[2].date||e[3]&&e[3].date)}function G(e){const[t,n,a,r]=e;return!(t&&!t.generated||n&&!n.generated||a&&!a.generated||!r||!r.text||r.generated)}const H={text:15,datetime:10.8,date:10.8,time:10.8,percent:10.6,currency:10.4,grouped:10.2,scientific:6,number:4,fraction:2,general:0,error:0},B=[[\"DMY\",1],[\"DM\",2],[\"MY\",3],[\"MDY\",4],[\"MD\",5],[\"hmsa\",6],[\"hma\",7],[\"hms\",8],[\"hm\",9]];const $={total:1,sign:0,period:0,int:1,frac:0};const W=(e,t)=>e.replace(/\\./,t.decimal);function Z(e,t,n,a){const r=0|n;if(\"string\"==typeof n)e.push(n);else if(n===r)e.push(Math.abs(r));else{let t=0;const r=Math.abs(n);r&&(t=Math.floor(Math.log10(r)));let i=t<0?r*10**-t:r/10**t;10===i&&(i=1,t++);const s=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Math.abs(e);if(!n)return $;const a=t&&e<0?1:0,r=Math.floor(n),i=Math.floor(Math.log10(n)+1);let s=0,o=0;if(r!==n){s=1;const e=String(c(i<0?n*10**-i:n/10**i,15));let t=e.length,a=!0,r=0;for(;r<=e.length;){if(\".\"===e[r]){t--;break}\"0\"===e[r]&&a?t--:a=!1,r++}o=t-i,o<0&&(o=0,s=0)}return{total:a+Math.max(i,1)+s+o,digits:Math.max(i,0)+o,sign:a,period:s,int:Math.max(i,1),frac:o}}(r),o=()=>{const n=Math.abs(t);let r;r=1===i?i:c(i,5),e.push(W(r+\"\",a),a.exponent,t<0?a.negative:a.positive,n<10?\"0\":\"\",n)};if(t>=-4&&t<=-1){const n=r.toPrecision(10+t).replace(/0+$/,\"\");e.push(W(n,a))}else if(10===t){const t=r.toFixed(10).slice(0,12).replace(/\\.$/,\"\");e.push(W(t,a))}else if(Math.abs(t)<=9){const n=11;if(s.total<=n){const t=c(r,9).toFixed(s.frac);e.push(W(t,a))}else 9===t?e.push(Math.floor(r)):t>=0&&t<9?e.push(c(r,9-t)):o()}else s.total>=12?o():Math.floor(r)===r?e.push(Math.floor(r)):e.push(W(c(r,9).toFixed(s.frac),a))}return e}const K=86400,q={int:\"integer\",frac:\"fraction\",man:\"mantissa\",num:\"numerator\",den:\"denominator\"},V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Math.floor(Math.log10(e));return t>1?Math.floor(n/t)*t:n};function Q(e,t,n,a){let r=\"\",i=\"\",s=\"\",o=\"\",l=\"\",d=0,m=0|e,f=0,g=0,h=1,v=0,M=0,k=0,x=0,F=0,z=0;const w=a||u;if(!t.text&&isFinite(t.scale)&&1!==t.scale&&(e=function(e){if(0===e)return e;const t=Math.ceil(Math.log10(e<0?-e:e)),n=10**(16-Math.floor(t));return Math.round(e*n)/n}(e*t.scale)),t.exponential){let n=Math.abs(e);if(n){const e=10**-V(n,t.int_max),a=c(n*e,t.frac_max)/e;d=V(a,t.int_max)}n/=10**d,e=e<0?-n:n,r+=Math.abs(d)}if(t.integer){const n=Math.abs(c(e,t.fractions?1:t.frac_max));l+=n<1?\"\":Math.floor(n)}if(t.grouping){let e=\"\",n=l.length;for(n>t.group_pri&&(n-=t.group_pri,e=w.group+l.slice(n,n+t.group_pri)+e);n>t.group_sec;)n-=t.group_sec,e=w.group+l.slice(n,n+t.group_sec)+e;l=n?l.slice(0,n)+e:e}t.dec_fractions&&(o=String(c(e,t.frac_max)).split(\".\")[1]||\"\");let D=!1;if(t.fractions){const n=Math.abs(t.integer?e%1:e);if(n)if(D=!0,isFinite(t.denominator))s+=t.denominator,i+=c(n*t.denominator),\"0\"===i&&(i=\"\",s=\"\",D=!1,l||(l=\"0\"));else{const e=p(n,t.integer?t.num_max:1/0,t.den_max);i+=e[0],s+=e[1],t.integer&&\"0\"===i&&(l||(l=\"0\"),i=\"\",s=\"\",D=!1)}}if(t.date_eval&&((e,t)=>t?e<-694324||e>=35830291:e<0||e>=2958466)(e,n.dateSpanLarge)){if(n.dateErrorThrows)throw new Error(\"Date out of bounds\");if(n.dateErrorNumber){return Z(e<0?[w.negative]:[],0,e,w).join(\"\")}return n.overflow}if(t.date){m=0|e;const a=K*(e-m);if(f=Math.floor(a),z=a-f,Math.abs(z)<1e-6?z=0:z>.9999&&(z=0,f+=1,f===K&&(f=0,m+=1)),m||t.date_system){const a=P(e,t.date_system,n.leap1900);g=a[0],h=a[1],v=a[2]}if(f||z){const e=512&t.date||256&t.date||128&t.date||t.date&b||t.date&_||t.date&y;(512===e&&z>.9995||256===e&&z>.995||128===e&&z>.95||e===b&&z>=.5||e===_&&z>=.5||e===y&&z>=.5)&&(f++,z=0);const n=f<0?K+f:f;F=Math.floor(n)%60,x=Math.floor(n/60)%60,k=Math.floor(n/60/60)%60}M=(6+m)%7}if(t.int_padding&&(l=1===t.int_padding.length?l||t.int_padding:t.int_padding.substring(0,t.int_padding.length-l.length)+l),t.num_padding&&(i=1===t.num_padding.length?i||t.num_padding:t.num_padding.substring(0,t.num_padding.length-i.length)+i),t.den_padding&&(s=1===t.den_padding.length?s||t.den_padding:s+t.den_padding.slice(s.length)),t.man_padding){const e=t.exp_plus?\"+\":\"\";r=1===t.man_padding.length?(d<0?\"-\":e)+(r||t.man_padding):(d<0?\"-\":e)+t.man_padding.slice(0,t.man_padding.length-r.length)+r}const S=[];let C=0;const E={int:0,frac:0,man:0,num:0,den:0};for(let d=0,u=t.tokens.length;d<u;d++){const u=t.tokens[d],c=u.num?u.num.length:0;if(\"string\"===u.type)u.rule?\"num\"===u.rule?D?S.push(u.value):(t.num_min>0||t.den_min>0)&&S.push(u.value.replace(/./g,j[\"?\"])):\"num+int\"===u.rule?D&&l?S.push(u.value):t.den_min>0&&(l||t.num_min)&&S.push(u.value.replace(/./g,j[\"?\"])):\"den\"===u.rule&&(D?S.push(u.value):(t.den_min>0||t.den_min>0)&&S.push(u.value.replace(/./g,j[\"?\"]))):S.push(u.value);else if(\"error\"===u.type)S.push(n.invalid);else if(\"point\"===u.type)S.push(t.date?u.value:w.decimal);else if(\"general\"===u.type)Z(S,0,e,w);else if(\"exp\"===u.type)S.push(w.exponent);else if(\"minus\"===u.type)u.volatile&&t.date||u.volatile&&(e>=0||\"number\"!=typeof e)||(u.volatile&&!t.fractions&&(t.integer||t.dec_fractions)?(e<0&&l&&\"0\"!==l||o)&&S.push(w.negative):S.push(w.negative));else if(\"plus\"===u.type)S.push(w.positive);else if(\"text\"===u.type)S.push(e);else if(\"div\"===u.type)D?S.push(\"/\"):t.num_min>0||t.den_min>0?S.push(j[\"?\"]):S.push(j[\"#\"]);else if(\"int\"===u.type)if(1===t.int_pattern.length)S.push(l);else{const e=C?t.int_pattern.join(\"\").length-E.int:1/0,n=C===t.int_pattern.length-1?0:t.int_pattern.join(\"\").length-(E.int+u.num.length);S.push(l.substring(l.length-e,l.length-n)),C++,E.int+=u.num.length}else if(\"frac\"===u.type){const e=E.frac;for(let t=0;t<c;t++)S.push(o[t+e]||j[u.num[t]]);E.frac+=c}else if(u.type in q)1===t[u.type+\"_pattern\"].length?(\"int\"===u.type&&S.push(l),\"frac\"===u.type&&S.push(o),\"man\"===u.type&&S.push(r),\"num\"===u.type&&S.push(i),\"den\"===u.type&&S.push(s)):(S.push(q[u.type].slice(E[u.type],E[u.type]+c)),E[u.type]+=c);else if(\"year\"===u.type)g<0&&S.push(w.negative),S.push(String(Math.abs(g)).padStart(4,\"0\"));else if(\"year-short\"===u.type){const e=g%100;S.push(e<10?\"0\":\"\",e)}else if(\"month\"===u.type)S.push(u.pad&&h<10?\"0\":\"\",h);else if(\"monthname-single\"===u.type)6===t.date_system?S.push(w.mmmm6[h-1].charAt(0)):S.push(w.mmmm[h-1].charAt(0));else if(\"monthname-short\"===u.type)6===t.date_system?S.push(w.mmm6[h-1]):S.push(w.mmm[h-1]);else if(\"monthname\"===u.type)6===t.date_system?S.push(w.mmmm6[h-1]):S.push(w.mmmm[h-1]);else if(\"weekday-short\"===u.type)S.push(w.ddd[M]);else if(\"weekday\"===u.type)S.push(w.dddd[M]);else if(\"day\"===u.type)S.push(u.pad&&v<10?\"0\":\"\",v);else if(\"hour\"===u.type){const e=k%t.clock||(t.clock<24?t.clock:0);S.push(u.pad&&e<10?\"0\":\"\",e)}else if(\"min\"===u.type)S.push(u.pad&&x<10?\"0\":\"\",x);else if(\"sec\"===u.type)S.push(u.pad&&F<10?\"0\":\"\",F);else if(\"subsec\"===u.type){S.push(w.decimal);const e=z.toFixed(t.sec_decimals);S.push(e.slice(2,2+u.decimals))}else if(\"am\"===u.type){const e=k<12?0:1;u.short&&!a?S.push(\"AP\"[e]):S.push(w.ampm[e])}else if(\"hour-elap\"===u.type){e<0&&S.push(w.negative);const t=24*m+Math.floor(Math.abs(f)/3600);S.push(String(Math.abs(t)).padStart(u.pad,\"0\"))}else if(\"min-elap\"===u.type){e<0&&S.push(w.negative);const t=1440*m+Math.floor(Math.abs(f)/60);S.push(String(Math.abs(t)).padStart(u.pad,\"0\"))}else if(\"sec-elap\"===u.type){e<0&&S.push(w.negative);const t=m*K+Math.abs(f);S.push(String(Math.abs(t)).padStart(u.pad,\"0\"))}else if(\"b-year\"===u.type)S.push(g+543);else if(\"b-year-short\"===u.type){const e=(g+543)%100;S.push(e<10?\"0\":\"\",e)}}return n.nbsp?S.join(\"\"):S.join(\"\").replace(/\\u00a0/g,\" \")}function X(e,t){for(let n=0;n<3;n++){const a=t[n];if(a){let t;if(a.condition){const n=a.condition[0],r=a.condition[1];\"=\"===n?t=e===r:\">\"===n?t=e>r:\"<\"===n?t=e<r:\">=\"===n?t=e>=r:\"<=\"===n?t=e<=r:\"<>\"===n&&(t=e!==r)}else t=!0;if(t)return a}}}const ee=S(\"@\"),te=\"black\";const ne={};function ae(e,t){if(e){const n=e[0];t[n]=t[n]||{},ae(e.slice(1),t[n])}else t.$=!0}[\"d-F-y\",\"d-F-Y\",\"d-M-y\",\"d-M-Y\",\"F-d-y\",\"F-d-Y\",\"F-j-y\",\"F-j-Y\",\"j-F-y\",\"j-F-Y\",\"j-M-y\",\"j-M-Y\",\"M-d-y\",\"M-d-Y\",\"M-j-y\",\"M-j-Y\",\"m-d-y\",\"m-d-Y\",\"m-j-y\",\"m-j-Y\",\"n-d-y\",\"n-d-Y\",\"n-j-y\",\"n-j-Y\",\"y-F-d\",\"y-F-j\",\"y-M-d\",\"y-M-j\",\"Y-F-d\",\"Y-F-j\",\"Y-M-d\",\"Y-m-d\",\"Y-M-j\",\"Y-m-j\",\"Y-n-d\",\"Y-n-j\",\"j-F\",\"j-M\",\"d-F\",\"d-M\",\"n-d\",\"n-j\",\"n-Y\",\"m-d\",\"m-j\",\"m-Y\",\"M-Y\",\"M-y\",\"F-y\",\"F-Y\",\"Y-M\",\"Y-n\",\"Y-m\",\"Y-F\",\"Y-M\"].forEach((e=>{ae(e,ne),ae(e+\" x\",ne),ae(e+\" l\",ne),ae(e+\" l x\",ne),ae(\"l \"+e,ne),ae(\"l \"+e+\" x\",ne),ae(e+\" D\",ne),ae(e+\" D x\",ne),ae(\"D \"+e,ne),ae(\"D \"+e+\" x\",ne)}));const re={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},ie={january:1,february:2,march:3,april:4,june:6,july:7,august:8,september:9,october:10,november:11,december:12},se={sunday:\"l\",monday:\"l\",tuesday:\"l\",wednesday:\"l\",thursday:\"l\",friday:\"l\",saturday:\"l\",sun:\"D\",mon:\"D\",tue:\"D\",wed:\"D\",thu:\"D\",fri:\"D\",sat:\"D\"},oe=(new Date).getUTCFullYear();function le(e){const t=new RegExp(\"^([\\\\s+%\"+k.join(\"\")+\"(-]*)(((?:(?:\\\\d[\\\\d,]*)(?:\\\\.\\\\d*)?|(?:\\\\.\\\\d+)))([eE][+-]?\\\\d+)?)([\\\\s%\"+k.join(\"\")+\")]*)$\").exec(e);if(t){const[,e,n,a,r,i]=t;let s=1,o=\"\",l=!1,d=!1,m=!1,u=!1,c=!1,p=null,f=!1,g=parseFloat(n.replace(/,/g,\"\"));if(!isFinite(g))return null;for(let t=0;t<e.length;t++){const n=e[t];if(\"-\"===n){if(l||d)return null;l=!0,s=-1}else if(x.test(n)){if(c)return null;c=!0,p=n}else if(\"(\"===n){if(d||l)return null;d=!0,s=-1}else if(\"%\"===n){if(u)return null;u=!0}}for(let e=0;e<i.length;e++){const t=i[e];if(x.test(t)){if(c)return null;c=!0,p=t,f=!0}else if(\")\"===t){if(m||!d)return null;m=!0}else if(\"%\"===t){if(u)return null;u=!0}}if(r){if(u||c)return null;o=\"0.00E+00\"}else if(u){if(c)return null;o=a.includes(\".\")?\"0.00%\":\"0%\",g*=.01}else if(c){const e=a.includes(\".\")?\"#,##0.00\":\"#,##0\";o=f?e+p:p+e}else a.includes(\",\")&&(o=a.includes(\".\")?\"#,##0.00\":\"#,##0\");const h={v:g*s};return o&&(h.z=o),h}}const de=(e,t,n)=>{const a=n.path||\"\",r=Object.keys(t);for(let i=0;i<r.length;i++){let s;const o=r[i];if(t[o]){if(\"$\"===o||\"\"===o)e||(s=n);else if(\"-\"===o){const r=/^(\\s*([./-]|,\\s)\\s*|\\s+)/.exec(e);if(r){const i=\"-\"===r[1]||\"/\"===r[1]||\".\"===r[1]?r[1]:\" \";if(!n.sep||n.sep===i){const l=r[0].replace(/\\s+/g,\" \");s=de(e.slice(r[0].length),t[o],{...n,sep:i,path:a+l})}}}else if(\" \"===o){const r=/^[,.]?\\s+/.exec(e);if(r){const i=r[0].replace(/\\s+/g,\" \");s=de(e.slice(r[0].length),t[o],{...n,path:a+i})}}else if(\"j\"===o||\"d\"===o){const r=/^(0?[1-9]|1\\d|2\\d|3[01])\\b/.exec(e);r&&(s=de(e.slice(r[0].length),t[o],{...n,day:r[0],path:a+o}))}else if(\"n\"===o||\"m\"===o){const r=/^(0?[1-9]|1[012])\\b/.exec(e);r&&(s=de(e.slice(r[0].length),t[o],{...n,month:+r[0],_mon:r[0],path:a+o}))}else if(\"F\"===o||\"M\"===o){const r=/^([a-z]{3,9})\\b/i.exec(e),i=r&&(\"F\"===o?ie:re)[r[0].toLowerCase()];i&&(s=de(e.slice(r[0].length),t[o],{...n,month:i,_mon:r[0],path:a+o}))}else if(\"l\"===o||\"D\"===o){const r=/^([a-z]{3,9})\\b/i.exec(e);(r&&se[r[0].toLowerCase()])===o&&(s=de(e.slice(r[0].length),t[o],{...n,path:a+o}))}else if(\"y\"===o){const r=/^\\d\\d\\b/.exec(e);if(r){const i=+r[0]>=30?+r[0]+1900:+r[0]+2e3;s=de(e.slice(r[0].length),t[o],{...n,year:i,path:a+o})}}else if(\"Y\"===o){const r=/^\\d\\d\\d\\d\\b/.exec(e);r&&(s=de(e.slice(r[0].length),t[o],{...n,year:+r[0],path:a+o}))}else{if(\"x\"!==o)throw new Error('Unknown date token \"'.concat(o,'\"'));{const r=ue(e);r&&(s=de(\"\",t[o],{...n,time:r.v,tf:r.z,path:a+o}))}}if(s)return s}}};function me(e,t){const n=de(e.trim(),ne,{path:\"\"});if(n){var a;if(\".\"===n.sep&&3===n.path.length)return null;const e=+(null!==(a=n.year)&&void 0!==a?a:oe);if(n.day||(n.day=1),!function(e,t,n){if(n<1)return!1;if(t<1||t>12)return!1;if(2===t){if(n>(e%4==0&&e%100!=0||e%400==0||1900===e?29:28))return!1}else if((4===t||6===t||9===t||11===t)&&n>30||(1===t||3===t||5===t||7===t||8===t||10===t||12===t)&&n>31)return!1;return!0}(e,n.month,n.day))return null;let r=-1/0;if(e<1900)return null;e<=1900&&n.month<=2?r=25568:e<1e4&&(r=25569);const i=Date.UTC(e,n.month-1,n.day)/864e5+r+(n.time||0);if(i>=0&&i<=2958465){const e=\"0\"===n._mon[0]||\"0\"===n.day[0]||2===n._mon.length&&2===n.day.length,a=n.path.replace(/[jdlDnmMFyYx-]/g,(t=>\"j\"===t||\"d\"===t?e?\"dd\":\"d\":\"D\"===t?\"ddd\":\"l\"===t?\"dddd\":\"n\"===t||\"m\"===t?e?\"mm\":\"m\":\"M\"===t?\"mmm\":\"F\"===t?\"mmmm\":\"y\"===t?\"yy\":\"x\"===t?n.tf||\"\":\"Y\"===t?\"yyyy\":t));return t&&t.nativeDate?{v:L(i,t),z:a}:{v:i,z:a}}}return null}function ue(e){const t=/^\\s*([10]?\\d|2[0-4])(?::([0-5]\\d|\\d))?(?::([0-5]\\d|\\d))?(\\.\\d{1,10})?(?:\\s*([AP])M?)?\\s*$/i.exec(e);if(t){const[,e,n,a,r,i]=t;if(r&&!a)return null;if(!i&&!n&&!a)return null;let s=1*(e||0);if(i){if(s>=13)return null;\"p\"!==i[0]&&\"P\"!==i[0]||(s+=12)}return{v:(60*s*60+60*(1*(n||0))+1*(a||0)+1*(r||0))/86400,z:(2===e.length?\"hh\":\"h\")+\":mm\"+(a?\":ss\":\"\")+(i?\" AM/PM\":\"\")}}return null}function ce(e){return/^\\s*true\\s*$/i.test(e)?{v:!0}:/^\\s*false\\s*$/i.test(e)?{v:!1}:null}const pe={};function fe(e,t){const{pattern:n,partitions:a,locale:r}=e,i=e=>{const n=Object.assign({},h(),t,e);return r&&(n.locale=r),n},s=(e,t)=>{const n=i(t);return function(e,t,n){const a=l(n.locale),r=t[3]?t[3]:ee;if(\"boolean\"==typeof e&&(e=e?\"TRUE\":\"FALSE\"),null==e)return\"\";if(\"number\"!=typeof e)return Q(e,r,n,a);if(!isFinite(e)){const t=a||u;return isNaN(e)?t.nan:(e<0?t.negative:\"\")+t.infinity}const i=X(e,t);return i?Q(e,i,n,a):n.overflow}(J(e,n),a,n)};s.color=(e,t)=>function(e,t){if(\"number\"!=typeof e||!isFinite(e))return(t[3]?t[3].color:ee.color)||te;const n=X(e,t);return n&&n.color||te}(J(e,i(t)),a);const o=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[a,r]=e,i=a.frac_max,s={type:\"general\",isDate:R(e),isText:G(e),isPercent:U(e),maxDecimals:a.general?9:i,scale:null!==(t=a.scale)&&void 0!==t?t:1,color:0,parentheses:0,grouped:a.grouping?1:0,_partitions:e},o=!s.isDate&&!s.isText&&!a.error&&a.tokens.some((e=>\"string\"===e.type&&(n?e.value===n:x.test(e.value))));let l=\"G\",d=i>=0?Math.min(15,i):\"\",m=\"\",u=\"\";if(r&&r.color&&(u=\"-\",s.color=1),a.parens&&(m=\"()\",s.parentheses=1),o)l=\"C\",s.type=\"currency\";else if(a.error)s.type=\"error\",s.maxDecimals=0;else if(s.isDate){let e=0,t=0,n=\"\";a.tokens.forEach((a=>{const r=a.type;/^(b-)?year/.test(r)?(n+=\"Y\",t++):r.startsWith(\"month\")?(n+=\"M\",t++):/^(week)?day/.test(r)?(n+=\"D\",t++):\"hour\"!==r&&\"min\"!==r&&\"sec\"!==r&&\"am\"!==r||(n+=r[0],e++)})),s.type=\"date\",t&&e?s.type=\"datetime\":!t&&e&&(s.type=\"time\");const r=B.find((e=>n.startsWith(e[0])));l=r?\"D\":\"G\",d=r?r[1]:\"\"}else s.isText?(l=\"G\",s.type=\"text\",d=\"\",s.maxDecimals=0):a.general?(l=\"G\",s.type=\"general\",d=\"\"):a.fractions?(l=\"G\",s.type=\"fraction\",d=\"\"):a.exponential?(l=\"S\",s.type=\"scientific\"):s.isPercent?(l=\"P\",s.type=\"percent\"):a.grouping?(l=\",\",s.type=\"grouped\"):(a.int_max||i)&&(l=\"F\",s.type=\"number\");return s.code=l+d+u+m,s.level=H[s.type],Object.freeze(s)}(a,(t||{}).currency)||new SyntaxError;return s.info=o,s.dateInfo=function(e){const[t]=e;return{year:!!(2&t.date),month:!!(4&t.date),day:!!(8&t.date),hours:!!(t.date&y),minutes:!!(t.date&_),seconds:!!(t.date&b),clockType:12===t.clock?12:24}}(a),s.isPercent=()=>!!o.isPercent,s.isDate=()=>!!o.isDate,s.isText=()=>!!o.isText,s.pattern=n,e.error&&(s.error=e.error),s.options=i,s.locale=r||t&&t.locale||\"\",Object.freeze(s)}function ge(e,t){e||(e=\"General\");let n=null;if(pe[e])n=pe[e];else{n=Object.assign({},h(),t).throws?E(e):function(e){try{return E(e)}catch(t){const n={tokens:[{type:\"error\"}],error:t.message};return{pattern:e,partitions:[n,n,n,n],error:t.message,locale:null}}}(e),n.error||(pe[e]=n)}return fe(n,t)}ge.isDate=e=>ge(e,{throws:!1}).isDate(),ge.isPercent=e=>ge(e,{throws:!1}).isPercent(),ge.isText=e=>ge(e,{throws:!1}).isText(),ge.getInfo=(e,t)=>ge(e,{...t,throws:!1}).info,ge.getDateInfo=(e,t)=>ge(e,{...t,throws:!1}).dateInfo,ge.dateToSerial=J,ge.dateFromSerial=L,ge.options=h,ge.dec2frac=p,ge.round=c,ge.codeToLocale=n,ge.parseLocale=s,ge.getLocale=l,ge.addLocale=(e,t)=>{const n=s(t);return delete pe[n.lang],delete pe[n.language],m(e,n)},ge.format=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n&&\"object\"==typeof n?n:{locale:n,throws:!a};return ge(e,r)(J(t,r),r)},ge.is_date=ge.isDate,ge.parseNumber=le,ge.parseDate=me,ge.parseTime=ue,ge.parseBool=ce,ge.parseValue=function(e,t){var n,a,r;return null!==(n=null!==(a=null!==(r=le(e))&&void 0!==r?r:me(e,t))&&void 0!==a?a:ue(e))&&void 0!==n?n:ce(e)};var he=ge;return t=t.default}()}));","/* global document */\n/* global window */\nclass Element {\n  constructor(tag, className = '') {\n    if (typeof tag === 'string') {\n      this.el = document.createElement(tag);\n      this.el.className = className;\n    } else {\n      this.el = tag;\n    }\n    this.data = {};\n  }\n\n  data(key, value) {\n    if (value !== undefined) {\n      this.data[key] = value;\n      return this;\n    }\n    return this.data[key];\n  }\n\n  on(eventNames, handler) {\n    const [fen, ...oen] = eventNames.split('.');\n    let eventName = fen;\n    if (eventName === 'mousewheel' && /Firefox/i.test(window.navigator.userAgent)) {\n      eventName = 'DOMMouseScroll';\n    }\n    this.el.addEventListener(eventName, (evt) => {\n      handler(evt);\n      for (let i = 0; i < oen.length; i += 1) {\n        const k = oen[i];\n        if (k === 'left' && evt.button !== 0) {\n          return;\n        }\n        if (k === 'right' && evt.button !== 2) {\n          return;\n        }\n        if (k === 'stop') {\n          evt.stopPropagation();\n        }\n      }\n    });\n    return this;\n  }\n\n  offset(value) {\n    if (value !== undefined) {\n      Object.keys(value).forEach((k) => {\n        this.css(k, `${value[k]}px`);\n      });\n      return this;\n    }\n    const {\n      offsetTop, offsetLeft, offsetHeight, offsetWidth,\n    } = this.el;\n    return {\n      top: offsetTop,\n      left: offsetLeft,\n      height: offsetHeight,\n      width: offsetWidth,\n    };\n  }\n\n  scroll(v) {\n    const { el } = this;\n    if (v !== undefined) {\n      if (v.left !== undefined) {\n        el.scrollLeft = v.left;\n      }\n      if (v.top !== undefined) {\n        el.scrollTop = v.top;\n      }\n    }\n    return { left: el.scrollLeft, top: el.scrollTop };\n  }\n\n  box() {\n    return this.el.getBoundingClientRect();\n  }\n\n  parent() {\n    return new Element(this.el.parentNode);\n  }\n\n  children(...eles) {\n    if (arguments.length === 0) {\n      return this.el.childNodes;\n    }\n    eles.forEach(ele => this.child(ele));\n    return this;\n  }\n\n  removeChild(el) {\n    this.el.removeChild(el);\n  }\n\n  /*\n  first() {\n    return this.el.firstChild;\n  }\n\n  last() {\n    return this.el.lastChild;\n  }\n\n  remove(ele) {\n    return this.el.removeChild(ele);\n  }\n\n  prepend(ele) {\n    const { el } = this;\n    if (el.children.length > 0) {\n      el.insertBefore(ele, el.firstChild);\n    } else {\n      el.appendChild(ele);\n    }\n    return this;\n  }\n\n  prev() {\n    return this.el.previousSibling;\n  }\n\n  next() {\n    return this.el.nextSibling;\n  }\n  */\n\n  child(arg) {\n    let ele = arg;\n    if (typeof arg === 'string') {\n      ele = document.createTextNode(arg);\n    } else if (arg instanceof Element) {\n      ele = arg.el;\n    }\n    this.el.appendChild(ele);\n    return this;\n  }\n\n  contains(ele) {\n    return this.el.contains(ele);\n  }\n\n  className(v) {\n    if (v !== undefined) {\n      this.el.className = v;\n      return this;\n    }\n    return this.el.className;\n  }\n\n  addClass(name) {\n    this.el.classList.add(name);\n    return this;\n  }\n\n  hasClass(name) {\n    return this.el.classList.contains(name);\n  }\n\n  removeClass(name) {\n    this.el.classList.remove(name);\n    return this;\n  }\n\n  toggle(cls = 'active') {\n    return this.toggleClass(cls);\n  }\n\n  toggleClass(name) {\n    return this.el.classList.toggle(name);\n  }\n\n  active(flag = true, cls = 'active') {\n    if (flag) this.addClass(cls);\n    else this.removeClass(cls);\n    return this;\n  }\n\n  checked(flag = true) {\n    this.active(flag, 'checked');\n    return this;\n  }\n\n  disabled(flag = true) {\n    if (flag) this.addClass('disabled');\n    else this.removeClass('disabled');\n    return this;\n  }\n\n  // key, value\n  // key\n  // {k, v}...\n  attr(key, value) {\n    if (value !== undefined) {\n      this.el.setAttribute(key, value);\n    } else {\n      if (typeof key === 'string') {\n        return this.el.getAttribute(key);\n      }\n      Object.keys(key).forEach((k) => {\n        this.el.setAttribute(k, key[k]);\n      });\n    }\n    return this;\n  }\n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n    return this;\n  }\n\n  html(content) {\n    if (content !== undefined) {\n      this.el.innerHTML = content;\n      return this;\n    }\n    return this.el.innerHTML;\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.el.value = v;\n      return this;\n    }\n    return this.el.value;\n  }\n\n  focus() {\n    this.el.focus();\n  }\n\n  cssRemoveKeys(...keys) {\n    keys.forEach(k => this.el.style.removeProperty(k));\n    return this;\n  }\n\n  // css( propertyName )\n  // css( propertyName, value )\n  // css( properties )\n  css(name, value) {\n    if (value === undefined && typeof name !== 'string') {\n      Object.keys(name).forEach((k) => {\n        this.el.style[k] = name[k];\n      });\n      return this;\n    }\n    if (value !== undefined) {\n      this.el.style[name] = value;\n      return this;\n    }\n    return this.el.style[name];\n  }\n\n  computedStyle() {\n    return window.getComputedStyle(this.el, null);\n  }\n\n  show() {\n    this.css('display', 'block');\n    return this;\n  }\n\n  hide() {\n    this.css('display', 'none');\n    return this;\n  }\n}\n\nconst h = (tag, className = '') => new Element(tag, className);\n\nexport {\n  Element,\n  h,\n};\n","import { xy2expr, expr2xy } from './alphabet';\n\nclass CellRange {\n  constructor(sri, sci, eri, eci, w = 0, h = 0) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n    this.w = w;\n    this.h = h;\n  }\n\n  set(sri, sci, eri, eci) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n  }\n\n  multiple() {\n    return this.eri - this.sri > 0 || this.eci - this.sci > 0;\n  }\n\n  // cell-index: ri, ci\n  // cell-ref: A10\n  includes(...args) {\n    let [ri, ci] = [0, 0];\n    if (args.length === 1) {\n      [ci, ri] = expr2xy(args[0]);\n    } else if (args.length === 2) {\n      [ri, ci] = args;\n    }\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return sri <= ri && ri <= eri && sci <= ci && ci <= eci;\n  }\n\n  each(cb, rowFilter = () => true) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    for (let i = sri; i <= eri; i += 1) {\n      if (rowFilter(i)) {\n        for (let j = sci; j <= eci; j += 1) {\n          cb(i, j);\n        }\n      }\n    }\n  }\n\n  contains(other) {\n    return this.sri <= other.sri\n      && this.sci <= other.sci\n      && this.eri >= other.eri\n      && this.eci >= other.eci;\n  }\n\n  // within\n  within(other) {\n    return this.sri >= other.sri\n      && this.sci >= other.sci\n      && this.eri <= other.eri\n      && this.eci <= other.eci;\n  }\n\n  // disjoint\n  disjoint(other) {\n    return this.sri > other.eri\n      || this.sci > other.eci\n      || other.sri > this.eri\n      || other.sci > this.eci;\n  }\n\n  // intersects\n  intersects(other) {\n    return this.sri <= other.eri\n      && this.sci <= other.eci\n      && other.sri <= this.eri\n      && other.sci <= this.eci;\n  }\n\n  // union\n  union(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return new CellRange(\n      other.sri < sri ? other.sri : sri,\n      other.sci < sci ? other.sci : sci,\n      other.eri > eri ? other.eri : eri,\n      other.eci > eci ? other.eci : eci,\n    );\n  }\n\n  // intersection\n  // intersection(other) {}\n\n  // Returns Array<CellRange> that represents that part of this that does not intersect with other\n  // difference\n  difference(other) {\n    const ret = [];\n    const addRet = (sri, sci, eri, eci) => {\n      ret.push(new CellRange(sri, sci, eri, eci));\n    };\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    const dsr = other.sri - sri;\n    const dsc = other.sci - sci;\n    const der = eri - other.eri;\n    const dec = eci - other.eci;\n    if (dsr > 0) {\n      addRet(sri, sci, other.sri - 1, eci);\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, eci);\n        if (dsc > 0) {\n          addRet(other.sri, sci, other.eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, other.eri, eci);\n        }\n      } else {\n        if (dsc > 0) {\n          addRet(other.sri, sci, eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, eri, eci);\n        }\n      }\n    } else if (der > 0) {\n      addRet(other.eri + 1, sci, eri, eci);\n      if (dsc > 0) {\n        addRet(sri, sci, other.eri, other.sci - 1);\n      }\n      if (dec > 0) {\n        addRet(sri, other.eci + 1, other.eri, eci);\n      }\n    }\n    if (dsc > 0) {\n      addRet(sri, sci, eri, other.sci - 1);\n      if (dec > 0) {\n        addRet(sri, other.eri + 1, eri, eci);\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, other.eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, other.eci);\n        }\n      } else {\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, eci);\n        }\n      }\n    } else if (dec > 0) {\n      addRet(eri, other.eci + 1, eri, eci);\n      if (dsr > 0) {\n        addRet(sri, sci, other.sri - 1, other.eci);\n      }\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, other.eci);\n      }\n    }\n    return ret;\n  }\n\n  size() {\n    return [\n      this.eri - this.sri + 1,\n      this.eci - this.sci + 1,\n    ];\n  }\n\n  toString() {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    let ref = xy2expr(sci, sri);\n    if (this.multiple()) {\n      ref = `${ref}:${xy2expr(eci, eri)}`;\n    }\n    return ref;\n  }\n\n  clone() {\n    const {\n      sri, sci, eri, eci, w, h,\n    } = this;\n    return new CellRange(sri, sci, eri, eci, w, h);\n  }\n\n  /*\n  toJSON() {\n    return this.toString();\n  }\n  */\n\n  equals(other) {\n    return this.eri === other.eri\n      && this.eci === other.eci\n      && this.sri === other.sri\n      && this.sci === other.sci;\n  }\n\n  static valueOf(ref) {\n    // B1:B8, B1 => 1 x 1 cell range\n    const refs = ref.split(':');\n    const [sci, sri] = expr2xy(refs[0]);\n    let [eri, eci] = [sri, sci];\n    if (refs.length > 1) {\n      [eci, eri] = expr2xy(refs[1]);\n    }\n    return new CellRange(sri, sci, eri, eci);\n  }\n}\n\nexport default CellRange;\n\nexport {\n  CellRange,\n};\n","import { CellRange } from './cell_range';\n\nexport default class Selector {\n  constructor() {\n    this.range = new CellRange(0, 0, 0, 0);\n    this.ri = 0;\n    this.ci = 0;\n  }\n\n  multiple() {\n    return this.range.multiple();\n  }\n\n  setIndexes(ri, ci) {\n    this.ri = ri;\n    this.ci = ci;\n  }\n\n  size() {\n    return this.range.size();\n  }\n}\n","export default class Scroll {\n  constructor() {\n    this.x = 0; // left\n    this.y = 0; // top\n    this.ri = 0; // cell row-index\n    this.ci = 0; // cell col-index\n  }\n}\n","// import helper from '../helper';\n\nexport default class History {\n  constructor() {\n    this.undoItems = [];\n    this.redoItems = [];\n  }\n\n  add(data) {\n    this.undoItems.push(JSON.stringify(data));\n    this.redoItems = [];\n  }\n\n  canUndo() {\n    return this.undoItems.length > 0;\n  }\n\n  canRedo() {\n    return this.redoItems.length > 0;\n  }\n\n  undo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canUndo()) {\n      redoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(undoItems.pop()));\n    }\n  }\n\n  redo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canRedo()) {\n      undoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(redoItems.pop()));\n    }\n  }\n}\n","export default class Clipboard {\n  constructor() {\n    this.range = null; // CellRange\n    this.state = 'clear';\n  }\n\n  copy(cellRange) {\n    this.range = cellRange;\n    this.state = 'copy';\n    return this;\n  }\n\n  cut(cellRange) {\n    this.range = cellRange;\n    this.state = 'cut';\n    return this;\n  }\n\n  isCopy() {\n    return this.state === 'copy';\n  }\n\n  isCut() {\n    return this.state === 'cut';\n  }\n\n  isClear() {\n    return this.state === 'clear';\n  }\n\n  clear() {\n    this.range = null;\n    this.state = 'clear';\n  }\n}\n","import { CellRange } from './cell_range';\n// operator: all|eq|neq|gt|gte|lt|lte|in|be\n// value:\n//   in => []\n//   be => [min, max]\nclass Filter {\n  constructor(ci, operator, value) {\n    this.ci = ci;\n    this.operator = operator;\n    this.value = value;\n  }\n\n  set(operator, value) {\n    this.operator = operator;\n    this.value = value;\n  }\n\n  includes(v) {\n    const { operator, value } = this;\n    if (operator === 'all') {\n      return true;\n    }\n    if (operator === 'in') {\n      return value.includes(v);\n    }\n    return false;\n  }\n\n  vlength() {\n    const { operator, value } = this;\n    if (operator === 'in') {\n      return value.length;\n    }\n    return 0;\n  }\n\n  getData() {\n    const { ci, operator, value } = this;\n    return { ci, operator, value };\n  }\n}\n\nclass Sort {\n  constructor(ci, order) {\n    this.ci = ci;\n    this.order = order;\n  }\n\n  asc() {\n    return this.order === 'asc';\n  }\n\n  desc() {\n    return this.order === 'desc';\n  }\n}\n\nexport default class AutoFilter {\n  constructor() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  setData({ ref, filters, sort }) {\n    if (ref != null) {\n      this.ref = ref;\n      this.filters = filters.map(it => new Filter(it.ci, it.operator, it.value));\n      if (sort) {\n        this.sort = new Sort(sort.ci, sort.order);\n      }\n    }\n  }\n\n  getData() {\n    if (this.active()) {\n      const { ref, filters, sort } = this;\n      return { ref, filters: filters.map(it => it.getData()), sort };\n    }\n    return {};\n  }\n\n  addFilter(ci, operator, value) {\n    const filter = this.getFilter(ci);\n    if (filter == null) {\n      this.filters.push(new Filter(ci, operator, value));\n    } else {\n      filter.set(operator, value);\n    }\n  }\n\n  setSort(ci, order) {\n    this.sort = order ? new Sort(ci, order) : null;\n  }\n\n  includes(ri, ci) {\n    if (this.active()) {\n      return this.hrange().includes(ri, ci);\n    }\n    return false;\n  }\n\n  getSort(ci) {\n    const { sort } = this;\n    if (sort && sort.ci === ci) {\n      return sort;\n    }\n    return null;\n  }\n\n  getFilter(ci) {\n    const { filters } = this;\n    for (let i = 0; i < filters.length; i += 1) {\n      if (filters[i].ci === ci) {\n        return filters[i];\n      }\n    }\n    return null;\n  }\n\n  filteredRows(getCell) {\n    // const ary = [];\n    // let lastri = 0;\n    const rset = new Set();\n    const fset = new Set();\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      const { filters } = this;\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        for (let i = 0; i < filters.length; i += 1) {\n          const filter = filters[i];\n          const cell = getCell(ri, filter.ci);\n          const ctext = cell ? cell.text : '';\n          if (!filter.includes(ctext)) {\n            rset.add(ri);\n            break;\n          } else {\n            fset.add(ri);\n          }\n        }\n      }\n    }\n    return { rset, fset };\n  }\n\n  items(ci, getCell) {\n    const m = {};\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        const cell = getCell(ri, ci);\n        if (cell !== null && !/^\\s*$/.test(cell.text)) {\n          const key = cell.text;\n          const cnt = (m[key] || 0) + 1;\n          m[key] = cnt;\n        } else {\n          m[''] = (m[''] || 0) + 1;\n        }\n      }\n    }\n    return m;\n  }\n\n  range() {\n    return CellRange.valueOf(this.ref);\n  }\n\n  hrange() {\n    const r = this.range();\n    r.eri = r.sri;\n    return r;\n  }\n\n  clear() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  active() {\n    return this.ref !== null;\n  }\n}\n","import { CellRange } from './cell_range';\n\nclass Merges {\n  constructor(d = []) {\n    this._ = d;\n  }\n\n  forEach(cb) {\n    this._.forEach(cb);\n  }\n\n  deleteWithin(cr) {\n    this._ = this._.filter(it => !it.within(cr));\n  }\n\n  getFirstIncludes(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.includes(ri, ci)) {\n        return it;\n      }\n    }\n    return null;\n  }\n\n  filterIntersects(cellRange) {\n    return new Merges(this._.filter(it => it.intersects(cellRange)));\n  }\n\n  intersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        // console.log('intersects');\n        return true;\n      }\n    }\n    return false;\n  }\n\n  union(cellRange) {\n    let cr = cellRange;\n    this._.forEach((it) => {\n      if (it.intersects(cr)) {\n        cr = it.union(cr);\n      }\n    });\n    return cr;\n  }\n\n  add(cr) {\n    this.deleteWithin(cr);\n    this._.push(cr);\n  }\n\n  // type: row | column\n  shift(type, index, n, cbWithin) {\n    this._.forEach((cellRange) => {\n      const {\n        sri, sci, eri, eci,\n      } = cellRange;\n      const range = cellRange;\n      if (type === 'row') {\n        if (sri >= index) {\n          range.sri += n;\n          range.eri += n;\n        } else if (sri < index && index <= eri) {\n          range.eri += n;\n          cbWithin(sri, sci, n, 0);\n        }\n      } else if (type === 'column') {\n        if (sci >= index) {\n          range.sci += n;\n          range.eci += n;\n        } else if (sci < index && index <= eci) {\n          range.eci += n;\n          cbWithin(sri, sci, 0, n);\n        }\n      }\n    });\n  }\n\n  move(cellRange, rn, cn) {\n    this._.forEach((it1) => {\n      const it = it1;\n      if (it.within(cellRange)) {\n        it.eri += rn;\n        it.sri += rn;\n        it.sci += cn;\n        it.eci += cn;\n      }\n    });\n  }\n\n  setData(merges) {\n    this._ = merges.map(merge => CellRange.valueOf(merge));\n    return this;\n  }\n\n  getData() {\n    return this._.map(merge => merge.toString());\n  }\n}\n\nexport default {};\nexport {\n  Merges,\n};\n","import helper from './helper';\nimport { expr2expr } from './alphabet';\n\nclass Rows {\n  constructor({ len, height }) {\n    this._ = {};\n    this.len = len;\n    // default row height\n    this.height = height;\n  }\n\n  getHeight(ri) {\n    if (this.isHide(ri)) return 0;\n    const row = this.get(ri);\n    if (row && row.height) {\n      return row.height;\n    }\n    return this.height;\n  }\n\n  setHeight(ri, v) {\n    const row = this.getOrNew(ri);\n    row.height = v;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ri) {\n    const row = this.get(ri);\n    return row && row.hide;\n  }\n\n  setHide(ri, v) {\n    const row = this.getOrNew(ri);\n    if (v === true) row.hide = true;\n    else delete row.hide;\n  }\n\n  setStyle(ri, style) {\n    const row = this.getOrNew(ri);\n    row.style = style;\n  }\n\n  sumHeight(min, max, exceptSet) {\n    return helper.rangeSum(min, max, (i) => {\n      if (exceptSet && exceptSet.has(i)) return 0;\n      return this.getHeight(i);\n    });\n  }\n\n  totalHeight() {\n    return this.sumHeight(0, this.len);\n  }\n\n  get(ri) {\n    return this._[ri];\n  }\n\n  getOrNew(ri) {\n    this._[ri] = this._[ri] || { cells: {} };\n    return this._[ri];\n  }\n\n  getCell(ri, ci) {\n    const row = this.get(ri);\n    if (row !== undefined && row.cells !== undefined && row.cells[ci] !== undefined) {\n      return row.cells[ci];\n    }\n    return null;\n  }\n\n  getCellMerge(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.merge) return cell.merge;\n    return [0, 0];\n  }\n\n  getCellOrNew(ri, ci) {\n    const row = this.getOrNew(ri);\n    row.cells[ci] = row.cells[ci] || {};\n    return row.cells[ci];\n  }\n\n  // what: all | text | format\n  setCell(ri, ci, cell, what = 'all') {\n    const row = this.getOrNew(ri);\n    if (what === 'all') {\n      row.cells[ci] = cell;\n    } else if (what === 'text') {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].text = cell.text;\n    } else if (what === 'format') {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].style = cell.style;\n      if (cell.merge) row.cells[ci].merge = cell.merge;\n    }\n  }\n\n  setCellText(ri, ci, text) {\n    const cell = this.getCellOrNew(ri, ci);\n    if (cell.editable !== false) cell.text = text;\n  }\n\n  // what: all | format | text\n  copyPaste(srcCellRange, dstCellRange, what, autofill = false, cb = () => {}) {\n    const {\n      sri, sci, eri, eci,\n    } = srcCellRange;\n    const dsri = dstCellRange.sri;\n    const dsci = dstCellRange.sci;\n    const deri = dstCellRange.eri;\n    const deci = dstCellRange.eci;\n    const [rn, cn] = srcCellRange.size();\n    const [drn, dcn] = dstCellRange.size();\n\n    // console.log(srcIndexes, dstIndexes);\n    let isAdd = true;\n    let dn = 0;\n    if (deri < sri || deci < sci) {\n      isAdd = false;\n      if (deri < sri) dn = drn;\n      else dn = dcn;\n    }\n\n\n    for (let i = sri; i <= eri; i += 1) {\n      if (this._[i]) {\n        for (let j = sci; j <= eci; j += 1) {\n          if (this._[i].cells && this._[i].cells[j]) {\n            for (let ii = dsri; ii <= deri; ii += rn) {\n              for (let jj = dsci; jj <= deci; jj += cn) {\n\n\n                const nri = ii + (i - sri);\n                const nci = jj + (j - sci);\n\n                const ncell = helper.cloneDeep(this._[i].cells[j]);\n                // ncell.text\n                if (autofill && ncell && ncell.text && ncell.text.length > 0) {\n                  const { text } = ncell;\n                  let n = (jj - dsci) + (ii - dsri) + 2;\n                  if (!isAdd) {\n                    n -= dn + 1;\n                  }\n\n                  console.log(`n: ${n}`);\n\n                  if (text[0] === '=') {\n                    ncell.text = text.replace(/\\$?[a-zA-Z]{1,3}\\$?\\d+/g, (word) => {\n                      let [xn, yn] = [0, 0];\n                      // TODO: handle more cases\n                      // copy paste with more than 1 apart\n                      // dragging selecyion should still work\n                      // we should consider locking ($A$1)\n                      if (sri === dsri) {\n                        // was xn = n - 1 \n                        xn = n - 1 + (dsci-sci)-1;\n                        // xn = dsci - sci;\n                        // if (isAdd) xn -= 1;\n                      } else {\n                        yn = n - 1 + (dsri-sri)-1;\n                        // yn = dsri - sri;\n                      }\n                      if (/^\\d+$/.test(word)) return word;\n                      return expr2expr(word, xn, yn);\n                    });\n                  } else if ((rn <= 1 && cn > 1 && (dsri > eri || deri < sri))\n                    || (cn <= 1 && rn > 1 && (dsci > eci || deci < sci))\n                    || (rn <= 1 && cn <= 1)) {\n                    const result = /[\\\\.\\d]+$/.exec(text);\n                    // console.log('result:', result);\n                    if (result !== null) {\n                      const index = Number(result[0]) + n - 1;\n                      ncell.text = text.substring(0, result.index) + index;\n                    }\n                  }\n                }\n                this.setCell(nri, nci, ncell, what);\n                cb(nri, nci, ncell);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  cutPaste(srcCellRange, dstCellRange) {\n    const ncellmm = {};\n    this.each((ri) => {\n      this.eachCells(ri, (ci) => {\n        let nri = parseInt(ri, 10);\n        let nci = parseInt(ci, 10);\n        if (srcCellRange.includes(ri, ci)) {\n          nri = dstCellRange.sri + (nri - srcCellRange.sri);\n          nci = dstCellRange.sci + (nci - srcCellRange.sci);\n        }\n        ncellmm[nri] = ncellmm[nri] || { cells: {} };\n        ncellmm[nri].cells[nci] = this._[ri].cells[ci];\n      });\n    });\n    this._ = ncellmm;\n  }\n\n  // src: Array<Array<String>>\n  paste(src, dstCellRange) {\n    if (src.length <= 0) return;\n    const { sri, sci } = dstCellRange;\n    src.forEach((row, i) => {\n      const ri = sri + i;\n      row.forEach((cell, j) => {\n        const ci = sci + j;\n        this.setCellText(ri, ci, cell);\n      });\n    });\n  }\n\n  insert(sri, n = 1) {\n    const ndata = {};\n    this.each((ri, row) => {\n      let nri = parseInt(ri, 10);\n      if (nri >= sri) {\n        nri += n;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, 0, n, (x, y) => y >= sri));\n          }\n        });\n      }\n      ndata[nri] = row;\n    });\n    this._ = ndata;\n    this.len += n;\n  }\n\n  delete(sri, eri) {\n    const n = eri - sri + 1;\n    const ndata = {};\n    this.each((ri, row) => {\n      const nri = parseInt(ri, 10);\n      if (nri < sri) {\n        ndata[nri] = row;\n      } else if (ri > eri) {\n        ndata[nri - n] = row;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, 0, -n, (x, y) => y > eri));\n          }\n        });\n      }\n    });\n    this._ = ndata;\n    this.len -= n;\n  }\n\n  insertColumn(sci, n = 1) {\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        let nci = parseInt(ci, 10);\n        if (nci >= sci) {\n          nci += n;\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, n, 0, x => x >= sci));\n          }\n        }\n        rndata[nci] = cell;\n      });\n      row.cells = rndata;\n    });\n  }\n\n  deleteColumn(sci, eci) {\n    const n = eci - sci + 1;\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        const nci = parseInt(ci, 10);\n        if (nci < sci) {\n          rndata[nci] = cell;\n        } else if (nci > eci) {\n          rndata[nci - n] = cell;\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, word => expr2expr(word, -n, 0, x => x > eci));\n          }\n        }\n      });\n      row.cells = rndata;\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCells(cellRange, what = 'all') {\n    cellRange.each((i, j) => {\n      this.deleteCell(i, j, what);\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCell(ri, ci, what = 'all') {\n    const row = this.get(ri);\n    if (row !== null) {\n      const cell = this.getCell(ri, ci);\n      if (cell !== null && cell.editable !== false) {\n        if (what === 'all') {\n          delete row.cells[ci];\n        } else if (what === 'text') {\n          if (cell.text) delete cell.text;\n          if (cell.value) delete cell.value;\n        } else if (what === 'format') {\n          if (cell.style !== undefined) delete cell.style;\n          if (cell.merge) delete cell.merge;\n        } else if (what === 'merge') {\n          if (cell.merge) delete cell.merge;\n        }\n      }\n    }\n  }\n\n  maxCell() {\n    const keys = Object.keys(this._);\n    const ri = keys[keys.length - 1];\n    const col = this._[ri];\n    if (col) {\n      const { cells } = col;\n      const ks = Object.keys(cells);\n      const ci = ks[ks.length - 1];\n      return [parseInt(ri, 10), parseInt(ci, 10)];\n    }\n    return [0, 0];\n  }\n\n  each(cb) {\n    Object.entries(this._).forEach(([ri, row]) => {\n      cb(ri, row);\n    });\n  }\n\n  eachCells(ri, cb) {\n    if (this._[ri] && this._[ri].cells) {\n      Object.entries(this._[ri].cells).forEach(([ci, cell]) => {\n        cb(ci, cell);\n      });\n    }\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n}\n\nexport default {};\nexport {\n  Rows,\n};\n","import helper from './helper';\n\nclass Cols {\n  constructor({\n    len, width, indexWidth, minWidth,\n  }) {\n    this._ = {};\n    this.len = len;\n    this.width = width;\n    this.indexWidth = indexWidth;\n    this.minWidth = minWidth;\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n\n  getWidth(i) {\n    if (this.isHide(i)) return 0;\n    const col = this._[i];\n    if (col && col.width) {\n      return col.width;\n    }\n    return this.width;\n  }\n\n  getOrNew(ci) {\n    this._[ci] = this._[ci] || {};\n    return this._[ci];\n  }\n\n  setWidth(ci, width) {\n    const col = this.getOrNew(ci);\n    col.width = width;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ci) {\n    const col = this._[ci];\n    return col && col.hide;\n  }\n\n  setHide(ci, v) {\n    const col = this.getOrNew(ci);\n    if (v === true) col.hide = true;\n    else delete col.hide;\n  }\n\n  setStyle(ci, style) {\n    const col = this.getOrNew(ci);\n    col.style = style;\n  }\n\n  sumWidth(min, max) {\n    return helper.rangeSum(min, max, i => this.getWidth(i));\n  }\n\n  totalWidth() {\n    return this.sumWidth(0, this.len);\n  }\n}\n\nexport default {};\nexport {\n  Cols,\n};\n","import { t } from '../locale/locale';\nimport helper from './helper';\n\nconst rules = {\n  phone: /^[1-9]\\d{10}$/,\n  email: /w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/,\n};\n\nfunction returnMessage(flag, key, ...arg) {\n  let message = '';\n  if (!flag) {\n    message = t(`validation.${key}`, ...arg);\n  }\n  return [flag, message];\n}\n\nexport default class Validator {\n  // operator: b|nb|eq|neq|lt|lte|gt|gte\n  // type: date|number|list|phone|email\n  constructor(type, required, value, operator) {\n    this.required = required;\n    this.value = value;\n    this.type = type;\n    this.operator = operator;\n    this.message = '';\n  }\n\n  parseValue(v) {\n    const { type } = this;\n    if (type === 'date') {\n      return new Date(v);\n    }\n    if (type === 'number') {\n      return Number(v);\n    }\n    return v;\n  }\n\n  equals(other) {\n    let flag = this.type === other.type\n      && this.required === other.required\n      && this.operator === other.operator;\n    if (flag) {\n      if (Array.isArray(this.value)) {\n        flag = helper.arrayEquals(this.value, other.value);\n      } else {\n        flag = this.value === other.value;\n      }\n    }\n    return flag;\n  }\n\n  values() {\n    return this.value.split(',');\n  }\n\n  validate(v) {\n    const {\n      required, operator, value, type,\n    } = this;\n    if (required && /^\\s*$/.test(v)) {\n      return returnMessage(false, 'required');\n    }\n    if (/^\\s*$/.test(v)) return [true];\n    if (rules[type] && !rules[type].test(v)) {\n      return returnMessage(false, 'notMatch');\n    }\n    if (type === 'list') {\n      return returnMessage(this.values().includes(v), 'notIn');\n    }\n    if (operator) {\n      const v1 = this.parseValue(v);\n      if (operator === 'be') {\n        const [min, max] = value;\n        return returnMessage(\n          v1 >= this.parseValue(min) && v1 <= this.parseValue(max),\n          'between',\n          min,\n          max,\n        );\n      }\n      if (operator === 'nbe') {\n        const [min, max] = value;\n        return returnMessage(\n          v1 < this.parseValue(min) || v1 > this.parseValue(max),\n          'notBetween',\n          min,\n          max,\n        );\n      }\n      if (operator === 'eq') {\n        return returnMessage(\n          v1 === this.parseValue(value),\n          'equal',\n          value,\n        );\n      }\n      if (operator === 'neq') {\n        return returnMessage(\n          v1 !== this.parseValue(value),\n          'notEqual',\n          value,\n        );\n      }\n      if (operator === 'lt') {\n        return returnMessage(\n          v1 < this.parseValue(value),\n          'lessThan',\n          value,\n        );\n      }\n      if (operator === 'lte') {\n        return returnMessage(\n          v1 <= this.parseValue(value),\n          'lessThanEqual',\n          value,\n        );\n      }\n      if (operator === 'gt') {\n        return returnMessage(\n          v1 > this.parseValue(value),\n          'greaterThan',\n          value,\n        );\n      }\n      if (operator === 'gte') {\n        return returnMessage(\n          v1 >= this.parseValue(value),\n          'greaterThanEqual',\n          value,\n        );\n      }\n    }\n    return [true];\n  }\n}\n","import Validator from './validator';\nimport { CellRange } from './cell_range';\n\nclass Validation {\n  constructor(mode, refs, validator) {\n    this.refs = refs;\n    this.mode = mode; // cell\n    this.validator = validator;\n  }\n\n  includes(ri, ci) {\n    const { refs } = this;\n    for (let i = 0; i < refs.length; i += 1) {\n      const cr = CellRange.valueOf(refs[i]);\n      if (cr.includes(ri, ci)) return true;\n    }\n    return false;\n  }\n\n  addRef(ref) {\n    this.remove(CellRange.valueOf(ref));\n    this.refs.push(ref);\n  }\n\n  remove(cellRange) {\n    const nrefs = [];\n    this.refs.forEach((it) => {\n      const cr = CellRange.valueOf(it);\n      if (cr.intersects(cellRange)) {\n        const crs = cr.difference(cellRange);\n        crs.forEach(it1 => nrefs.push(it1.toString()));\n      } else {\n        nrefs.push(it);\n      }\n    });\n    this.refs = nrefs;\n  }\n\n  getData() {\n    const { refs, mode, validator } = this;\n    const {\n      type, required, operator, value,\n    } = validator;\n    return {\n      refs, mode, type, required, operator, value,\n    };\n  }\n\n  static valueOf({\n    refs, mode, type, required, operator, value,\n  }) {\n    return new Validation(mode, refs, new Validator(type, required, value, operator));\n  }\n}\nclass Validations {\n  constructor() {\n    this._ = [];\n    // ri_ci: errMessage\n    this.errors = new Map();\n  }\n\n  getError(ri, ci) {\n    return this.errors.get(`${ri}_${ci}`);\n  }\n\n  validate(ri, ci, text) {\n    const v = this.get(ri, ci);\n    const key = `${ri}_${ci}`;\n    const { errors } = this;\n    if (v !== null) {\n      const [flag, message] = v.validator.validate(text);\n      if (!flag) {\n        errors.set(key, message);\n      } else {\n        errors.delete(key);\n      }\n    } else {\n      errors.delete(key);\n    }\n    return true;\n  }\n\n  // type: date|number|phone|email|list\n  // validator: { required, value, operator }\n  add(mode, ref, {\n    type, required, value, operator,\n  }) {\n    const validator = new Validator(\n      type, required, value, operator,\n    );\n    const v = this.getByValidator(validator);\n    if (v !== null) {\n      v.addRef(ref);\n    } else {\n      this._.push(new Validation(mode, [ref], validator));\n    }\n  }\n\n  getByValidator(validator) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.validator.equals(validator)) {\n        return v;\n      }\n    }\n    return null;\n  }\n\n  get(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.includes(ri, ci)) return v;\n    }\n    return null;\n  }\n\n  remove(cellRange) {\n    this.each((it) => {\n      it.remove(cellRange);\n    });\n  }\n\n  each(cb) {\n    this._.forEach(it => cb(it));\n  }\n\n  getData() {\n    return this._.filter(it => it.refs.length > 0).map(it => it.getData());\n  }\n\n  setData(d) {\n    this._ = d.map(it => Validation.valueOf(it));\n  }\n}\n\nexport default {};\nexport {\n  Validations,\n};\n","/* global document */\n\nimport Selector from './selector';\nimport Scroll from './scroll';\nimport History from './history';\nimport Clipboard from './clipboard';\nimport AutoFilter from './auto_filter';\nimport { Merges } from './merge';\nimport helper from './helper';\nimport { Rows } from './row';\nimport { Cols } from './col';\nimport { Validations } from './validation';\nimport { CellRange } from './cell_range';\nimport { expr2xy, xy2expr } from './alphabet';\nimport { t } from '../locale/locale';\n\n// private methods\n/*\n * {\n *  name: ''\n *  freeze: [0, 0],\n *  formats: [],\n *  styles: [\n *    {\n *      bgcolor: '',\n *      align: '',\n *      valign: '',\n *      textwrap: false,\n *      strike: false,\n *      underline: false,\n *      color: '',\n *      format: 1,\n *      border: {\n *        left: [style, color],\n *        right: [style, color],\n *        top: [style, color],\n *        bottom: [style, color],\n *      },\n *      font: {\n *        name: 'Helvetica',\n *        size: 10,\n *        bold: false,\n *        italic: false,\n *      }\n *    }\n *  ],\n *  merges: [\n *    'A1:F11',\n *    ...\n *  ],\n *  rows: {\n *    1: {\n *      height: 50,\n *      style: 1,\n *      cells: {\n *        1: {\n *          style: 2,\n *          type: 'string',\n *          text: '',\n *          value: '', // cal result\n *        }\n *      }\n *    },\n *    ...\n *  },\n *  cols: {\n *    2: { width: 100, style: 1 }\n *  }\n * }\n */\nconst defaultSettings = {\n  mode: 'edit', // edit | read\n  view: {\n    height: () => document.documentElement.clientHeight,\n    width: () => document.documentElement.clientWidth,\n  },\n  showGrid: true,\n  showToolbar: true,\n  showContextmenu: true,\n  showBottomBar: true,\n  autoFillOnCopy: false,\n  row: {\n    len: 100,\n    height: 25,\n  },\n  col: {\n    len: 26,\n    width: 100,\n    indexWidth: 60,\n    minWidth: 60,\n  },\n  style: {\n    bgcolor: '#ffffff',\n    align: 'left',\n    valign: 'middle',\n    textwrap: false,\n    strike: false,\n    underline: false,\n    color: '#0a0a0a',\n    font: {\n      name: 'Arial',\n      size: 10,\n      bold: false,\n      italic: false,\n    },\n    format: '',\n  },\n};\n\nconst toolbarHeight = 41;\nconst bottombarHeight = 41;\n\n// src: cellRange\n// dst: cellRange\nfunction canPaste(src, dst, error = () => {}) {\n  const { merges } = this;\n  const cellRange = dst.clone();\n  const [srn, scn] = src.size();\n  const [drn, dcn] = dst.size();\n  if (srn > drn) {\n    cellRange.eri = dst.sri + srn - 1;\n  }\n  if (scn > dcn) {\n    cellRange.eci = dst.sci + scn - 1;\n  }\n  if (merges.intersects(cellRange)) {\n    error(t('error.pasteForMergedCell'));\n    return false;\n  }\n  return true;\n}\nfunction copyPaste(srcCellRange, dstCellRange, what, autofill = false) {\n  const { rows, merges } = this;\n  // delete dest merge\n  if (what === 'all' || what === 'format') {\n    rows.deleteCells(dstCellRange, what);\n    merges.deleteWithin(dstCellRange);\n  }\n  rows.copyPaste(srcCellRange, dstCellRange, what, autofill, (ri, ci, cell) => {\n    if (cell && cell.merge) {\n      // console.log('cell:', ri, ci, cell);\n      const [rn, cn] = cell.merge;\n      if (rn <= 0 && cn <= 0) return;\n      merges.add(new CellRange(ri, ci, ri + rn, ci + cn));\n    }\n  });\n}\n\nfunction cutPaste(srcCellRange, dstCellRange) {\n  const { clipboard, rows, merges } = this;\n  rows.cutPaste(srcCellRange, dstCellRange);\n  merges.move(srcCellRange,\n    dstCellRange.sri - srcCellRange.sri,\n    dstCellRange.sci - srcCellRange.sci);\n  clipboard.clear();\n}\n\n// bss: { top, bottom, left, right }\nfunction setStyleBorder(ri, ci, bss) {\n  const { styles, rows } = this;\n  const cell = rows.getCellOrNew(ri, ci);\n  let cstyle = {};\n  if (cell.style !== undefined) {\n    cstyle = helper.cloneDeep(styles[cell.style]);\n  }\n  cstyle = helper.merge(cstyle, { border: bss });\n  cell.style = this.addStyle(cstyle);\n}\n\nfunction setStyleBorders({ mode, style, color }) {\n  const { styles, selector, rows } = this;\n  const {\n    sri, sci, eri, eci,\n  } = selector.range;\n  const multiple = !this.isSingleSelected();\n  if (!multiple) {\n    if (mode === 'inside' || mode === 'horizontal' || mode === 'vertical') {\n      return;\n    }\n  }\n  if (mode === 'outside' && !multiple) {\n    setStyleBorder.call(this, sri, sci, {\n      top: [style, color], bottom: [style, color], left: [style, color], right: [style, color],\n    });\n  } else if (mode === 'none') {\n    selector.range.each((ri, ci) => {\n      const cell = rows.getCell(ri, ci);\n      if (cell && cell.style !== undefined) {\n        const ns = helper.cloneDeep(styles[cell.style]);\n        delete ns.border;\n        // ['bottom', 'top', 'left', 'right'].forEach((prop) => {\n        //   if (ns[prop]) delete ns[prop];\n        // });\n        cell.style = this.addStyle(ns);\n      }\n    });\n  } else if (mode === 'all' || mode === 'inside' || mode === 'outside'\n    || mode === 'horizontal' || mode === 'vertical') {\n    const merges = [];\n    for (let ri = sri; ri <= eri; ri += 1) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        // jump merges -- start\n        const mergeIndexes = [];\n        for (let ii = 0; ii < merges.length; ii += 1) {\n          const [mri, mci, rn, cn] = merges[ii];\n          if (ri === mri + rn + 1) mergeIndexes.push(ii);\n          if (mri <= ri && ri <= mri + rn) {\n            if (ci === mci) {\n              ci += cn + 1;\n              break;\n            }\n          }\n        }\n        mergeIndexes.forEach(it => merges.splice(it, 1));\n        if (ci > eci) break;\n        // jump merges -- end\n        const cell = rows.getCell(ri, ci);\n        let [rn, cn] = [0, 0];\n        if (cell && cell.merge) {\n          [rn, cn] = cell.merge;\n          merges.push([ri, ci, rn, cn]);\n        }\n        const mrl = rn > 0 && ri + rn === eri;\n        const mcl = cn > 0 && ci + cn === eci;\n        let bss = {};\n        if (mode === 'all') {\n          bss = {\n            bottom: [style, color],\n            top: [style, color],\n            left: [style, color],\n            right: [style, color],\n          };\n        } else if (mode === 'inside') {\n          if (!mcl && ci < eci) bss.right = [style, color];\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === 'horizontal') {\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === 'vertical') {\n          if (!mcl && ci < eci) bss.right = [style, color];\n        } else if (mode === 'outside' && multiple) {\n          if (sri === ri) bss.top = [style, color];\n          if (mrl || eri === ri) bss.bottom = [style, color];\n          if (sci === ci) bss.left = [style, color];\n          if (mcl || eci === ci) bss.right = [style, color];\n        }\n        if (Object.keys(bss).length > 0) {\n          setStyleBorder.call(this, ri, ci, bss);\n        }\n        ci += cn;\n      }\n    }\n  } else if (mode === 'top' || mode === 'bottom') {\n    for (let ci = sci; ci <= eci; ci += 1) {\n      if (mode === 'top') {\n        setStyleBorder.call(this, sri, ci, { top: [style, color] });\n        ci += rows.getCellMerge(sri, ci)[1];\n      }\n      if (mode === 'bottom') {\n        setStyleBorder.call(this, eri, ci, { bottom: [style, color] });\n        ci += rows.getCellMerge(eri, ci)[1];\n      }\n    }\n  } else if (mode === 'left' || mode === 'right') {\n    for (let ri = sri; ri <= eri; ri += 1) {\n      if (mode === 'left') {\n        setStyleBorder.call(this, ri, sci, { left: [style, color] });\n        ri += rows.getCellMerge(ri, sci)[0];\n      }\n      if (mode === 'right') {\n        setStyleBorder.call(this, ri, eci, { right: [style, color] });\n        ri += rows.getCellMerge(ri, eci)[0];\n      }\n    }\n  }\n}\n\nfunction getCellRowByY(y, scrollOffsety) {\n  const { rows } = this;\n  const fsh = this.freezeTotalHeight();\n  // console.log('y:', y, ', fsh:', fsh);\n  let inits = rows.height;\n  if (fsh + rows.height < y) inits -= scrollOffsety;\n\n  // handle ri in autofilter\n  const frset = this.exceptRowSet;\n\n  let ri = 0;\n  let top = inits;\n  let { height } = rows;\n  for (; ri < rows.len; ri += 1) {\n    if (top > y) break;\n    if (!frset.has(ri)) {\n      height = rows.getHeight(ri);\n      top += height;\n    }\n  }\n  top -= height;\n  // console.log('ri:', ri, ', top:', top, ', height:', height);\n\n  if (top <= 0) {\n    return { ri: -1, top: 0, height };\n  }\n\n  return { ri: ri - 1, top, height };\n}\n\nfunction getCellColByX(x, scrollOffsetx) {\n  const { cols } = this;\n  const fsw = this.freezeTotalWidth();\n  let inits = cols.indexWidth;\n  if (fsw + cols.indexWidth < x) inits -= scrollOffsetx;\n  const [ci, left, width] = helper.rangeReduceIf(\n    0,\n    cols.len,\n    inits,\n    cols.indexWidth,\n    x,\n    i => cols.getWidth(i),\n  );\n  if (left <= 0) {\n    return { ci: -1, left: 0, width: cols.indexWidth };\n  }\n  return { ci: ci - 1, left, width };\n}\n\nexport default class DataProxy {\n  constructor(name, settings) {\n    this.settings = helper.merge(defaultSettings, settings || {});\n    // save data begin\n    this.name = name || 'sheet';\n    this.freeze = [0, 0];\n    this.styles = []; // Array<Style>\n    this.merges = new Merges(); // [CellRange, ...]\n    this.rows = new Rows(this.settings.row);\n    this.cols = new Cols(this.settings.col);\n    this.validations = new Validations();\n    this.hyperlinks = {};\n    this.comments = {};\n    // save data end\n\n    // don't save object\n    this.selector = new Selector();\n    this.scroll = new Scroll();\n    this.history = new History();\n    this.clipboard = new Clipboard();\n    this.autoFilter = new AutoFilter();\n    this.change = () => {};\n    this.exceptRowSet = new Set();\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n  }\n\n  addValidation(mode, ref, validator) {\n    // console.log('mode:', mode, ', ref:', ref, ', validator:', validator);\n    this.changeData(() => {\n      this.validations.add(mode, ref, validator);\n    });\n  }\n\n  removeValidation() {\n    const { range } = this.selector;\n    this.changeData(() => {\n      this.validations.remove(range);\n    });\n  }\n\n  getSelectedValidator() {\n    const { ri, ci } = this.selector;\n    const v = this.validations.get(ri, ci);\n    return v ? v.validator : null;\n  }\n\n  getSelectedValidation() {\n    const { ri, ci, range } = this.selector;\n    const v = this.validations.get(ri, ci);\n    const ret = { ref: range.toString() };\n    if (v !== null) {\n      ret.mode = v.mode;\n      ret.validator = v.validator;\n    }\n    return ret;\n  }\n\n  canUndo() {\n    return this.history.canUndo();\n  }\n\n  canRedo() {\n    return this.history.canRedo();\n  }\n\n  undo() {\n    this.history.undo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  redo() {\n    this.history.redo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  copy() {\n    this.clipboard.copy(this.selector.range);\n  }\n\n  copyToSystemClipboard(evt) {\n    let copyText = [];\n    const {\n      sri, eri, sci, eci,\n    } = this.selector.range;\n\n    for (let ri = sri; ri <= eri; ri += 1) {\n      const row = [];\n      for (let ci = sci; ci <= eci; ci += 1) {\n        const cell = this.getCell(ri, ci);\n        row.push((cell && cell.text) || '');\n      }\n      copyText.push(row);\n    }\n\n    // Adding \\n and why not adding \\r\\n is to support online office and client MS office and WPS\n    copyText = copyText.map(row => row.join('\\t')).join('\\n');\n\n    // why used this\n    // cuz http protocol will be blocked request clipboard by browser\n    if (evt) {\n      evt.clipboardData.clearData();\n      evt.clipboardData.setData('text/plain', copyText);\n      evt.preventDefault();\n    }\n\n    // this need https protocol\n    /* global navigator */\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(copyText).then(() => {}, (err) => {\n        console.log('text copy to the system clipboard error  ', copyText, err);\n      });\n    }\n  }\n\n  cut() {\n    this.clipboard.cut(this.selector.range);\n  }\n\n  // what: all | text | format\n  paste(what = 'all', error = () => {}) {\n    // console.log('sIndexes:', sIndexes);\n    const { clipboard, selector } = this;\n    if (clipboard.isClear()) return false;\n    if (!canPaste.call(this, clipboard.range, selector.range, error)) return false;\n\n    this.changeData(() => {\n      if (clipboard.isCopy()) {\n        copyPaste.call(this, clipboard.range, selector.range, what, this.settings.autoFillOnCopy);\n      } else if (clipboard.isCut()) {\n        cutPaste.call(this, clipboard.range, selector.range);\n      }\n    });\n    return true;\n  }\n\n  pasteFromSystemClipboard(resetSheet, eventTrigger) {\n    const { selector } = this;\n    navigator.clipboard.readText().then((content) => {\n      const contentToPaste = this.parseClipboardContent(content);\n      let startRow = selector.ri;\n      contentToPaste.forEach((row) => {\n        let startColumn = selector.ci;\n        row.forEach((cellContent) => {\n          this.setCellText(startRow, startColumn, cellContent, 'input');\n          startColumn += 1;\n        });\n        startRow += 1;\n      });\n      resetSheet();\n      eventTrigger(this.rows.getData());\n    });\n  }\n\n  parseClipboardContent(clipboardContent) {\n    const parsedData = [];\n\n    // first we need to figure out how many rows we need to paste\n    const rows = clipboardContent.split('\\n');\n\n    // for each row parse cell data\n    let i = 0;\n    rows.forEach((row) => {\n      parsedData[i] = row.split('\\t');\n      i += 1;\n    });\n    return parsedData;\n  }\n\n  pasteFromText(txt) {\n    let lines = [];\n\n    if (/\\r\\n/.test(txt)) lines = txt.split('\\r\\n').map(it => it.replace(/\"/g, '').split('\\t'));\n    else lines = txt.split('\\n').map(it => it.replace(/\"/g, '').split('\\t'));\n\n    if (lines.length) {\n      const { rows, selector } = this;\n\n      this.changeData(() => {\n        rows.paste(lines, selector.range);\n      });\n    }\n  }\n\n  autofill(cellRange, what, error = () => {}) {\n    const srcRange = this.selector.range;\n    if (!canPaste.call(this, srcRange, cellRange, error)) return false;\n    this.changeData(() => {\n      copyPaste.call(this, srcRange, cellRange, what, true);\n    });\n    return true;\n  }\n\n  clearClipboard() {\n    this.clipboard.clear();\n  }\n\n  calSelectedRangeByEnd(ri, ci) {\n    const {\n      selector, rows, cols, merges,\n    } = this;\n    let {\n      sri, sci, eri, eci,\n    } = selector.range;\n    const cri = selector.ri;\n    const cci = selector.ci;\n    let [nri, nci] = [ri, ci];\n    if (ri < 0) nri = rows.len - 1;\n    if (ci < 0) nci = cols.len - 1;\n    if (nri > cri) [sri, eri] = [cri, nri];\n    else [sri, eri] = [nri, cri];\n    if (nci > cci) [sci, eci] = [cci, nci];\n    else [sci, eci] = [nci, cci];\n    selector.range = merges.union(new CellRange(\n      sri, sci, eri, eci,\n    ));\n    selector.range = merges.union(selector.range);\n    // console.log('selector.range:', selector.range);\n    return selector.range;\n  }\n\n  calSelectedRangeByStart(ri, ci) {\n    const {\n      selector, rows, cols, merges,\n    } = this;\n    let cellRange = merges.getFirstIncludes(ri, ci);\n    // console.log('cellRange:', cellRange, ri, ci, merges);\n    if (cellRange === null) {\n      cellRange = new CellRange(ri, ci, ri, ci);\n      if (ri === -1) {\n        cellRange.sri = 0;\n        cellRange.eri = rows.len - 1;\n      }\n      if (ci === -1) {\n        cellRange.sci = 0;\n        cellRange.eci = cols.len - 1;\n      }\n    }\n    selector.range = cellRange;\n    return cellRange;\n  }\n\n  setSelectedCellAttr(property, value) {\n    this.changeData(() => {\n      const { selector, styles, rows } = this;\n      if (property === 'merge') {\n        if (value) this.merge();\n        else this.unmerge();\n      } else if (property === 'border') {\n        setStyleBorders.call(this, value);\n      } else if (property === 'formula') {\n        // console.log('>>>', selector.multiple());\n        const { ri, ci, range } = selector;\n        if (selector.multiple()) {\n          const [rn, cn] = selector.size();\n          const {\n            sri, sci, eri, eci,\n          } = range;\n          if (rn > 1) {\n            for (let i = sci; i <= eci; i += 1) {\n              const cell = rows.getCellOrNew(eri + 1, i);\n              cell.text = `=${value}(${xy2expr(i, sri)}:${xy2expr(i, eri)})`;\n            }\n          } else if (cn > 1) {\n            const cell = rows.getCellOrNew(ri, eci + 1);\n            cell.text = `=${value}(${xy2expr(sci, ri)}:${xy2expr(eci, ri)})`;\n          }\n        } else {\n          const cell = rows.getCellOrNew(ri, ci);\n          cell.text = `=${value}()`;\n        }\n      } else {\n        selector.range.each((ri, ci) => {\n          const cell = rows.getCellOrNew(ri, ci);\n          let cstyle = {};\n          if (cell.style !== undefined) {\n            cstyle = helper.cloneDeep(styles[cell.style]);\n          }\n          if (property === 'format') {\n            cstyle.format = value;\n            cell.style = this.addStyle(cstyle);\n          } else if (property === 'font-bold' || property === 'font-italic'\n            || property === 'font-name' || property === 'font-size') {\n            const nfont = {};\n            nfont[property.split('-')[1]] = value;\n            cstyle.font = Object.assign(cstyle.font || {}, nfont);\n            cell.style = this.addStyle(cstyle);\n          } else if (property === 'strike' || property === 'textwrap'\n            || property === 'underline'\n            || property === 'align' || property === 'valign'\n            || property === 'color' || property === 'bgcolor') {\n            cstyle[property] = value;\n            cell.style = this.addStyle(cstyle);\n          } else {\n            cell[property] = value;\n          }\n        });\n      }\n    });\n  }\n\n  // state: input | finished\n  setSelectedCellText(text, state = 'input') {\n    const { autoFilter, selector, rows } = this;\n    const { ri, ci } = selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    const oldCell = rows.getCell(nri, ci);\n    const oldText = oldCell ? oldCell.text : '';\n    this.setCellText(nri, ci, text, state);\n    // replace filter.value\n    if (autoFilter.active()) {\n      const filter = autoFilter.getFilter(ci);\n      if (filter) {\n        const vIndex = filter.value.findIndex(v => v === oldText);\n        if (vIndex >= 0) {\n          filter.value.splice(vIndex, 1, text);\n        }\n        // console.log('filter:', filter, oldCell);\n      }\n    }\n    // this.resetAutoFilter();\n  }\n\n  getSelectedCell() {\n    const { ri, ci } = this.selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    return this.rows.getCell(nri, ci);\n  }\n\n  xyInSelectedRect(x, y) {\n    const {\n      left, top, width, height,\n    } = this.getSelectedRect();\n    const x1 = x - this.cols.indexWidth;\n    const y1 = y - this.rows.height;\n    // console.log('x:', x, ',y:', y, 'left:', left, 'top:', top);\n    return x1 > left && x1 < (left + width)\n      && y1 > top && y1 < (top + height);\n  }\n\n  getSelectedRect() {\n    return this.getRect(this.selector.range);\n  }\n\n  getClipboardRect() {\n    const { clipboard } = this;\n    if (!clipboard.isClear()) {\n      return this.getRect(clipboard.range);\n    }\n    return { left: -100, top: -100 };\n  }\n\n  getRect(cellRange) {\n    const {\n      scroll, rows, cols, exceptRowSet,\n    } = this;\n    const {\n      sri, sci, eri, eci,\n    } = cellRange;\n    // console.log('sri:', sri, ',sci:', sci, ', eri:', eri, ', eci:', eci);\n    // no selector\n    if (sri < 0 && sci < 0) {\n      return {\n        left: 0, l: 0, top: 0, t: 0, scroll,\n      };\n    }\n    const left = cols.sumWidth(0, sci);\n    const top = rows.sumHeight(0, sri, exceptRowSet);\n    const height = rows.sumHeight(sri, eri + 1, exceptRowSet);\n    const width = cols.sumWidth(sci, eci + 1);\n    // console.log('sri:', sri, ', sci:', sci, ', eri:', eri, ', eci:', eci);\n    let left0 = left - scroll.x;\n    let top0 = top - scroll.y;\n    const fsh = this.freezeTotalHeight();\n    const fsw = this.freezeTotalWidth();\n    if (fsw > 0 && fsw > left) {\n      left0 = left;\n    }\n    if (fsh > 0 && fsh > top) {\n      top0 = top;\n    }\n    return {\n      l: left,\n      t: top,\n      left: left0,\n      top: top0,\n      height,\n      width,\n      scroll,\n    };\n  }\n\n  getCellRectByXY(x, y) {\n    const {\n      scroll, merges, rows, cols,\n    } = this;\n    let { ri, top, height } = getCellRowByY.call(this, y, scroll.y);\n    let { ci, left, width } = getCellColByX.call(this, x, scroll.x);\n    if (ci === -1) {\n      width = cols.totalWidth();\n    }\n    if (ri === -1) {\n      height = rows.totalHeight();\n    }\n    if (ri >= 0 || ci >= 0) {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        ri = merge.sri;\n        ci = merge.sci;\n        ({\n          left, top, width, height,\n        } = this.cellRect(ri, ci));\n      }\n    }\n    return {\n      ri, ci, left, top, width, height,\n    };\n  }\n\n  isSingleSelected() {\n    const {\n      sri, sci, eri, eci,\n    } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return !this.selector.multiple();\n  }\n\n  canUnmerge() {\n    const {\n      sri, sci, eri, eci,\n    } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return false;\n  }\n\n  merge() {\n    const { selector, rows } = this;\n    if (this.isSingleSelected()) return;\n    const [rn, cn] = selector.size();\n    // console.log('merge:', rn, cn);\n    if (rn > 1 || cn > 1) {\n      const { sri, sci } = selector.range;\n      this.changeData(() => {\n        const cell = rows.getCellOrNew(sri, sci);\n        cell.merge = [rn - 1, cn - 1];\n        this.merges.add(selector.range);\n        // delete merge cells\n        this.rows.deleteCells(selector.range);\n        // console.log('cell:', cell, this.d);\n        this.rows.setCell(sri, sci, cell);\n      });\n    }\n  }\n\n  unmerge() {\n    const { selector } = this;\n    if (!this.isSingleSelected()) return;\n    const { sri, sci } = selector.range;\n    this.changeData(() => {\n      this.rows.deleteCell(sri, sci, 'merge');\n      this.merges.deleteWithin(selector.range);\n    });\n  }\n\n  canAutofilter() {\n    return !this.autoFilter.active();\n  }\n\n  autofilter() {\n    const { autoFilter, selector } = this;\n    this.changeData(() => {\n      if (autoFilter.active()) {\n        autoFilter.clear();\n        this.exceptRowSet = new Set();\n        this.sortedRowMap = new Map();\n        this.unsortedRowMap = new Map();\n      } else {\n        autoFilter.ref = selector.range.toString();\n      }\n    });\n  }\n\n  setAutoFilter(ci, order, operator, value) {\n    const { autoFilter } = this;\n    autoFilter.addFilter(ci, operator, value);\n    autoFilter.setSort(ci, order);\n    this.resetAutoFilter();\n  }\n\n  resetAutoFilter() {\n    const { autoFilter, rows } = this;\n    if (!autoFilter.active()) return;\n    const { sort } = autoFilter;\n    const { rset, fset } = autoFilter.filteredRows((r, c) => rows.getCell(r, c));\n    const fary = Array.from(fset);\n    const oldAry = Array.from(fset);\n    if (sort) {\n      fary.sort((a, b) => {\n        if (sort.order === 'asc') return a - b;\n        if (sort.order === 'desc') return b - a;\n        return 0;\n      });\n    }\n    this.exceptRowSet = rset;\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n    fary.forEach((it, index) => {\n      this.sortedRowMap.set(oldAry[index], it);\n      this.unsortedRowMap.set(it, oldAry[index]);\n    });\n  }\n\n  deleteCell(what = 'all') {\n    const { selector } = this;\n    this.changeData(() => {\n      this.rows.deleteCells(selector.range, what);\n      if (what === 'all' || what === 'format') {\n        this.merges.deleteWithin(selector.range);\n      }\n    });\n  }\n\n  // type: row | column\n  insert(type, n = 1) {\n    this.changeData(() => {\n      const { sri, sci } = this.selector.range;\n      const { rows, merges, cols } = this;\n      let si = sri;\n      if (type === 'row') {\n        rows.insert(sri, n);\n      } else if (type === 'column') {\n        rows.insertColumn(sci, n);\n        si = sci;\n        cols.len += 1;\n      }\n      merges.shift(type, si, n, (ri, ci, rn, cn) => {\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n      });\n    });\n  }\n\n  // type: row | column\n  delete(type) {\n    this.changeData(() => {\n      const {\n        rows, merges, selector, cols,\n      } = this;\n      const { range } = selector;\n      const {\n        sri, sci, eri, eci,\n      } = selector.range;\n      const [rsize, csize] = selector.range.size();\n      let si = sri;\n      let size = rsize;\n      if (type === 'row') {\n        rows.delete(sri, eri);\n      } else if (type === 'column') {\n        rows.deleteColumn(sci, eci);\n        si = range.sci;\n        size = csize;\n        cols.len -= (eci - sci + 1);\n      }\n      // console.log('type:', type, ', si:', si, ', size:', size);\n      merges.shift(type, si, -size, (ri, ci, rn, cn) => {\n        // console.log('ri:', ri, ', ci:', ci, ', rn:', rn, ', cn:', cn);\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n        if (cell.merge[0] === 0 && cell.merge[1] === 0) {\n          delete cell.merge;\n        }\n      });\n    });\n  }\n\n  scrollx(x, cb) {\n    const { scroll, freeze, cols } = this;\n    const [, fci] = freeze;\n    const [\n      ci, left, width,\n    ] = helper.rangeReduceIf(fci, cols.len, 0, 0, x, i => cols.getWidth(i));\n    // console.log('fci:', fci, ', ci:', ci);\n    let x1 = left;\n    if (x > 0) x1 += width;\n    if (scroll.x !== x1) {\n      scroll.ci = x > 0 ? ci : 0;\n      scroll.x = x1;\n      cb();\n    }\n  }\n\n  scrolly(y, cb) {\n    const { scroll, freeze, rows } = this;\n    const [fri] = freeze;\n    const [\n      ri, top, height,\n    ] = helper.rangeReduceIf(fri, rows.len, 0, 0, y, i => rows.getHeight(i));\n    let y1 = top;\n    if (y > 0) y1 += height;\n    // console.log('ri:', ri, ' ,y:', y1);\n    if (scroll.y !== y1) {\n      scroll.ri = y > 0 ? ri : 0;\n      scroll.y = y1;\n      cb();\n    }\n  }\n\n  cellRect(ri, ci) {\n    const { rows, cols } = this;\n    const left = cols.sumWidth(0, ci);\n    const top = rows.sumHeight(0, ri);\n    const cell = rows.getCell(ri, ci);\n    let width = cols.getWidth(ci);\n    let height = rows.getHeight(ri);\n    if (cell !== null) {\n      if (cell.merge) {\n        const [rn, cn] = cell.merge;\n        // console.log('cell.merge:', cell.merge);\n        if (rn > 0) {\n          for (let i = 1; i <= rn; i += 1) {\n            height += rows.getHeight(ri + i);\n          }\n        }\n        if (cn > 0) {\n          for (let i = 1; i <= cn; i += 1) {\n            width += cols.getWidth(ci + i);\n          }\n        }\n      }\n    }\n    // console.log('data:', this.d);\n    return {\n      left, top, width, height, cell,\n    };\n  }\n\n  getCell(ri, ci) {\n    return this.rows.getCell(ri, ci);\n  }\n\n  getCellTextOrDefault(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    return (cell && cell.text) ? cell.text : '';\n  }\n\n  getCellStyle(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.style !== undefined) {\n      return this.styles[cell.style];\n    }\n    return null;\n  }\n\n  getCellStyleOrDefault(ri, ci) {\n    const { styles, rows } = this;\n    const cell = rows.getCell(ri, ci);\n    const cellStyle = (cell && cell.style !== undefined) ? styles[cell.style] : {};\n    return helper.merge(this.defaultStyle(), cellStyle);\n  }\n\n  getSelectedCellStyle() {\n    const { ri, ci } = this.selector;\n    return this.getCellStyleOrDefault(ri, ci);\n  }\n\n  // state: input | finished\n  setCellText(ri, ci, text, state) {\n    const { rows, history, validations } = this;\n    if (state === 'finished') {\n      rows.setCellText(ri, ci, '');\n      history.add(this.getData());\n      rows.setCellText(ri, ci, text);\n    } else {\n      rows.setCellText(ri, ci, text);\n      this.change(this.getData());\n    }\n    // validator\n    validations.validate(ri, ci, text);\n  }\n\n  freezeIsActive() {\n    const [ri, ci] = this.freeze;\n    return ri > 0 || ci > 0;\n  }\n\n  setFreeze(ri, ci) {\n    this.changeData(() => {\n      this.freeze = [ri, ci];\n    });\n  }\n\n  freezeTotalWidth() {\n    return this.cols.sumWidth(0, this.freeze[1]);\n  }\n\n  freezeTotalHeight() {\n    return this.rows.sumHeight(0, this.freeze[0]);\n  }\n\n  setRowHeight(ri, height) {\n    this.changeData(() => {\n      this.rows.setHeight(ri, height);\n    });\n  }\n\n  setColWidth(ci, width) {\n    this.changeData(() => {\n      this.cols.setWidth(ci, width);\n    });\n  }\n\n  viewHeight() {\n    const { view, showToolbar, showBottomBar } = this.settings;\n    let h = view.height();\n    if (showBottomBar) {\n      h -= bottombarHeight;\n    }\n    if (showToolbar) {\n      h -= toolbarHeight;\n    }\n    return h;\n  }\n\n  viewWidth() {\n    return this.settings.view.width();\n  }\n\n  freezeViewRange() {\n    const [ri, ci] = this.freeze;\n    return new CellRange(0, 0, ri - 1, ci - 1, this.freezeTotalWidth(), this.freezeTotalHeight());\n  }\n\n  contentRange() {\n    const { rows, cols } = this;\n    const [ri, ci] = rows.maxCell();\n    const h = rows.sumHeight(0, ri + 1);\n    const w = cols.sumWidth(0, ci + 1);\n    return new CellRange(0, 0, ri, ci, w, h);\n  }\n\n  exceptRowTotalHeight(sri, eri) {\n    const { exceptRowSet, rows } = this;\n    const exceptRows = Array.from(exceptRowSet);\n    let exceptRowTH = 0;\n    exceptRows.forEach((ri) => {\n      if (ri < sri || ri > eri) {\n        const height = rows.getHeight(ri);\n        exceptRowTH += height;\n      }\n    });\n    return exceptRowTH;\n  }\n\n  viewRange() {\n    const {\n      scroll, rows, cols, freeze, exceptRowSet,\n    } = this;\n    // console.log('scroll:', scroll, ', freeze:', freeze)\n    let { ri, ci } = scroll;\n    if (ri <= 0) [ri] = freeze;\n    if (ci <= 0) [, ci] = freeze;\n\n    let [x, y] = [0, 0];\n    let [eri, eci] = [rows.len, cols.len];\n    for (let i = ri; i < rows.len; i += 1) {\n      if (!exceptRowSet.has(i)) {\n        y += rows.getHeight(i);\n        eri = i;\n      }\n      if (y > this.viewHeight()) break;\n    }\n    for (let j = ci; j < cols.len; j += 1) {\n      x += cols.getWidth(j);\n      eci = j;\n      if (x > this.viewWidth()) break;\n    }\n    // console.log(ri, ci, eri, eci, x, y);\n    return new CellRange(ri, ci, eri, eci, x, y);\n  }\n\n  eachMergesInView(viewRange, cb) {\n    this.merges.filterIntersects(viewRange)\n      .forEach(it => cb(it));\n  }\n\n  hideRowsOrCols() {\n    const { rows, cols, selector } = this;\n    const [rlen, clen] = selector.size();\n    const {\n      sri, sci, eri, eci,\n    } = selector.range;\n    if (rlen === rows.len) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        cols.setHide(ci, true);\n      }\n    } else if (clen === cols.len) {\n      for (let ri = sri; ri <= eri; ri += 1) {\n        rows.setHide(ri, true);\n      }\n    }\n  }\n\n  // type: row | col\n  // index row-index | col-index\n  unhideRowsOrCols(type, index) {\n    this[`${type}s`].unhide(index);\n  }\n\n  rowEach(min, max, cb) {\n    let y = 0;\n    const { rows } = this;\n    const frset = this.exceptRowSet;\n    const frary = [...frset];\n    let offset = 0;\n    for (let i = 0; i < frary.length; i += 1) {\n      if (frary[i] < min) {\n        offset += 1;\n      }\n    }\n    // console.log('min:', min, ', max:', max, ', scroll:', scroll);\n    for (let i = min + offset; i <= max + offset; i += 1) {\n      if (frset.has(i)) {\n        offset += 1;\n      } else {\n        const rowHeight = rows.getHeight(i);\n        if (rowHeight > 0) {\n          cb(i, y, rowHeight);\n          y += rowHeight;\n          if (y > this.viewHeight()) break;\n        }\n      }\n    }\n  }\n\n  colEach(min, max, cb) {\n    let x = 0;\n    const { cols } = this;\n    for (let i = min; i <= max; i += 1) {\n      const colWidth = cols.getWidth(i);\n      if (colWidth > 0) {\n        cb(i, x, colWidth);\n        x += colWidth;\n        if (x > this.viewWidth()) break;\n      }\n    }\n  }\n\n  defaultStyle() {\n    return this.settings.style;\n  }\n\n  addStyle(nstyle) {\n    const { styles } = this;\n    // console.log('old.styles:', styles, nstyle);\n    for (let i = 0; i < styles.length; i += 1) {\n      const style = styles[i];\n      if (helper.equals(style, nstyle)) return i;\n    }\n    styles.push(nstyle);\n    return styles.length - 1;\n  }\n\n  changeData(cb) {\n    this.history.add(this.getData());\n    cb();\n    this.change(this.getData());\n  }\n\n  setData(d) {\n    Object.keys(d).forEach((property) => {\n      if (property === 'merges' || property === 'rows'\n        || property === 'cols' || property === 'validations') {\n        this[property].setData(d[property]);\n      } else if (property === 'freeze') {\n        const [x, y] = expr2xy(d[property]);\n        this.freeze = [y, x];\n      } else if (property === 'autofilter') {\n        this.autoFilter.setData(d[property]);\n      } else if (d[property] !== undefined) {\n        this[property] = d[property];\n      }\n    });\n    return this;\n  }\n\n  getData() {\n    const {\n      name, freeze, styles, merges, rows, cols, validations, autoFilter,\n    } = this;\n    return {\n      name,\n      freeze: xy2expr(freeze[1], freeze[0]),\n      styles,\n      merges: merges.getData(),\n      rows: rows.getData(),\n      cols: cols.getData(),\n      validations: validations.getData(),\n      autofilter: autoFilter.getData(),\n    };\n  }\n}\n","/* global window */\nexport function bind(target, name, fn) {\n  target.addEventListener(name, fn);\n}\nexport function unbind(target, name, fn) {\n  target.removeEventListener(name, fn);\n}\nexport function unbindClickoutside(el) {\n  if (el.xclickoutside) {\n    unbind(window.document.body, 'click', el.xclickoutside);\n    delete el.xclickoutside;\n  }\n}\n\n// the left mouse button: mousedown  mouseup  click\n// the right mouse button: mousedown  contenxtmenu  mouseup\n// the right mouse button in firefox(>65.0): mousedown  contenxtmenu  mouseup  click on window\nexport function bindClickoutside(el, cb) {\n  el.xclickoutside = (evt) => {\n    // ignore double click\n    // console.log('evt:', evt);\n    if (evt.detail === 2 || el.contains(evt.target)) return;\n    if (cb) cb(el);\n    else {\n      el.hide();\n      unbindClickoutside(el);\n    }\n  };\n  bind(window.document.body, 'click', el.xclickoutside);\n}\nexport function mouseMoveUp(target, movefunc, upfunc) {\n  bind(target, 'mousemove', movefunc);\n  const t = target;\n  t.xEvtUp = (evt) => {\n    // console.log('mouseup>>>');\n    unbind(target, 'mousemove', movefunc);\n    unbind(target, 'mouseup', target.xEvtUp);\n    upfunc(evt);\n  };\n  bind(target, 'mouseup', target.xEvtUp);\n}\n\nfunction calTouchDirection(spanx, spany, evt, cb) {\n  let direction = '';\n  // console.log('spanx:', spanx, ', spany:', spany);\n  if (Math.abs(spanx) > Math.abs(spany)) {\n    // horizontal\n    direction = spanx > 0 ? 'right' : 'left';\n    cb(direction, spanx, evt);\n  } else {\n    // vertical\n    direction = spany > 0 ? 'down' : 'up';\n    cb(direction, spany, evt);\n  }\n}\n// cb = (direction, distance) => {}\nexport function bindTouch(target, { move, end }) {\n  let startx = 0;\n  let starty = 0;\n  bind(target, 'touchstart', (evt) => {\n    const { pageX, pageY } = evt.touches[0];\n    startx = pageX;\n    starty = pageY;\n  });\n  bind(target, 'touchmove', (evt) => {\n    if (!move) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    if (Math.abs(spanx) > 10 || Math.abs(spany) > 10) {\n      // console.log('spanx:', spanx, ', spany:', spany);\n      calTouchDirection(spanx, spany, evt, move);\n      startx = pageX;\n      starty = pageY;\n    }\n    evt.preventDefault();\n  });\n  bind(target, 'touchend', (evt) => {\n    if (!end) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    calTouchDirection(spanx, spany, evt, end);\n  });\n}\n\n// eventemiter\nexport function createEventEmitter() {\n  const listeners = new Map();\n\n  function on(eventName, callback) {\n    const push = () => {\n      const currentListener = listeners.get(eventName);\n      return (Array.isArray(currentListener)\n          && currentListener.push(callback))\n          || false;\n    };\n\n    const create = () => listeners.set(eventName, [].concat(callback));\n\n    return (listeners.has(eventName)\n        && push())\n        || create();\n  }\n\n  function fire(eventName, args) {\n    const exec = () => {\n      const currentListener = listeners.get(eventName);\n      for (const callback of currentListener) callback.call(null, ...args);\n    };\n\n    return listeners.has(eventName)\n        && exec();\n  }\n\n  function removeListener(eventName, callback) {\n    const remove = () => {\n      const currentListener = listeners.get(eventName);\n      const idx = currentListener.indexOf(callback);\n      return (idx >= 0)\n          && currentListener.splice(idx, 1)\n          && listeners.get(eventName).length === 0\n          && listeners.delete(eventName);\n    };\n\n    return listeners.has(eventName)\n        && remove();\n  }\n\n  function once(eventName, callback) {\n    const execCalllback = (...args) => {\n      callback.call(null, ...args);\n      removeListener(eventName, execCalllback);\n    };\n\n    return on(eventName, execCalllback);\n  }\n\n  function removeAllListeners() {\n    listeners.clear();\n  }\n\n  return {\n    get current() {\n      return listeners;\n    },\n    on,\n    once,\n    fire,\n    removeListener,\n    removeAllListeners,\n  };\n}\n","/* global window */\nexport const cssPrefix = 'x-spreadsheet';\nexport const dpr = window.devicePixelRatio || 1;\nexport default {\n  cssPrefix,\n  dpr,\n};\n","/* global window */\nimport { h } from './element';\nimport { mouseMoveUp } from './event';\nimport { cssPrefix } from '../config';\n\nexport default class Resizer {\n  constructor(vertical = false, minDistance) {\n    this.moving = false;\n    this.vertical = vertical;\n    this.el = h('div', `${cssPrefix}-resizer ${vertical ? 'vertical' : 'horizontal'}`).children(\n      this.unhideHoverEl = h('div', `${cssPrefix}-resizer-hover`)\n        .on('dblclick.stop', evt => this.mousedblclickHandler(evt))\n        .css('position', 'absolute').hide(),\n      this.hoverEl = h('div', `${cssPrefix}-resizer-hover`)\n        .on('mousedown.stop', evt => this.mousedownHandler(evt)),\n      this.lineEl = h('div', `${cssPrefix}-resizer-line`).hide(),\n    ).hide();\n    // cell rect\n    this.cRect = null;\n    this.finishedFn = null;\n    this.minDistance = minDistance;\n    this.unhideFn = () => {};\n  }\n\n  showUnhide(index) {\n    this.unhideIndex = index;\n    this.unhideHoverEl.show();\n  }\n\n  hideUnhide() {\n    this.unhideHoverEl.hide();\n  }\n\n  // rect : {top, left, width, height}\n  // line : {width, height}\n  show(rect, line) {\n    const {\n      moving, vertical, hoverEl, lineEl, el,\n      unhideHoverEl,\n    } = this;\n    if (moving) return;\n    this.cRect = rect;\n    const {\n      left, top, width, height,\n    } = rect;\n    el.offset({\n      left: vertical ? left + width - 5 : left,\n      top: vertical ? top : top + height - 5,\n    }).show();\n    hoverEl.offset({\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n    lineEl.offset({\n      width: vertical ? 0 : line.width,\n      height: vertical ? line.height : 0,\n    });\n    unhideHoverEl.offset({\n      left: vertical ? 5 - width : left,\n      top: vertical ? top : 5 - height,\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n  }\n\n  hide() {\n    this.el.offset({\n      left: 0,\n      top: 0,\n    }).hide();\n    this.hideUnhide();\n  }\n\n  mousedblclickHandler() {\n    if (this.unhideIndex) this.unhideFn(this.unhideIndex);\n  }\n\n  mousedownHandler(evt) {\n    let startEvt = evt;\n    const {\n      el, lineEl, cRect, vertical, minDistance,\n    } = this;\n    let distance = vertical ? cRect.width : cRect.height;\n    // console.log('distance:', distance);\n    lineEl.show();\n    mouseMoveUp(window, (e) => {\n      this.moving = true;\n      if (startEvt !== null && e.buttons === 1) {\n        // console.log('top:', top, ', left:', top, ', cRect:', cRect);\n        if (vertical) {\n          distance += e.movementX;\n          if (distance > minDistance) {\n            el.css('left', `${cRect.left + distance}px`);\n          }\n        } else {\n          distance += e.movementY;\n          if (distance > minDistance) {\n            el.css('top', `${cRect.top + distance}px`);\n          }\n        }\n        startEvt = e;\n      }\n    }, () => {\n      startEvt = null;\n      lineEl.hide();\n      this.moving = false;\n      this.hide();\n      if (this.finishedFn) {\n        if (distance < minDistance) distance = minDistance;\n        this.finishedFn(cRect, distance);\n      }\n    });\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class Scrollbar {\n  constructor(vertical) {\n    this.vertical = vertical;\n    this.moveFn = null;\n    this.el = h('div', `${cssPrefix}-scrollbar ${vertical ? 'vertical' : 'horizontal'}`)\n      .child(this.contentEl = h('div', ''))\n      .on('mousemove.stop', () => {})\n      .on('scroll.stop', (evt) => {\n        const { scrollTop, scrollLeft } = evt.target;\n        // console.log('scrollTop:', scrollTop);\n        if (this.moveFn) {\n          this.moveFn(this.vertical ? scrollTop : scrollLeft, evt);\n        }\n        // console.log('evt:::', evt);\n      });\n  }\n\n  move(v) {\n    this.el.scroll(v);\n    return this;\n  }\n\n  scroll() {\n    return this.el.scroll();\n  }\n\n  set(distance, contentDistance) {\n    const d = distance - 1;\n    // console.log('distance:', distance, ', contentDistance:', contentDistance);\n    if (contentDistance > d) {\n      const cssKey = this.vertical ? 'height' : 'width';\n      // console.log('d:', d);\n      this.el.css(cssKey, `${d - 15}px`).show();\n      this.contentEl\n        .css(this.vertical ? 'width' : 'height', '1px')\n        .css(cssKey, `${contentDistance}px`);\n    } else {\n      this.el.hide();\n    }\n    return this;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\nimport { CellRange } from '../core/cell_range';\n\nconst selectorHeightBorderWidth = 2 * 2 - 1;\nlet startZIndex = 10;\n\nclass SelectorElement {\n  constructor(useHideInput = false, autoFocus = true) {\n    this.useHideInput = useHideInput;\n    this.autoFocus = autoFocus;\n    this.inputChange = () => {};\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\n    this.areaEl = h('div', `${cssPrefix}-selector-area`)\n      .child(this.cornerEl).hide();\n    this.clipboardEl = h('div', `${cssPrefix}-selector-clipboard`).hide();\n    this.autofillEl = h('div', `${cssPrefix}-selector-autofill`).hide();\n    this.el = h('div', `${cssPrefix}-selector`)\n      .css('z-index', `${startZIndex}`)\n      .children(this.areaEl, this.clipboardEl, this.autofillEl)\n      .hide();\n    if (useHideInput) {\n      this.hideInput = h('input', '')\n        .on('compositionend', (evt) => {\n          this.inputChange(evt.target.value);\n        });\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\n    }\n    startZIndex += 1;\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    return this;\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  setAreaOffset(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    const of = {\n      width: width - selectorHeightBorderWidth + 0.8,\n      height: height - selectorHeightBorderWidth + 0.8,\n      left: left - 0.8,\n      top: top - 0.8,\n    };\n    this.areaEl.offset(of).show();\n    if (this.useHideInput) {\n      this.hideInputDiv.offset(of);\n      if (this.autoFocus) {\n        this.hideInput.val('').focus();\n      } else {\n        this.hideInput.val('');\n      }\n    }\n  }\n\n  setClipboardOffset(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    this.clipboardEl.offset({\n      left,\n      top,\n      width: width - 5,\n      height: height - 5,\n    });\n  }\n\n  showAutofill(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    this.autofillEl.offset({\n      width: width - selectorHeightBorderWidth,\n      height: height - selectorHeightBorderWidth,\n      left,\n      top,\n    }).show();\n  }\n\n  hideAutofill() {\n    this.autofillEl.hide();\n  }\n\n  showClipboard() {\n    this.clipboardEl.show();\n  }\n\n  hideClipboard() {\n    this.clipboardEl.hide();\n  }\n}\n\nfunction calBRAreaOffset(offset) {\n  const { data } = this;\n  const {\n    left, top, width, height, scroll, l, t,\n  } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  const ftheight = data.freezeTotalHeight();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  let top0 = top - ftheight;\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: left0,\n    top: top0,\n    width,\n    height,\n  };\n}\n\nfunction calTAreaOffset(offset) {\n  const { data } = this;\n  const {\n    left, width, height, l, t, scroll,\n  } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  return {\n    left: left0, top: t, width, height,\n  };\n}\n\nfunction calLAreaOffset(offset) {\n  const { data } = this;\n  const {\n    top, width, height, l, t, scroll,\n  } = offset;\n  const ftheight = data.freezeTotalHeight();\n  let top0 = top - ftheight;\n  // console.log('ftheight:', ftheight, ', t:', t);\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: l, top: top0, width, height,\n  };\n}\n\nfunction setBRAreaOffset(offset) {\n  const { br } = this;\n  br.setAreaOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLAreaOffset(offset) {\n  const { tl } = this;\n  tl.setAreaOffset(offset);\n}\n\nfunction setTAreaOffset(offset) {\n  const { t } = this;\n  t.setAreaOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setLAreaOffset(offset) {\n  const { l } = this;\n  l.setAreaOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setLClipboardOffset(offset) {\n  const { l } = this;\n  l.setClipboardOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setBRClipboardOffset(offset) {\n  const { br } = this;\n  br.setClipboardOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLClipboardOffset(offset) {\n  const { tl } = this;\n  tl.setClipboardOffset(offset);\n}\n\nfunction setTClipboardOffset(offset) {\n  const { t } = this;\n  t.setClipboardOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setAllAreaOffset(offset) {\n  setBRAreaOffset.call(this, offset);\n  setTLAreaOffset.call(this, offset);\n  setTAreaOffset.call(this, offset);\n  setLAreaOffset.call(this, offset);\n}\n\nfunction setAllClipboardOffset(offset) {\n  setBRClipboardOffset.call(this, offset);\n  setTLClipboardOffset.call(this, offset);\n  setTClipboardOffset.call(this, offset);\n  setLClipboardOffset.call(this, offset);\n}\n\nexport default class Selector {\n  constructor(data) {\n    const { autoFocus } = data.settings;\n    this.inputChange = () => {};\n    this.data = data;\n    this.br = new SelectorElement(true, autoFocus);\n    this.t = new SelectorElement();\n    this.l = new SelectorElement();\n    this.tl = new SelectorElement();\n    this.br.inputChange = (v) => {\n      this.inputChange(v);\n    };\n    this.br.el.show();\n    this.offset = null;\n    this.areaOffset = null;\n    this.indexes = null;\n    this.range = null;\n    this.arange = null;\n    this.el = h('div', `${cssPrefix}-selectors`)\n      .children(\n        this.tl.el,\n        this.t.el,\n        this.l.el,\n        this.br.el,\n      ).hide();\n\n    // for performance\n    this.lastri = -1;\n    this.lastci = -1;\n\n    startZIndex += 1;\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.range = data.selector.range;\n    this.resetAreaOffset();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n\n  resetOffset() {\n    const {\n      data, tl, t, l, br,\n    } = this;\n    const freezeHeight = data.freezeTotalHeight();\n    const freezeWidth = data.freezeTotalWidth();\n    if (freezeHeight > 0 || freezeWidth > 0) {\n      tl.setOffset({ width: freezeWidth, height: freezeHeight });\n      t.setOffset({ left: freezeWidth, height: freezeHeight });\n      l.setOffset({ top: freezeHeight, width: freezeWidth });\n      br.setOffset({ left: freezeWidth, top: freezeHeight });\n    } else {\n      tl.hide();\n      t.hide();\n      l.hide();\n      br.setOffset({ left: 0, top: 0 });\n    }\n  }\n\n  resetAreaOffset() {\n    // console.log('offset:', offset);\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setAllAreaOffset.call(this, offset);\n    setAllClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRTAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setTAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setTClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRLAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setLAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setLClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  set(ri, ci, indexesUpdated = true) {\n    const { data } = this;\n    const cellRange = data.calSelectedRangeByStart(ri, ci);\n    const { sri, sci } = cellRange;\n    if (indexesUpdated) {\n      let [cri, cci] = [ri, ci];\n      if (ri < 0) cri = 0;\n      if (ci < 0) cci = 0;\n      data.selector.setIndexes(cri, cci);\n      this.indexes = [cri, cci];\n    }\n\n    this.moveIndexes = [sri, sci];\n    // this.sIndexes = sIndexes;\n    // this.eIndexes = eIndexes;\n    this.range = cellRange;\n    this.resetAreaOffset();\n    this.el.show();\n  }\n\n  setEnd(ri, ci, moving = true) {\n    const { data, lastri, lastci } = this;\n    if (moving) {\n      if (ri === lastri && ci === lastci) return;\n      this.lastri = ri;\n      this.lastci = ci;\n    }\n    this.range = data.calSelectedRangeByEnd(ri, ci);\n    setAllAreaOffset.call(this, this.data.getSelectedRect());\n  }\n\n  reset() {\n    // console.log('::::', this.data);\n    const { eri, eci } = this.data.selector.range;\n    this.setEnd(eri, eci);\n  }\n\n  showAutofill(ri, ci) {\n    if (ri === -1 && ci === -1) return;\n    // console.log('ri:', ri, ', ci:', ci);\n    // const [sri, sci] = this.sIndexes;\n    // const [eri, eci] = this.eIndexes;\n    const {\n      sri, sci, eri, eci,\n    } = this.range;\n    const [nri, nci] = [ri, ci];\n    // const rn = eri - sri;\n    // const cn = eci - sci;\n    const srn = sri - ri;\n    const scn = sci - ci;\n    const ern = eri - ri;\n    const ecn = eci - ci;\n    if (scn > 0) {\n      // left\n      // console.log('left');\n      this.arange = new CellRange(sri, nci, eri, sci - 1);\n      // this.saIndexes = [sri, nci];\n      // this.eaIndexes = [eri, sci - 1];\n      // data.calRangeIndexes2(\n    } else if (srn > 0) {\n      // top\n      // console.log('top');\n      // nri = sri;\n      this.arange = new CellRange(nri, sci, sri - 1, eci);\n      // this.saIndexes = [nri, sci];\n      // this.eaIndexes = [sri - 1, eci];\n    } else if (ecn < 0) {\n      // right\n      // console.log('right');\n      // nci = eci;\n      this.arange = new CellRange(sri, eci + 1, eri, nci);\n      // this.saIndexes = [sri, eci + 1];\n      // this.eaIndexes = [eri, nci];\n    } else if (ern < 0) {\n      // bottom\n      // console.log('bottom');\n      // nri = eri;\n      this.arange = new CellRange(eri + 1, sci, nri, eci);\n      // this.saIndexes = [eri + 1, sci];\n      // this.eaIndexes = [nri, eci];\n    } else {\n      // console.log('else:');\n      this.arange = null;\n      // this.saIndexes = null;\n      // this.eaIndexes = null;\n      return;\n    }\n    if (this.arange !== null) {\n      // console.log(this.saIndexes, ':', this.eaIndexes);\n      const offset = this.data.getRect(this.arange);\n      offset.width += 2;\n      offset.height += 2;\n      const {\n        br, l, t, tl,\n      } = this;\n      br.showAutofill(calBRAreaOffset.call(this, offset));\n      l.showAutofill(calLAreaOffset.call(this, offset));\n      t.showAutofill(calTAreaOffset.call(this, offset));\n      tl.showAutofill(offset);\n    }\n  }\n\n  hideAutofill() {\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].hideAutofill();\n    });\n  }\n\n  showClipboard() {\n    const coffset = this.data.getClipboardRect();\n    setAllClipboardOffset.call(this, coffset);\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].showClipboard();\n    });\n  }\n\n  hideClipboard() {\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].hideClipboard();\n    });\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\n\nfunction inputMovePrev(evt) {\n  evt.preventDefault();\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex -= 1;\n  if (this.itemIndex < 0) {\n    this.itemIndex = filterItems.length - 1;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputMoveNext(evt) {\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex += 1;\n  if (this.itemIndex > filterItems.length - 1) {\n    this.itemIndex = 0;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputEnter(evt) {\n  evt.preventDefault();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  evt.stopPropagation();\n  if (this.itemIndex < 0) this.itemIndex = 0;\n  filterItems[this.itemIndex].el.click();\n  this.hide();\n}\n\nfunction inputKeydownHandler(evt) {\n  const { keyCode } = evt;\n  if (evt.ctrlKey) {\n    evt.stopPropagation();\n  }\n  switch (keyCode) {\n    case 37: // left\n      evt.stopPropagation();\n      break;\n    case 38: // up\n      inputMovePrev.call(this, evt);\n      break;\n    case 39: // right\n      evt.stopPropagation();\n      break;\n    case 40: // down\n      inputMoveNext.call(this, evt);\n      break;\n    case 13: // enter\n      inputEnter.call(this, evt);\n      break;\n    case 9:\n      inputEnter.call(this, evt);\n      break;\n    default:\n      evt.stopPropagation();\n      break;\n  }\n}\n\nexport default class Suggest {\n  constructor(items, itemClick, width = '200px') {\n    this.filterItems = [];\n    this.items = items;\n    this.el = h('div', `${cssPrefix}-suggest`).css('width', width).hide();\n    this.itemClick = itemClick;\n    this.itemIndex = -1;\n  }\n\n  setOffset(v) {\n    this.el.cssRemoveKeys('top', 'bottom')\n      .offset(v);\n  }\n\n  hide() {\n    const { el } = this;\n    this.filterItems = [];\n    this.itemIndex = -1;\n    el.hide();\n    unbindClickoutside(this.el.parent());\n  }\n\n  setItems(items) {\n    this.items = items;\n    // this.search('');\n  }\n\n  search(word) {\n    let { items } = this;\n    if (!/^\\s*$/.test(word)) {\n      items = items.filter(it => (it.key || it).startsWith(word.toUpperCase()));\n    }\n    items = items.map((it) => {\n      let { title } = it;\n      if (title) {\n        if (typeof title === 'function') {\n          title = title();\n        }\n      } else {\n        title = it;\n      }\n      const item = h('div', `${cssPrefix}-item`)\n        .child(title)\n        .on('click.stop', () => {\n          this.itemClick(it);\n          this.hide();\n        });\n      if (it.label) {\n        item.child(h('div', 'label').html(it.label));\n      }\n      return item;\n    });\n    this.filterItems = items;\n    if (items.length <= 0) {\n      return;\n    }\n    const { el } = this;\n    // items[0].toggle();\n    el.html('').children(...items).show();\n    bindClickoutside(el.parent(), () => { this.hide(); });\n  }\n\n  bindInputEvents(input) {\n    input.on('keydown', evt => inputKeydownHandler.call(this, evt));\n  }\n}\n","import { Element, h } from './element';\nimport { cssPrefix } from '../config';\n\n\n// import * as undo from '../../assets/undo.svg';\n// const undo = require('raw-loader!../../assets/undo.svg');\nimport * as undo from '!!raw-loader!../../assets/undo.svg';\nimport * as redo from '!!raw-loader!../../assets/redo.svg';\nimport * as print from '!!raw-loader!../../assets/print.svg';\nimport * as paintformat from '!!raw-loader!../../assets/paintformat.svg';\nimport * as clearformat from '!!raw-loader!../../assets/clearformat.svg';\nimport * as bold from '!!raw-loader!../../assets/bold.svg';\nimport * as fontitalic from '!!raw-loader!../../assets/font-italic.svg';\nimport * as underline from '!!raw-loader!../../assets/underline.svg';\nimport * as strikeout from '!!raw-loader!../../assets/strikeout.svg';\nimport * as color from '!!raw-loader!../../assets/color.svg';\nimport * as bgcolor from '!!raw-loader!../../assets/bgcolor.svg';\nimport * as merge from '!!raw-loader!../../assets/merge.svg';\nimport * as alignleft from '!!raw-loader!../../assets/align-left.svg';\nimport * as aligncenter from '!!raw-loader!../../assets/align-center.svg';\nimport * as alignright from '!!raw-loader!../../assets/align-right.svg';\nimport * as aligntop from '!!raw-loader!../../assets/align-top.svg';\nimport * as alignmiddle from '!!raw-loader!../../assets/align-middle.svg';\nimport * as alignbottom from '!!raw-loader!../../assets/align-bottom.svg';\nimport * as textwrap from '!!raw-loader!../../assets/textwrap.svg';\nimport * as filter from '!!raw-loader!../../assets/filter.svg';\nimport * as formula from '!!raw-loader!../../assets/formulas.svg';\nimport * as arrowDown from '!!raw-loader!../../assets/arrow-down.svg';\nimport * as arrowRight from '!!raw-loader!../../assets/arrow-right.svg';\nimport * as link from '!!raw-loader!../../assets/link.svg';\nimport * as graph from '!!raw-loader!../../assets/graph.svg';\nimport * as freeze from '!!raw-loader!../../assets/freeze.svg';\nimport * as ellipsis from '!!raw-loader!../../assets/ellipsis.svg';\nimport * as add from '!!raw-loader!../../assets/add.svg';\nimport * as borderall from '!!raw-loader!../../assets/border-all.svg';\nimport * as borderinside from '!!raw-loader!../../assets/border-inside.svg';\nimport * as borderhorizontal from '!!raw-loader!../../assets/border-horizontal.svg';\nimport * as bordervertical from '!!raw-loader!../../assets/border-vertical.svg';\nimport * as borderoutside from '!!raw-loader!../../assets/border-outside.svg';\nimport * as borderleft from '!!raw-loader!../../assets/border-left.svg';\nimport * as bordertop from '!!raw-loader!../../assets/border-top.svg';\nimport * as borderright from '!!raw-loader!../../assets/border-right.svg';\nimport * as borderbottom from '!!raw-loader!../../assets/border-bottom.svg';\nimport * as bordernone from '!!raw-loader!../../assets/border-none.svg';\nimport * as linecolor from '!!raw-loader!../../assets/line-color.svg';\nimport * as linetype from '!!raw-loader!../../assets/line-type.svg';\nimport * as chevronleft from '!!raw-loader!../../assets/chevron-left.svg';\nimport * as chevronright from '!!raw-loader!../../assets/chevron-right.svg';\nimport * as close from '!!raw-loader!../../assets/close.svg';\n\nconst icons = {\n  undo: undo.default,\n  redo: redo.default,\n  print: print.default,\n  paintformat: paintformat.default,\n  clearformat: clearformat.default,\n  'font-bold': bold.default,\n  'font-italic': fontitalic.default,\n  underline: underline.default,\n  strike: strikeout.default,\n  color: color.default,\n  bgcolor: bgcolor.default,\n  merge: merge.default,\n  'align-left': alignleft.default,\n  'align-center': aligncenter.default,\n  'align-right': alignright.default,\n  'align-top': aligntop.default,\n  'align-middle': alignmiddle.default,\n  'align-bottom': alignbottom.default,\n  textwrap: textwrap.default,\n  autofilter: filter.default,\n  formula: formula.default,\n  'arrow-down': arrowDown.default,\n  'arrow-right': arrowRight.default,\n  link: link.default,\n  graph: graph.default,\n  freeze: freeze.default,\n  ellipsis: ellipsis.default,\n  add: add.default,\n  'border-all': borderall.default,\n  'border-inside': borderinside.default,\n  'border-horizontal': borderhorizontal.default,\n  'border-vertical': bordervertical.default,\n  'border-outside': borderoutside.default,\n  'border-left': borderleft.default,\n  'border-top': bordertop.default,\n  'border-right': borderright.default,\n  'border-bottom': borderbottom.default,\n  'border-none': bordernone.default,\n  'line-color': linecolor.default,\n  'line-type': linetype.default,\n  'chevron-left': chevronleft.default,\n  'chevron-right': chevronright.default,\n  close: close.default,\n};\n\n\nexport const buildImg = (name) => {\n  const icon = h('img');\n  if(icons[name]) {\n    icon.attr('src', icons[name])\n  } else {\n    console.log(`icon ${name} not found`);\n  }\n  return icon;\n}\n\nexport const buildSVG = (name) => {\n  if(icons[name]) {\n    return icons[name];\n  } else {\n    console.log(`icon ${name} not found`);\n  }\n  return \"\";\n}\n\nexport default class Icon extends Element {\n  constructor(name) {\n    super('div', `${cssPrefix}-icon icon-${name}`);\n    // const icon = buildImg(name);\n    const svg = buildSVG(name);\n    // icon.attr('src', undo);\n    // this.iconNameEl = h('img');\n    // this.iconNameEl.attr('src', undo);\n    // this.iconNameEl = h('div', `${cssPrefix}-icon-img ${name}`);\n    // this.iconNameEl = icon;\n    // this.child(undo);\n    // this.iconNameEl = this.child.appendChild(svg);\n    // this.child(this.iconNameEl);\n    this.el.innerHTML += svg;\n    this.iconNameEl = this.el.firstChild;\n  }\n\n  setName(name) {\n    this.className(` icon-${name}`);\n  }\n}\n","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g><path  fill-rule=\\\"evenodd\\\" d=\\\"M11.5656391,4.43436088 L9,7 L16,7 L16,0 L13.0418424,2.95815758 C11.5936787,1.73635959 9.72260775,1 7.67955083,1 C4.22126258,1 1.25575599,3.10984908 0,6 L2,7 C2.93658775,4.60974406 5.12943697,3.08011229 7.67955083,3 C9.14881247,3.0528747 10.4994783,3.57862053 11.5656391,4.43436088 Z\\\" transform=\\\"matrix(-1 0 0 1 17 5)\\\"/>\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M11.5656391,4.43436088 L9,7 L16,7 L16,0 L13.0418424,2.95815758 C11.5936787,1.73635959 9.72260775,1 7.67955083,1 C4.22126258,1 1.25575599,3.10984908 0,6 L2,7 C2.93658775,4.60974406 5.12943697,3.08011229 7.67955083,3 C9.14881247,3.0528747 10.4994783,3.57862053 11.5656391,4.43436088 Z\\\"\\n            transform=\\\"translate(1 5)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M13,14 L3,14 L3,11 L0,11 L0,6.00591905 C0,4.89808055 0.894513756,4 1.99406028,4 L14.0059397,4 C15.1072288,4 16,4.88655484 16,6.00591905 L16,11 L13,11 L13,14 Z M5,9 L11,9 L11,12 L5,12 L5,9 Z M3,0 L13,0 L13,3 L3,3 L3,0 Z M12,6 L14,6 L14,8 L12,8 L12,6 Z\\\"\\n            transform=\\\"translate(1 2)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9,0 L1,0 C0.45,0 0,0.45 0,1 L0,4 C0,4.55 0.45,5 1,5 L9,5 C9.55,5 10,4.55 10,4 L10,3 L11,3 L11,6 L4,6 L4,14 L6,14 L6,8 L13,8 L13,2 L10,2 L10,1 C10,0.45 9.55,0 9,0 Z\\\"\\n            transform=\\\"translate(3 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0.27,1.55 L5.43,6.7 L3,12 L5.5,12 L7.14,8.42 L11.73,13 L13,11.73 L1.55,0.27 L0.27,1.55 L0.27,1.55 Z M3.82,0 L5.82,2 L7.58,2 L7.03,3.21 L8.74,4.92 L10.08,2 L14,2 L14,0 L3.82,0 L3.82,0 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9,3.5 C9,1.57 7.43,0 5.5,0 L1.77635684e-15,0 L1.77635684e-15,12 L6.25,12 C8.04,12 9.5,10.54 9.5,8.75 C9.5,7.45 8.73,6.34 7.63,5.82 C8.46,5.24 9,4.38 9,3.5 Z M5,2 C5.82999992,2 6.5,2.67 6.5,3.5 C6.5,4.33 5.82999992,5 5,5 L3,5 L3,2 L5,2 Z M3,10 L3,7 L5.5,7 C6.32999992,7 7,7.67 7,8.5 C7,9.33 6.32999992,10 5.5,10 L3,10 Z\\\"\\n            transform=\\\"translate(4 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\"\\n            points=\\\"4 0 4 2 6.58 2 2.92 10 0 10 0 12 8 12 8 10 5.42 10 9.08 2 12 2 12 0\\\"\\n            transform=\\\"translate(3 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path\\n            d=\\\"M6,12 C8.76,12 11,9.76 11,7 L11,0 L9,0 L9,7 C9,8.75029916 7.49912807,10 6,10 C4.50087193,10 3,8.75837486 3,7 L3,0 L1,0 L1,7 C1,9.76 3.24,12 6,12 Z M0,13 L0,15 L12,15 L12,13 L0,13 Z\\\"\\n            transform=\\\"translate(3 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M2.8875,3.06 C2.8875,2.6025 2.985,2.18625 3.18375,1.8075 C3.3825,1.42875 3.66,1.10625 4.02,0.84 C4.38,0.57375 4.80375,0.3675 5.29875,0.22125 C5.79375,0.075 6.33375,0 6.92625,0 C7.53375,0 8.085,0.0825 8.58,0.25125 C9.075,0.42 9.49875,0.6525 9.85125,0.95625 C10.20375,1.25625 10.47375,1.6125 10.665,2.02875 C10.85625,2.44125 10.95,2.895 10.95,3.38625 L8.6925,3.38625 C8.6925,3.1575 8.655,2.94375 8.58375,2.74875 C8.5125,2.55 8.4,2.38125 8.25,2.2425 C8.1,2.10375 7.9125,1.99125 7.6875,1.91625 C7.4625,1.8375 7.19625,1.8 6.88875,1.8 C6.5925,1.8 6.3375,1.83375 6.11625,1.8975 C5.89875,1.96125 5.71875,2.05125 5.57625,2.1675 C5.43375,2.28375 5.325,2.41875 5.25375,2.5725 C5.1825,2.72625 5.145,2.895 5.145,3.0675 C5.145,3.4275 5.32875,3.73125 5.69625,3.975 C5.71780203,3.98908066 5.73942012,4.00311728 5.76118357,4.01733315 C6.02342923,4.18863185 6.5,4.5 7,5 L4,5 C4,5 3.21375,4.37625 3.17625,4.30875 C2.985,3.9525 2.8875,3.53625 2.8875,3.06 Z M14,6 L0,6 L0,8 L7.21875,8 C7.35375,8.0525 7.51875,8.105 7.63125,8.15375 C7.90875,8.2775 8.12625,8.40875 8.28375,8.53625 C8.44125,8.6675 8.54625,8.81 8.6025,8.96 C8.65875,9.11375 8.685,9.28625 8.685,9.47375 C8.685,9.65 8.65125,9.815 8.58375,9.965 C8.51625,10.11875 8.41125,10.25 8.2725,10.35875 C8.13375,10.4675 7.95375,10.55375 7.74,10.6175 C7.5225,10.68125 7.27125,10.71125 6.97875,10.71125 C6.6525,10.71125 6.35625,10.6775 6.09,10.61375 C5.82375,10.55 5.59875,10.445 5.41125,10.3025 C5.22375,10.16 5.0775,9.9725 4.9725,9.74375 C4.8675,9.515 4.78125,9.17 4.78125,9 L2.55,9 C2.55,9.2525 2.61,9.6875 2.72625,10.025 C2.8425,10.3625 3.0075,10.66625 3.21375,10.9325 C3.42,11.19875 3.6675,11.4275 3.94875,11.6225 C4.23,11.8175 4.53375,11.9825 4.86375,12.11 C5.19375,12.24125 5.535,12.33875 5.89875,12.39875 C6.25875,12.4625 6.6225,12.4925 6.9825,12.4925 C7.5825,12.4925 8.13,12.425 8.6175,12.28625 C9.105,12.1475 9.525,11.94875 9.87,11.69375 C10.215,11.435 10.48125,11.12 10.6725,10.74125 C10.86375,10.3625 10.95375,9.935 10.95375,9.455 C10.95375,9.005 10.875,8.6 10.72125,8.24375 C10.68375,8.1575 10.6425,8.075 10.59375,7.9925 L14,8 L14,6 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M7,0 L5,0 L0.5,12 L2.5,12 L3.62,9 L8.37,9 L9.49,12 L11.49,12 L7,0 L7,0 Z M4.38,7 L6,2.67 L7.62,7 L4.38,7 L4.38,7 Z\\\"\\n            transform=\\\"translate(3 1)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g fill-rule=\\\"evenodd\\\">\\n        <path\\n            d=\\\"M14.5,8.87 C14.5,8.87 13,10.49 13,11.49 C13,12.32 13.67,12.99 14.5,12.99 C15.33,12.99 16,12.32 16,11.49 C16,10.5 14.5,8.87 14.5,8.87 L14.5,8.87 Z M12.71,6.79 L5.91,0 L4.85,1.06 L6.44,2.65 L2.29,6.79 C1.9,7.18 1.9,7.81 2.29,8.2 L6.79,12.7 C6.99,12.9 7.24,13 7.5,13 C7.76,13 8.01,12.9 8.21,12.71 L12.71,8.21 C13.1,7.82 13.1,7.18 12.71,6.79 L12.71,6.79 Z M4.21,7 L7.5,3.71 L10.79,7 L4.21,7 L4.21,7 Z\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M3,6 L1,6 L1,2 L8,2 L8,4 L3,4 L3,6 Z M10,4 L10,2 L17,2 L17,6 L15,6 L15,4 L10,4 Z M10,14 L15,14 L15,12 L17,12 L17,16 L10,16 L10,14 Z M1,12 L3,12 L3,14 L8,14 L8,16 L1,16 L1,12 Z M1,8 L5,8 L5,6 L8,9 L5,12 L5,10 L1,10 L1,8 Z M10,9 L13,6 L13,8 L17,8 L17,10 L13,10 L13,12 L10,9 Z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,14 L10,14 L10,12 L0,12 L0,14 Z M10,4 L0,4 L0,6 L10,6 L10,4 Z M0,0 L0,2 L14,2 L14,0 L0,0 Z M0,10 L14,10 L14,8 L0,8 L0,10 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M2,12 L2,14 L12,14 L12,12 L2,12 Z M2,4 L2,6 L12,6 L12,4 L2,4 Z M0,10 L14,10 L14,8 L0,8 L0,10 Z M0,0 L0,2 L14,2 L14,0 L0,0 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M4,14 L14,14 L14,12 L4,12 L4,14 Z M0,10 L14,10 L14,8 L0,8 L0,10 Z M0,0 L0,2 L14,2 L14,0 L0,0 Z M4,6 L14,6 L14,4 L4,4 L4,6 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L0,2 L12,2 L12,0 L0,0 L0,0 Z M2.5,7 L5,7 L5,14 L7,14 L7,7 L9.5,7 L6,3.5 L2.5,7 L2.5,7 Z\\\"\\n            transform=\\\"translate(3 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9.5,3 L7,3 L7,0 L5,0 L5,3 L2.5,3 L6,6.5 L9.5,3 L9.5,3 Z M0,8 L0,10 L12,10 L12,8 L0,8 L0,8 Z M2.5,15 L5,15 L5,18 L7,18 L7,15 L9.5,15 L6,11.5 L2.5,15 L2.5,15 Z\\\"\\n            transform=\\\"translate(3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M9.5,7 L7,7 L7,0 L5,0 L5,7 L2.5,7 L6,10.5 L9.5,7 L9.5,7 Z M0,12 L0,14 L12,14 L12,12 L0,12 L0,12 Z\\\"\\n            transform=\\\"translate(3 2)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M14,0 L0,0 L0,2 L14,2 L14,0 Z M0,12 L4,12 L4,10 L0,10 L0,12 Z M11.5,5 L0,5 L0,7 L11.75,7 C12.58,7 13.25,7.67 13.25,8.5 C13.25,9.33 12.58,10 11.75,10 L9,10 L9,8 L6,11 L9,14 L9,12 L11.5,12 C13.43,12 15,10.43 15,8.5 C15,6.57 13.43,5 11.5,5 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L0,1 L6,7 L6,12 L8,11 L8,7 L14,1 L14,0 L0,0 Z M4,3 L10,3 L7,6 L4,3 Z\\\"\\n            transform=\\\"translate(2 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\"\\n            points=\\\"10 0 0 0 0 1.8 5.5 7 0 12.2 0 14 10 14 10 12 3.1 12 8 7 3.1 2 10 2\\\"\\n            transform=\\\"translate(4 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\" points=\\\"0 0 4 4 8 0\\\" transform=\\\"translate(0 7)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\" points=\\\"-2 2 2 6 6 2\\\" transform=\\\"rotate(-90 8 3)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M1.9,4 C1.9,2.84 2.84,1.9 4,1.9 L8,1.9 L8,0 L4,0 C1.79,0 0,1.79 0,4 C0,6.21 1.79,8 4,8 L8,8 L8,6.1 L4,6.1 C2.84,6.1 1.9,5.16 1.9,4 L1.9,4 Z M14,0 L10,0 L10,1.9 L14,1.9 C15.16,1.9 16.1,2.84 16.1,4 C16.1,5.16 15.16,6.1 14,6.1 L10,6.1 L10,8 L14,8 C16.21,8 18,6.21 18,4 C18,1.79 16.21,0 14,0 L14,0 Z M6,5 L12,5 L12,3 L6,3 L6,5 L6,5 Z\\\"\\n            transform=\\\"translate(-1 5)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M15,0 C15.55,0 16,0.45 16,1 L16,15 C16,15.55 15.55,16 15,16 L1,16 C0.45,16 0,15.55 0,15 L0,1 C0,0.45 0.45,0 1,0 L15,0 Z M2,2 L2,14 L14,14 L14,2 L2,2 Z M6,12 L4,12 L4,7 L6,7 L6,12 L6,12 Z M9,12 L7,12 L7,4 L9,4 L9,12 L9,12 Z M12,12 L10,12 L10,8 L12,8 L12,12 L12,12 Z\\\"\\n            transform=\\\"translate(1 1)\\\" />\\n    </g>\\n</svg>\\n    \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <path stroke=\\\"#000000\\\" d=\\\"M1.5 3.5H16.5V15.5H1.5z\\\" />\\n        <path fill=\\\"#000000\\\" d=\\\"M6 8H7V15H6z\\\" />\\n        <path fill=\\\"#D8D8D8\\\" d=\\\"M2 4H16V7H2z\\\" />\\n        <path fill=\\\"#000000\\\" d=\\\"M2 7H16V8H2zM2 11H16V12H2z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M2,0.5 C1.17,0.5 0.5,1.17 0.5,2 C0.5,2.83 1.17,3.5 2,3.5 C2.83,3.5 3.5,2.83 3.5,2 C3.5,1.17 2.83,0.5 2,0.5 L2,0.5 Z M12,0.5 C11.17,0.5 10.5,1.17 10.5,2 C10.5,2.83 11.17,3.5 12,3.5 C12.83,3.5 13.5,2.83 13.5,2 C13.5,1.17 12.83,0.5 12,0.5 L12,0.5 Z M7,0.5 C6.17,0.5 5.5,1.17 5.5,2 C5.5,2.83 6.17,3.5 7,3.5 C7.83,3.5 8.5,2.83 8.5,2 C8.5,1.17 7.83,0.5 7,0.5 L7,0.5 Z\\\"\\n            transform=\\\"translate(2 7)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M6,4 L6,0 L4,0 L4,4 L0,4 L0,6 L4,6 L4,10 L6,10 L6,6 L10,6 L10,4 L6,4 Z\\\"\\n            transform=\\\"translate(4 4)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L0,14 L14,14 L14,0 L0,0 L0,0 Z M6,12 L2,12 L2,8 L6,8 L6,12 L6,12 Z M6,6 L2,6 L2,2 L6,2 L6,6 L6,6 Z M12,12 L8,12 L8,8 L12,8 L12,12 L12,12 Z M12,6 L8,6 L8,2 L12,2 L12,6 L12,6 Z\\\"\\n            transform=\\\"translate(2 2)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M2,3 L0,3 L0,5 L2,5 L2,3 L2,3 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M11,0 L9,0 L9,2 L11,2 L11,0 L11,0 Z M2,0 L0,0 L0,2 L2,2 L2,0 L2,0 Z M5,0 L3,0 L3,2 L5,2 L5,0 L5,0 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"8 0 6 0 6 6 0 6 0 8 6 8 6 14 8 14 8 8 14 8 14 6 8 6\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 8 14 8 14 6 0 6\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"6 14 8 14 8 0 6 0\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M8,3 L6,3 L6,5 L8,5 L8,3 L8,3 Z M11,6 L9,6 L9,8 L11,8 L11,6 L11,6 Z M8,6 L6,6 L6,8 L8,8 L8,6 L8,6 Z M8,9 L6,9 L6,11 L8,11 L8,9 L8,9 Z M5,6 L3,6 L3,8 L5,8 L5,6 L5,6 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <path d=\\\"M0,0 L14,0 L14,14 L0,14 L0,0 Z M12,12 L12,2 L2,2 L2,12 L12,12 Z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 14 2 14 2 0 0 0\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 0 0 2 14 2 14 0\\\" />\\n    </g>\\n</svg>\\n  \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"12 0 12 14 14 14 14 0\\\" />\\n    </g>\\n</svg>\\n  \";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g transform=\\\"translate(2 2)\\\">\\n        <path\\n            d=\\\"M5,0 L3,0 L3,2 L5,2 L5,0 L5,0 Z M8,6 L6,6 L6,8 L8,8 L8,6 L8,6 Z M8,9 L6,9 L6,11 L8,11 L8,9 L8,9 Z M11,6 L9,6 L9,8 L11,8 L11,6 L11,6 Z M5,6 L3,6 L3,8 L5,8 L5,6 L5,6 Z M11,0 L9,0 L9,2 L11,2 L11,0 L11,0 Z M8,3 L6,3 L6,5 L8,5 L8,3 L8,3 Z M8,0 L6,0 L6,2 L8,2 L8,0 L8,0 Z M2,9 L0,9 L0,11 L2,11 L2,9 L2,9 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M2,0 L0,0 L0,2 L2,2 L2,0 L2,0 Z M2,3 L0,3 L0,5 L2,5 L2,3 L2,3 Z M2,6 L0,6 L0,8 L2,8 L2,6 L2,6 Z\\\"\\n            opacity=\\\".54\\\" />\\n        <polygon points=\\\"0 14 14 14 14 12 0 12\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M6,14 L8,14 L8,12 L6,12 L6,14 L6,14 Z M3,8 L5,8 L5,6 L3,6 L3,8 L3,8 Z M3,2 L5,2 L5,0 L3,0 L3,2 L3,2 Z M6,11 L8,11 L8,9 L6,9 L6,11 L6,11 Z M3,14 L5,14 L5,12 L3,12 L3,14 L3,14 Z M0,5 L2,5 L2,3 L0,3 L0,5 L0,5 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M0,2 L2,2 L2,0 L0,0 L0,2 L0,2 Z M0,8 L2,8 L2,6 L0,6 L0,8 L0,8 Z M6,8 L8,8 L8,6 L6,6 L6,8 L6,8 Z M0,11 L2,11 L2,9 L0,9 L0,11 L0,11 Z M12,11 L14,11 L14,9 L12,9 L12,11 L12,11 Z M12,14 L14,14 L14,12 L12,12 L12,14 L12,14 Z M12,8 L14,8 L14,6 L12,6 L12,8 L12,8 Z M12,5 L14,5 L14,3 L12,3 L12,5 L12,5 Z M12,0 L12,2 L14,2 L14,0 L12,0 L12,0 Z M6,2 L8,2 L8,0 L6,0 L6,2 L6,2 Z M9,2 L11,2 L11,0 L9,0 L9,2 L9,2 Z M6,5 L8,5 L8,3 L6,3 L6,5 L6,5 Z M9,14 L11,14 L11,12 L9,12 L9,14 L9,14 Z M9,8 L11,8 L11,6 L9,6 L9,8 L9,8 Z\\\"\\n            transform=\\\"translate(2 2)\\\" opacity=\\\".54\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M6.5,3.62 L0,10.12 L0,13 L2.88,13 L9.38,6.5 L6.5,3.62 Z M11.85,4.02 C12.05,3.82 12.05,3.51 11.85,3.31 L9.68,1.14 C9.48,0.94 9.17,0.94 8.97,1.14 L7.62,2.5 L10.5,5.38 L11.85,4.02 L11.85,4.02 Z\\\"\\n            transform=\\\"translate(4)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <path fill-rule=\\\"evenodd\\\"\\n            d=\\\"M0,0 L14,0 L14,2 L0,2 L0,0 Z M0,4 L6,4 L6,6 L0,6 L0,4 Z M0,8 L2,8 L2,10 L0,10 L0,8 Z M8,4 L14,4 L14,6 L8,6 L8,4 Z M4,8 L6,8 L6,10 L4,10 L4,8 Z M8,8 L10,8 L10,10 L8,10 L8,8 Z M12,8 L14,8 L14,10 L12,10 L12,8 Z\\\"\\n            transform=\\\"translate(2 4)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\" points=\\\"-2 2 2 6 6 2\\\" transform=\\\"rotate(90 3 10)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill=\\\"#000000\\\" fill-rule=\\\"evenodd\\\" points=\\\"-2 2 2 6 6 2\\\" transform=\\\"rotate(-90 8 3)\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" version=\\\"1.1\\\">\\n    <g>\\n        <polygon fill-rule=\\\"evenodd\\\"\\n            points=\\\"7.53 1.53 6.47 .47 4 2.94 1.53 .47 .47 1.53 2.94 4 .47 6.47 1.53 7.53 4 5.06 6.47 7.53 7.53 6.47 5.06 4\\\"\\n            transform=\\\"translate(5 5)\\\" />\\n    </g>\\n</svg>\\n    \";","import { h } from './element';\nimport Icon from './icon';\nimport { t } from '../locale/locale';\n\nfunction addMonth(date, step) {\n  date.setMonth(date.getMonth() + step);\n}\n\nfunction weekday(date, index) {\n  const d = new Date(date);\n  d.setDate(index - date.getDay() + 1);\n  return d;\n}\n\nfunction monthDays(year, month, cdate) {\n  // the first day of month\n  const startDate = new Date(year, month, 1, 23, 59, 59);\n  const datess = [[], [], [], [], [], []];\n  for (let i = 0; i < 6; i += 1) {\n    for (let j = 0; j < 7; j += 1) {\n      const index = i * 7 + j;\n      const d = weekday(startDate, index);\n      const disabled = d.getMonth() !== month;\n      // console.log('d:', d, ', cdate:', cdate);\n      const active = d.getMonth() === cdate.getMonth() && d.getDate() === cdate.getDate();\n      datess[i][j] = { d, disabled, active };\n    }\n  }\n  return datess;\n}\n\nexport default class Calendar {\n  constructor(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n\n    this.headerLeftEl = h('div', 'calendar-header-left');\n    this.bodyEl = h('tbody', '');\n    this.buildAll();\n    this.el = h('div', 'x-spreadsheet-calendar')\n      .children(\n        h('div', 'calendar-header').children(\n          this.headerLeftEl,\n          h('div', 'calendar-header-right').children(\n            h('a', 'calendar-prev')\n              .on('click.stop', () => this.prev())\n              .child(new Icon('chevron-left')),\n            h('a', 'calendar-next')\n              .on('click.stop', () => this.next())\n              .child(new Icon('chevron-right')),\n          ),\n        ),\n        h('table', 'calendar-body').children(\n          h('thead', '').child(\n            h('tr', '').children(\n              ...t('calendar.weeks').map(week => h('th', 'cell').child(week)),\n            ),\n          ),\n          this.bodyEl,\n        ),\n      );\n    this.selectChange = () => {};\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n    this.buildAll();\n  }\n\n  prev() {\n    const { value } = this;\n    addMonth(value, -1);\n    this.buildAll();\n  }\n\n  next() {\n    const { value } = this;\n    addMonth(value, 1);\n    this.buildAll();\n  }\n\n  buildAll() {\n    this.buildHeaderLeft();\n    this.buildBody();\n  }\n\n  buildHeaderLeft() {\n    const { value } = this;\n    this.headerLeftEl.html(`${t('calendar.months')[value.getMonth()]} ${value.getFullYear()}`);\n  }\n\n  buildBody() {\n    const { value, cvalue, bodyEl } = this;\n    const mDays = monthDays(value.getFullYear(), value.getMonth(), cvalue);\n    const trs = mDays.map((it) => {\n      const tds = it.map((it1) => {\n        let cls = 'cell';\n        if (it1.disabled) cls += ' disabled';\n        if (it1.active) cls += ' active';\n        return h('td', '').child(\n          h('div', cls)\n            .on('click.stop', () => {\n              this.selectChange(it1.d);\n            })\n            .child(it1.d.getDate().toString()),\n        );\n      });\n      return h('tr', '').children(...tds);\n    });\n    bodyEl.html('').children(...trs);\n  }\n}\n","import Calendar from './calendar';\nimport { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class Datepicker {\n  constructor() {\n    this.calendar = new Calendar(new Date());\n    this.el = h('div', `${cssPrefix}-datepicker`).child(\n      this.calendar.el,\n    ).hide();\n  }\n\n  setValue(date) {\n    // console.log(':::::::', date, typeof date, date instanceof string);\n    const { calendar } = this;\n    if (typeof date === 'string') {\n      // console.log(/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date));\n      if (/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date)) {\n        calendar.setValue(new Date(date.replace(new RegExp('-', 'g'), '/')));\n      }\n    } else if (date instanceof Date) {\n      calendar.setValue(date);\n    }\n    return this;\n  }\n\n  change(cb) {\n    this.calendar.selectChange = (d) => {\n      cb(d);\n      this.hide();\n    };\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","//* global window */\nimport { h } from './element';\nimport Suggest from './suggest';\nimport Datepicker from './datepicker';\nimport { cssPrefix } from '../config';\n// import { mouseMoveUp } from '../event';\n\nfunction resetTextareaSize() {\n  const { inputText } = this;\n  if (!/^\\s*$/.test(inputText)) {\n    const {\n      textlineEl, textEl, areaOffset,\n    } = this;\n    const txts = inputText.split('\\n');\n    const maxTxtSize = Math.max(...txts.map(it => it.length));\n    const tlOffset = textlineEl.offset();\n    const fontWidth = tlOffset.width / inputText.length;\n    const tlineWidth = (maxTxtSize + 1) * fontWidth + 5;\n    const maxWidth = this.viewFn().width - areaOffset.left - fontWidth;\n    let h1 = txts.length;\n    if (tlineWidth > areaOffset.width) {\n      let twidth = tlineWidth;\n      if (tlineWidth > maxWidth) {\n        twidth = maxWidth;\n        h1 += parseInt(tlineWidth / maxWidth, 10);\n        h1 += (tlineWidth % maxWidth) > 0 ? 1 : 0;\n      }\n      textEl.css('width', `${twidth}px`);\n    }\n    h1 *= this.rowHeight;\n    if (h1 > areaOffset.height) {\n      textEl.css('height', `${h1}px`);\n    }\n  }\n}\n\nfunction insertText({ target }, itxt) {\n  const { value, selectionEnd } = target;\n  const ntxt = `${value.slice(0, selectionEnd)}${itxt}${value.slice(selectionEnd)}`;\n  target.value = ntxt;\n  target.setSelectionRange(selectionEnd + 1, selectionEnd + 1);\n\n  this.inputText = ntxt;\n  this.textlineEl.html(ntxt);\n  resetTextareaSize.call(this);\n}\n\nfunction keydownEventHandler(evt) {\n  const { keyCode, altKey } = evt;\n  if (keyCode !== 13 && keyCode !== 9) evt.stopPropagation();\n  if (keyCode === 13 && altKey) {\n    insertText.call(this, evt, '\\n');\n    evt.stopPropagation();\n  }\n  if (keyCode === 13 && !altKey) evt.preventDefault();\n}\n\nfunction inputEventHandler(evt) {\n  const v = evt.target.value;\n  // console.log(evt, 'v:', v);\n  const { suggest, textlineEl, validator } = this;\n  const { cell } = this;\n  if (cell !== null) {\n    if (('editable' in cell && cell.editable === true) || (cell.editable === undefined)) {\n      this.inputText = v;\n      if (validator) {\n        if (validator.type === 'list') {\n          suggest.search(v);\n        } else {\n          suggest.hide();\n        }\n      } else {\n        const start = v.lastIndexOf('=');\n        if (start !== -1) {\n          suggest.search(v.substring(start + 1));\n        } else {\n          suggest.hide();\n        }\n      }\n      textlineEl.html(v);\n      resetTextareaSize.call(this);\n      this.change('input', v);\n    } else {\n      evt.target.value = cell.text || '';\n    }\n  } else {\n    this.inputText = v;\n    if (validator) {\n      if (validator.type === 'list') {\n        suggest.search(v);\n      } else {\n        suggest.hide();\n      }\n    } else {\n      const start = v.lastIndexOf('=');\n      if (start !== -1) {\n        suggest.search(v.substring(start + 1));\n      } else {\n        suggest.hide();\n      }\n    }\n    textlineEl.html(v);\n    resetTextareaSize.call(this);\n    this.change('input', v);\n  }\n}\n\nfunction setTextareaRange(position) {\n  const { el } = this.textEl;\n  setTimeout(() => {\n    el.focus();\n    el.setSelectionRange(position, position);\n  }, 0);\n}\n\nfunction setText(text, position) {\n  const { textEl, textlineEl } = this;\n  // firefox bug\n  textEl.el.blur();\n\n  textEl.val(text);\n  textlineEl.html(text);\n  setTextareaRange.call(this, position);\n}\n\nfunction suggestItemClick(it) {\n  const { inputText, validator } = this;\n  let position = 0;\n  if (validator && validator.type === 'list') {\n    this.inputText = it;\n    position = this.inputText.length;\n  } else {\n    const start = inputText.lastIndexOf('=');\n    const sit = inputText.substring(0, start + 1);\n    let eit = inputText.substring(start + 1);\n    if (eit.indexOf(')') !== -1) {\n      eit = eit.substring(eit.indexOf(')'));\n    } else {\n      eit = '';\n    }\n    this.inputText = `${sit + it.key}(`;\n    // console.log('inputText:', this.inputText);\n    position = this.inputText.length;\n    this.inputText += `)${eit}`;\n  }\n  setText.call(this, this.inputText, position);\n}\n\nfunction resetSuggestItems() {\n  this.suggest.setItems(this.formulas);\n}\n\nfunction dateFormat(d) {\n  let month = d.getMonth() + 1;\n  let date = d.getDate();\n  if (month < 10) month = `0${month}`;\n  if (date < 10) date = `0${date}`;\n  return `${d.getFullYear()}-${month}-${date}`;\n}\n\nexport default class Editor {\n  constructor(formulas, viewFn, rowHeight) {\n    this.viewFn = viewFn;\n    this.rowHeight = rowHeight;\n    this.formulas = formulas;\n    this.suggest = new Suggest(formulas, (it) => {\n      suggestItemClick.call(this, it);\n    });\n    this.datepicker = new Datepicker();\n    this.datepicker.change((d) => {\n      // console.log('d:', d);\n      this.setText(dateFormat(d));\n      this.clear();\n    });\n    this.areaEl = h('div', `${cssPrefix}-editor-area`)\n      .children(\n        this.textEl = h('textarea', '')\n          .on('input', evt => inputEventHandler.call(this, evt))\n          .on('paste.stop', () => {})\n          .on('keydown', evt => keydownEventHandler.call(this, evt)),\n        this.textlineEl = h('div', 'textline'),\n        this.suggest.el,\n        this.datepicker.el,\n      )\n      .on('mousemove.stop', () => {})\n      .on('mousedown.stop', () => {});\n    this.el = h('div', `${cssPrefix}-editor`)\n      .child(this.areaEl).hide();\n    this.suggest.bindInputEvents(this.textEl);\n\n    this.areaOffset = null;\n    this.freeze = { w: 0, h: 0 };\n    this.cell = null;\n    this.inputText = '';\n    this.change = () => {};\n  }\n\n  setFreezeLengths(width, height) {\n    this.freeze.w = width;\n    this.freeze.h = height;\n  }\n\n  clear() {\n    // const { cell } = this;\n    // const cellText = (cell && cell.text) || '';\n    if (this.inputText !== '') {\n      this.change('finished', this.inputText);\n    }\n    this.cell = null;\n    this.areaOffset = null;\n    this.inputText = '';\n    this.el.hide();\n    this.textEl.val('');\n    this.textlineEl.html('');\n    resetSuggestItems.call(this);\n    this.datepicker.hide();\n  }\n\n  setOffset(offset, suggestPosition = 'top') {\n    const {\n      textEl, areaEl, suggest, freeze, el,\n    } = this;\n    if (offset) {\n      this.areaOffset = offset;\n      const {\n        left, top, width, height, l, t,\n      } = offset;\n      // console.log('left:', left, ',top:', top, ', freeze:', freeze);\n      const elOffset = { left: 0, top: 0 };\n      // top left\n      if (freeze.w > l && freeze.h > t) {\n        //\n      } else if (freeze.w < l && freeze.h < t) {\n        elOffset.left = freeze.w;\n        elOffset.top = freeze.h;\n      } else if (freeze.w > l) {\n        elOffset.top = freeze.h;\n      } else if (freeze.h > t) {\n        elOffset.left = freeze.w;\n      }\n      el.offset(elOffset);\n      areaEl.offset({ left: left - elOffset.left - 0.8, top: top - elOffset.top - 0.8 });\n      textEl.offset({ width: width - 9 + 0.8, height: height - 3 + 0.8 });\n      const sOffset = { left: 0 };\n      sOffset[suggestPosition] = height;\n      suggest.setOffset(sOffset);\n      suggest.hide();\n    }\n  }\n\n  setCell(cell, validator) {\n    if (cell && cell.editable === false) return;\n\n    // console.log('::', validator);\n    const { el, datepicker, suggest } = this;\n    el.show();\n    this.cell = cell;\n    const text = (cell && cell.text) || '';\n    this.setText(text);\n\n    this.validator = validator;\n    if (validator) {\n      const { type } = validator;\n      if (type === 'date') {\n        datepicker.show();\n        if (!/^\\s*$/.test(text)) {\n          datepicker.setValue(text);\n        }\n      }\n      if (type === 'list') {\n        suggest.setItems(validator.values());\n        suggest.search('');\n      }\n    }\n  }\n\n  setText(text) {\n    this.inputText = text;\n    // console.log('text>>:', text);\n    setText.call(this, text, text.length);\n    resetTextareaSize.call(this);\n  }\n}\n","import { Element } from './element';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nexport default class Button extends Element {\n  // type: primary\n  constructor(title, type = '') {\n    super('div', `${cssPrefix}-button ${type}`);\n    this.child(t(`button.${title}`));\n  }\n}\n","/* global window document */\nimport { h } from './element';\nimport { cssPrefix } from '../config';\nimport Button from './button';\nimport { Draw } from '../canvas/draw';\nimport { renderCell } from './table';\nimport { t } from '../locale/locale';\n\n// resolution: 72 => 595 x 842\n// 150 => 1240 x 1754\n// 200 => 1654 x 2339\n// 300 => 2479 x 3508\n// 96 * cm / 2.54 , 96 * cm / 2.54\n\nconst PAGER_SIZES = [\n  ['A3', 11.69, 16.54],\n  ['A4', 8.27, 11.69],\n  ['A5', 5.83, 8.27],\n  ['B4', 9.84, 13.90],\n  ['B5', 6.93, 9.84],\n];\n\nconst PAGER_ORIENTATIONS = ['landscape', 'portrait'];\n\nfunction inches2px(inc) {\n  return parseInt(96 * inc, 10);\n}\n\nfunction btnClick(type) {\n  if (type === 'cancel') {\n    this.el.hide();\n  } else {\n    this.toPrint();\n  }\n}\n\nfunction pagerSizeChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const ps = PAGER_SIZES[value];\n  paper.w = inches2px(ps[1]);\n  paper.h = inches2px(ps[2]);\n  // console.log('paper:', ps, paper);\n  this.preview();\n}\nfunction pagerOrientationChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const v = PAGER_ORIENTATIONS[value];\n  paper.orientation = v;\n  this.preview();\n}\n\nexport default class Print {\n  constructor(data) {\n    this.paper = {\n      w: inches2px(PAGER_SIZES[0][1]),\n      h: inches2px(PAGER_SIZES[0][2]),\n      padding: 50,\n      orientation: PAGER_ORIENTATIONS[0],\n      get width() {\n        return this.orientation === 'landscape' ? this.h : this.w;\n      },\n      get height() {\n        return this.orientation === 'landscape' ? this.w : this.h;\n      },\n    };\n    this.data = data;\n    this.el = h('div', `${cssPrefix}-print`)\n      .children(\n        h('div', `${cssPrefix}-print-bar`)\n          .children(\n            h('div', '-title').child('Print settings'),\n            h('div', '-right').children(\n              h('div', `${cssPrefix}-buttons`).children(\n                new Button('cancel').on('click', btnClick.bind(this, 'cancel')),\n                new Button('next', 'primary').on('click', btnClick.bind(this, 'next')),\n              ),\n            ),\n          ),\n        h('div', `${cssPrefix}-print-content`)\n          .children(\n            this.contentEl = h('div', '-content'),\n            h('div', '-sider').child(\n              h('form', '').children(\n                h('fieldset', '').children(\n                  h('label', '').child(`${t('print.size')}`),\n                  h('select', '').children(\n                    ...PAGER_SIZES.map((it, index) => h('option', '').attr('value', index).child(`${it[0]} ( ${it[1]}''x${it[2]}'' )`)),\n                  ).on('change', pagerSizeChange.bind(this)),\n                ),\n                h('fieldset', '').children(\n                  h('label', '').child(`${t('print.orientation')}`),\n                  h('select', '').children(\n                    ...PAGER_ORIENTATIONS.map((it, index) => h('option', '').attr('value', index).child(`${t('print.orientations')[index]}`)),\n                  ).on('change', pagerOrientationChange.bind(this)),\n                ),\n              ),\n            ),\n          ),\n      ).hide();\n  }\n\n  resetData(data) {\n    this.data = data;\n  }\n\n  preview() {\n    const { data, paper } = this;\n    const { width, height, padding } = paper;\n    const iwidth = width - padding * 2;\n    const iheight = height - padding * 2;\n    const cr = data.contentRange();\n    const pages = parseInt(cr.h / iheight, 10) + 1;\n    const scale = iwidth / cr.w;\n    let left = padding;\n    const top = padding;\n    if (scale > 1) {\n      left += (iwidth - cr.w) / 2;\n    }\n    let ri = 0;\n    let yoffset = 0;\n    this.contentEl.html('');\n    this.canvases = [];\n    const mViewRange = {\n      sri: 0,\n      sci: 0,\n      eri: 0,\n      eci: 0,\n    };\n    for (let i = 0; i < pages; i += 1) {\n      let th = 0;\n      let yo = 0;\n      const wrap = h('div', `${cssPrefix}-canvas-card`);\n      const canvas = h('canvas', `${cssPrefix}-canvas`);\n      this.canvases.push(canvas.el);\n      const draw = new Draw(canvas.el, width, height);\n      // cell-content\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      // console.log('ri:', ri, cr.eri, yoffset);\n      for (; ri <= cr.eri; ri += 1) {\n        const rh = data.rows.getHeight(ri);\n        th += rh;\n        if (th < iheight) {\n          for (let ci = 0; ci <= cr.eci; ci += 1) {\n            renderCell(draw, data, ri, ci, yoffset);\n            mViewRange.eci = ci;\n          }\n        } else {\n          yo = -(th - rh);\n          break;\n        }\n      }\n      mViewRange.eri = ri;\n      draw.restore();\n      // merge-cell\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      const yof = yoffset;\n      data.eachMergesInView(mViewRange, ({ sri, sci }) => {\n        renderCell(draw, data, sri, sci, yof);\n      });\n      draw.restore();\n\n      mViewRange.sri = mViewRange.eri;\n      mViewRange.sci = mViewRange.eci;\n      yoffset += yo;\n      this.contentEl.child(h('div', `${cssPrefix}-canvas-card-wraper`).child(wrap.child(canvas)));\n    }\n    this.el.show();\n  }\n\n  toPrint() {\n    this.el.hide();\n    const { paper } = this;\n    const iframe = h('iframe', '').hide();\n    const { el } = iframe;\n    window.document.body.appendChild(el);\n    const { contentWindow } = el;\n    const idoc = contentWindow.document;\n    const style = document.createElement('style');\n    style.innerHTML = `\n      @page { size: ${paper.width}px ${paper.height}px; };\n      canvas {\n        page-break-before: auto;        \n        page-break-after: always;\n        image-rendering: pixelated;\n      };\n    `;\n    idoc.head.appendChild(style);\n    this.canvases.forEach((it) => {\n      const cn = it.cloneNode(false);\n      const ctx = cn.getContext('2d');\n      // ctx.imageSmoothingEnabled = true;\n      ctx.drawImage(it, 0, 0);\n      idoc.body.appendChild(cn);\n    });\n    contentWindow.print();\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { tf } from '../locale/locale';\n\nconst menuItems = [\n  { key: 'copy', title: tf('contextmenu.copy'), label: 'Ctrl+C' },\n  { key: 'cut', title: tf('contextmenu.cut'), label: 'Ctrl+X' },\n  { key: 'paste', title: tf('contextmenu.paste'), label: 'Ctrl+V' },\n  { key: 'paste-value', title: tf('contextmenu.pasteValue'), label: 'Ctrl+Shift+V' },\n  { key: 'paste-format', title: tf('contextmenu.pasteFormat'), label: 'Ctrl+Alt+V' },\n  { key: 'divider' },\n  { key: 'insert-row', title: tf('contextmenu.insertRow') },\n  { key: 'insert-column', title: tf('contextmenu.insertColumn') },\n  { key: 'divider' },\n  { key: 'delete-row', title: tf('contextmenu.deleteRow') },\n  { key: 'delete-column', title: tf('contextmenu.deleteColumn') },\n  { key: 'delete-cell-text', title: tf('contextmenu.deleteCellText') },\n  { key: 'hide', title: tf('contextmenu.hide') },\n  { key: 'divider' },\n  { key: 'validation', title: tf('contextmenu.validation') },\n  { key: 'divider' },\n  { key: 'cell-printable', title: tf('contextmenu.cellprintable') },\n  { key: 'cell-non-printable', title: tf('contextmenu.cellnonprintable') },\n  { key: 'divider' },\n  { key: 'cell-editable', title: tf('contextmenu.celleditable') },\n  { key: 'cell-non-editable', title: tf('contextmenu.cellnoneditable') },\n];\n\nfunction buildMenuItem(item) {\n  if (item.key === 'divider') {\n    return h('div', `${cssPrefix}-item divider`);\n  }\n  return h('div', `${cssPrefix}-item`)\n    .on('click', () => {\n      this.itemClick(item.key);\n      this.hide();\n    })\n    .children(\n      item.title(),\n      h('div', 'label').child(item.label || ''),\n    );\n}\n\nfunction buildMenu() {\n  return menuItems.map(it => buildMenuItem.call(this, it));\n}\n\nexport default class ContextMenu {\n  constructor(viewFn, isHide = false) {\n    this.menuItems = buildMenu.call(this);\n    this.el = h('div', `${cssPrefix}-contextmenu`)\n      .children(...this.menuItems)\n      .hide();\n    this.viewFn = viewFn;\n    this.itemClick = () => {};\n    this.isHide = isHide;\n    this.setMode('range');\n  }\n\n  // row-col: the whole rows or the whole cols\n  // range: select range\n  setMode(mode) {\n    const hideEl = this.menuItems[12];\n    if (mode === 'row-col') {\n      hideEl.show();\n    } else {\n      hideEl.hide();\n    }\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setPosition(x, y) {\n    if (this.isHide) return;\n    const { el } = this;\n    const { width } = el.show().offset();\n    const view = this.viewFn();\n    const vhf = view.height / 2;\n    let left = x;\n    if (view.width - x <= width) {\n      left -= width;\n    }\n    el.css('left', `${left}px`);\n    if (y > vhf) {\n      el.css('bottom', `${view.height - y}px`)\n        .css('max-height', `${y}px`)\n        .css('top', 'auto');\n    } else {\n      el.css('top', `${y}px`)\n        .css('max-height', `${view.height - y}px`)\n        .css('bottom', 'auto');\n    }\n    bindClickoutside(el);\n  }\n}\n","import { cssPrefix } from '../../config';\nimport tooltip from '../tooltip';\nimport { h } from '../element';\nimport { t } from '../../locale/locale';\n\nexport default class Item {\n  // tooltip\n  // tag: the subclass type\n  // shortcut: shortcut key\n  constructor(tag, shortcut, value) {\n    this.tip = '';\n    if (tag) this.tip = t(`toolbar.${tag.replace(/-[a-z]/g, c => c[1].toUpperCase())}`);\n    if (shortcut) this.tip += ` (${shortcut})`;\n    this.tag = tag;\n    this.shortcut = shortcut;\n    this.value = value;\n    this.el = this.element();\n    this.change = () => {};\n  }\n\n  element() {\n    const { tip } = this;\n    return h('div', `${cssPrefix}-toolbar-btn`)\n      .on('mouseenter', (evt) => {\n        if (this.tip) tooltip(this.tip, evt.target);\n      })\n      .attr('data-tooltip', tip);\n  }\n\n  setState() {}\n}\n","/* global document */\nimport { h } from './element';\nimport { bind } from './event';\nimport { cssPrefix } from '../config';\n\nexport default function tooltip(html, target) {\n  if (target.classList.contains('active')) {\n    return;\n  }\n  const {\n    left, top, width, height,\n  } = target.getBoundingClientRect();\n  const el = h('div', `${cssPrefix}-tooltip`).html(html).show();\n  const where = target.parentElement.parentElement;\n  // document.body.appendChild(el.el);\n  where.appendChild(el.el);\n  const elBox = el.box();\n  const wherebox = where.getBoundingClientRect();\n  const tooltipLeft = left-wherebox.left;\n  const tooltiptop = top-wherebox.top;\n\n  // console.log('elBox:', elBox);\n  el.css('left', `${tooltipLeft + (width / 2) - (elBox.width / 2)}px`)\n    .css('top', `${tooltiptop + height + 2}px`);\n\n  bind(target, 'mouseleave', () => {\n    if (where.contains(el.el)) {\n      where.removeChild(el.el);\n    }\n  });\n\n  bind(target, 'click', () => {\n    if (where.contains(el.el)) {\n      where.removeChild(el.el);\n    }\n  });\n}\n","import Item from './item';\n\nexport default class DropdownItem extends Item {\n  dropdown() {}\n\n  getValue(v) {\n    return v;\n  }\n\n  element() {\n    const { tag } = this;\n    this.dd = this.dropdown();\n    this.dd.change = it => this.change(tag, this.getValue(it));\n    return super.element().child(\n      this.dd,\n    );\n  }\n\n  setState(v) {\n    if (v !== undefined) {\n      this.value = v;\n      this.dd.setTitle(v);\n    }\n  }\n}\n","import { Element, h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { buildImg, default as Icon } from './icon';\n\nexport default class Dropdown extends Element {\n  constructor(title, width, showArrow, placement, classname, ...children) {\n    super('div', `${cssPrefix}-dropdown ${placement} ${classname||''}`);\n    this.title = title;\n    this.change = () => {};\n    this.headerClick = () => {};\n    if (typeof title === 'string') {\n      this.title = h('div', `${cssPrefix}-dropdown-title`).child(title);\n    } else if (showArrow) {\n      this.title.addClass('arrow-left');\n    }\n    this.contentEl = h('div', `${cssPrefix}-dropdown-content`)\n      .css('width', width)\n      .hide();\n\n    this.setContentChildren(...children);\n\n    this.headerEl = h('div', `${cssPrefix}-dropdown-header`);\n    this.headerEl.on('click', () => {\n      if (this.contentEl.css('display') !== 'block') {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }).children(\n      this.title,\n      showArrow ? h('div', `${cssPrefix}-icon arrow-right`).child(\n        // h('div', `${cssPrefix}-icon-img arrow-down`),\n        // buildImg('arrow-down') \n        new Icon('arrow-down')\n      ) : '',\n    );\n    this.children(this.headerEl, this.contentEl);\n  }\n\n  setContentChildren(...children) {\n    this.contentEl.html('');\n    if (children.length > 0) {\n      this.contentEl.children(...children);\n    }\n  }\n\n  setTitle(title) {\n    this.title.html(title);\n    this.hide();\n  }\n\n  show() {\n    const { contentEl } = this;\n    contentEl.show();\n    this.parent().active();\n    bindClickoutside(this.parent(), () => {\n      this.hide();\n    });\n  }\n\n  hide() {\n    this.parent().active(false);\n    this.contentEl.hide();\n    unbindClickoutside(this.parent());\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nfunction buildItemWithIcon(iconName) {\n  return h('div', `${cssPrefix}-item`).child(new Icon(iconName));\n}\n\nexport default class DropdownAlign extends Dropdown {\n  constructor(aligns, align) {\n    const icon = new Icon(`align-${align}`);\n    const naligns = aligns.map(it => buildItemWithIcon(`align-${it}`)\n      .on('click', () => {\n        this.setTitle(it);\n        this.change(it);\n      }));\n    super(icon, 'auto', true, 'bottom-left','dd-align', ...naligns);\n  }\n\n  setTitle(align) {\n    this.title.setName(`align-${align}`);\n    this.hide();\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownAlign from '../dropdown_align';\n\nexport default class Align extends DropdownItem {\n  constructor(value) {\n    super('align', '', value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign(['left', 'center', 'right'], value);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownAlign from '../dropdown_align';\n\nexport default class Valign extends DropdownItem {\n  constructor(value) {\n    super('valign', '', value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign(['top', 'middle', 'bottom'], value);\n  }\n}\n","import Item from './item';\nimport Icon from '../icon';\n\nexport default class ToggleItem extends Item {\n  element() {\n    const { tag } = this;\n    return super.element()\n      .child(new Icon(tag))\n      .on('click', () => this.click());\n  }\n\n  click() {\n    this.change(this.tag, this.toggle());\n  }\n\n  setState(active) {\n    this.el.active(active);\n  }\n\n  toggle() {\n    return this.el.toggle();\n  }\n\n  active() {\n    return this.el.hasClass('active');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Autofilter extends ToggleItem {\n  constructor() {\n    super('autofilter');\n  }\n\n  setState() {}\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Bold extends ToggleItem {\n  constructor() {\n    super('font-bold', 'Ctrl+B');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Italic extends ToggleItem {\n  constructor() {\n    super('font-italic', 'Ctrl+I');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Strike extends ToggleItem {\n  constructor() {\n    super('strike', 'Ctrl+U');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Underline extends ToggleItem {\n  constructor() {\n    super('underline', 'Ctrl+U');\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nconst themeColorPlaceHolders = ['#ffffff', '#000100', '#e7e5e6', '#445569', '#5b9cd6', '#ed7d31', '#a5a5a5', '#ffc001', '#4371c6', '#71ae47'];\n\nconst themeColors = [\n  ['#f2f2f2', '#7f7f7f', '#d0cecf', '#d5dce4', '#deeaf6', '#fce5d5', '#ededed', '#fff2cd', '#d9e2f3', '#e3efd9'],\n  ['#d8d8d8', '#595959', '#afabac', '#adb8ca', '#bdd7ee', '#f7ccac', '#dbdbdb', '#ffe59a', '#b3c6e7', '#c5e0b3'],\n  ['#bfbfbf', '#3f3f3f', '#756f6f', '#8596b0', '#9cc2e6', '#f4b184', '#c9c9c9', '#fed964', '#8eaada', '#a7d08c'],\n  ['#a5a5a5', '#262626', '#3a3839', '#333f4f', '#2e75b5', '#c45a10', '#7b7b7b', '#bf8e01', '#2f5596', '#538136'],\n  ['#7f7f7f', '#0c0c0c', '#171516', '#222a35', '#1f4e7a', '#843c0a', '#525252', '#7e6000', '#203864', '#365624'],\n];\n\nconst standardColors = ['#c00000', '#fe0000', '#fdc101', '#ffff01', '#93d051', '#00b04e', '#01b0f1', '#0170c1', '#012060', '#7030a0'];\n\nfunction buildTd(bgcolor) {\n  return h('td', '').child(\n    h('div', `${cssPrefix}-color-palette-cell`)\n      .on('click.stop', () => this.change(bgcolor))\n      .css('background-color', bgcolor),\n  );\n}\n\nexport default class ColorPalette {\n  constructor() {\n    this.el = h('div', `${cssPrefix}-color-palette`);\n    this.change = () => {};\n    const table = h('table', '').children(\n      h('tbody', '').children(\n        h('tr', `${cssPrefix}-theme-color-placeholders`).children(\n          ...themeColorPlaceHolders.map(color => buildTd.call(this, color)),\n        ),\n        ...themeColors.map(it => h('tr', `${cssPrefix}-theme-colors`).children(\n          ...it.map(color => buildTd.call(this, color)),\n        )),\n        h('tr', `${cssPrefix}-standard-colors`).children(\n          ...standardColors.map(color => buildTd.call(this, color)),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport ColorPalette from './color_palette';\n\nexport default class DropdownColor extends Dropdown {\n  constructor(iconName, color) {\n    const icon = new Icon(iconName)\n      .css('height', '16px')\n      .css('border-bottom', `3px solid ${color}`);\n    const colorPalette = new ColorPalette();\n    colorPalette.change = (v) => {\n      this.setTitle(v);\n      this.change(v);\n    };\n    super(icon, 'auto', false, 'bottom-right','dd-color', colorPalette.el);\n  }\n\n  setTitle(color) {\n    this.title.css('border-color', color);\n    this.hide();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nconst lineTypes = [\n  ['thin', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['medium', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"2\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.0\" x2=\"50\" y2=\"1.0\" stroke-width=\"2\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['thick', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.5\" x2=\"50\" y2=\"1.5\" stroke-width=\"3\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['dashed', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"2\" style=\"user-select: none;\"></line></svg>'],\n  ['dotted', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"1\" style=\"user-select: none;\"></line></svg>'],\n  // ['double', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line><line x1=\"0\" y1=\"2.5\" x2=\"50\" y2=\"2.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n];\n\nexport default class DropdownLineType extends Dropdown {\n  constructor(type) {\n    const icon = new Icon('line-type');\n    let beforei = 0;\n    const lineTypeEls = lineTypes.map((it, iti) => h('div', `${cssPrefix}-item state ${type === it[0] ? 'checked' : ''}`)\n      .on('click', () => {\n        lineTypeEls[beforei].toggle('checked');\n        lineTypeEls[iti].toggle('checked');\n        beforei = iti;\n        this.hide();\n        this.change(it);\n      })\n      .child(\n        h('div', `${cssPrefix}-line-type`).html(it[1]),\n      ));\n\n    super(icon, 'auto', false, 'bottom-right', 'dd-linetype', ...lineTypeEls);\n  }\n}\n","import { h } from './element';\nimport Icon from './icon';\nimport DropdownColor from './dropdown_color';\nimport DropdownLineType from './dropdown_linetype';\nimport { cssPrefix } from '../config';\n\nfunction buildTable(...trs) {\n  return h('table', '').child(\n    h('tbody', '').children(...trs),\n  );\n}\n\nfunction buildTd(iconName) {\n  return h('td', '').child(\n    h('div', `${cssPrefix}-border-palette-cell`).child(\n      new Icon(`border-${iconName}`),\n    ).on('click', () => {\n      this.mode = iconName;\n      const { mode, style, color } = this;\n      this.change({ mode, style, color });\n    }),\n  );\n}\n\nexport default class BorderPalette {\n  constructor() {\n    this.color = '#000';\n    this.style = 'thin';\n    this.mode = 'all';\n    this.change = () => {};\n    this.ddColor = new DropdownColor('line-color', this.color);\n    this.ddColor.change = (color) => {\n      this.color = color;\n    };\n    this.ddType = new DropdownLineType(this.style);\n    this.ddType.change = ([s]) => {\n      this.style = s;\n    };\n    this.el = h('div', `${cssPrefix}-border-palette`);\n    const table = buildTable(\n      h('tr', '').children(\n        h('td', `${cssPrefix}-border-palette-left`).child(\n          buildTable(\n            h('tr', '').children(\n              ...['all', 'inside', 'horizontal', 'vertical', 'outside'].map(it => buildTd.call(this, it)),\n            ),\n            h('tr', '').children(\n              ...['left', 'top', 'right', 'bottom', 'none'].map(it => buildTd.call(this, it)),\n            ),\n          ),\n        ),\n        h('td', `${cssPrefix}-border-palette-right`).children(\n          h('div', `${cssPrefix}-toolbar-btn`).child(this.ddColor.el),\n          h('div', `${cssPrefix}-toolbar-btn`).child(this.ddType.el),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport BorderPalette from './border_palette';\n\nexport default class DropdownBorder extends Dropdown {\n  constructor() {\n    const icon = new Icon('border-all');\n    const borderPalette = new BorderPalette();\n    borderPalette.change = (v) => {\n      this.change(v);\n      this.hide();\n    };\n    super(icon, 'auto', false, 'bottom-right','dd-border', borderPalette.el);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownBorder from '../dropdown_border';\n\nexport default class Border extends DropdownItem {\n  constructor() {\n    super('border');\n  }\n\n  dropdown() {\n    return new DropdownBorder();\n  }\n}\n","import Item from './item';\nimport Icon from '../icon';\n\nexport default class IconItem extends Item {\n  element() {\n    return super.element()\n      .child(new Icon(this.tag))\n      .on('click', () => this.change(this.tag));\n  }\n\n  setState(disabled) {\n    this.el.disabled(disabled);\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Clearformat extends IconItem {\n  constructor() {\n    super('clearformat');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Paintformat extends ToggleItem {\n  constructor() {\n    super('paintformat');\n  }\n\n  setState() {}\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownColor from '../dropdown_color';\n\nexport default class TextColor extends DropdownItem {\n  constructor(color) {\n    super('color', undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownColor from '../dropdown_color';\n\nexport default class FillColor extends DropdownItem {\n  constructor(color) {\n    super('bgcolor', undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { fontSizes } from '../core/font';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFontSize extends Dropdown {\n  constructor() {\n    const nfontSizes = fontSizes.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.setTitle(`${it.pt}`);\n        this.change(it);\n      })\n      .child(`${it.pt}`));\n    super('10', '60px', true, 'bottom-left','dd-fontsize', ...nfontSizes);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFontsize from '../dropdown_fontsize';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('font-size');\n  }\n\n  getValue(it) {\n    return it.pt;\n  }\n\n  dropdown() {\n    return new DropdownFontsize();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { baseFonts } from '../core/font';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFont extends Dropdown {\n  constructor() {\n    const nfonts = baseFonts.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.setTitle(it.title);\n        this.change(it);\n      })\n      .child(it.title));\n    super(baseFonts[0].title, '160px', true, 'bottom-left','dd-font', ...nfonts);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFont from '../dropdown_font';\n\nexport default class Font extends DropdownItem {\n  constructor() {\n    super('font-name');\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFont();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { baseFormats } from '../core/format';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFormat extends Dropdown {\n  constructor() {\n    let nformats = baseFormats.slice(0);\n    nformats.splice(2, 0, { key: 'divider' });\n    nformats.splice(8, 0, { key: 'divider' });\n    nformats = nformats.map((it) => {\n      const item = h('div', `${cssPrefix}-item`);\n      if (it.key === 'divider') {\n        item.addClass('divider');\n      } else {\n        item.child(it.title())\n          .on('click', () => {\n            this.setTitle(it.numfmt);\n            this.change(it);\n          });\n        if (it.label) item.child(h('div', 'label').html(it.label));\n      }\n      return item;\n    });\n    super('General', '220px', true, 'bottom-left','dd-format', ...nformats);\n  }\n\n  setTitle(key) {\n    for (let i = 0; i < baseFormats.length; i += 1) {\n      if (baseFormats[i].numfmt === key) {\n        this.title.html(baseFormats[i].title());\n      }\n    }\n    this.hide();\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFormat from '../dropdown_format';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('format');\n  }\n\n  getValue(it) {\n    // return it.key;\n    return it.numfmt;\n  }\n\n  dropdown() {\n    return new DropdownFormat();\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport { h } from './element';\nimport { baseFormulas } from '../core/formula';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFormula extends Dropdown {\n  constructor() {\n    const nformulas = baseFormulas.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.hide();\n        this.change(it);\n      })\n      .child(it.key));\n    super(new Icon('formula'), '180px', true, 'bottom-right', 'dd-formula', ...nformulas);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFormula from '../dropdown_formula';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('formula');\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFormula();\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Freeze extends ToggleItem {\n  constructor() {\n    super('freeze');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Merge extends ToggleItem {\n  constructor() {\n    super('merge');\n  }\n\n  setState(active, disabled) {\n    this.el.active(active).disabled(disabled);\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Redo extends IconItem {\n  constructor() {\n    super('redo', 'Ctrl+Y');\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Undo extends IconItem {\n  constructor() {\n    super('undo', 'Ctrl+Z');\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Print extends IconItem {\n  constructor() {\n    super('print', 'Ctrl+P');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Textwrap extends ToggleItem {\n  constructor() {\n    super('textwrap');\n  }\n}\n","import Dropdown from '../dropdown';\nimport DropdownItem from './dropdown_item';\n\nimport { cssPrefix } from '../../config';\nimport { h } from '../element';\nimport Icon from '../icon';\n\nclass DropdownMore extends Dropdown {\n  constructor() {\n    const icon = new Icon('ellipsis');\n    const moreBtns = h('div', `${cssPrefix}-toolbar-more`);\n    super(icon, 'auto', false, 'bottom-right','dd-more', moreBtns);\n    this.moreBtns = moreBtns;\n    this.contentEl.css('max-width', '420px');\n  }\n}\n\nexport default class More extends DropdownItem {\n  constructor() {\n    super('more');\n    this.el.hide();\n  }\n\n  dropdown() {\n    return new DropdownMore();\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","/* global window */\n\nimport Align from './align';\nimport Valign from './valign';\nimport Autofilter from './autofilter';\nimport Bold from './bold';\nimport Italic from './italic';\nimport Strike from './strike';\nimport Underline from './underline';\nimport Border from './border';\nimport Clearformat from './clearformat';\nimport Paintformat from './paintformat';\nimport TextColor from './text_color';\nimport FillColor from './fill_color';\nimport FontSize from './font_size';\nimport Font from './font';\nimport Format from './format';\nimport Formula from './formula';\nimport Freeze from './freeze';\nimport Merge from './merge';\nimport Redo from './redo';\nimport Undo from './undo';\nimport Print from './print';\nimport Textwrap from './textwrap';\nimport More from './more';\nimport Item from './item';\n\nimport { h } from '../element';\nimport { cssPrefix } from '../../config';\nimport { bind } from '../event';\n\nfunction buildDivider() {\n  return h('div', `${cssPrefix}-toolbar-divider`);\n}\n\nfunction initBtns2() {\n  this.btns2 = [];\n  this.items.forEach((it) => {\n    if (Array.isArray(it)) {\n      it.forEach(({ el }) => {\n        const rect = el.box();\n        const { marginLeft, marginRight } = el.computedStyle();\n        this.btns2.push([el, rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10)]);\n      });\n    } else {\n      const rect = it.box();\n      const { marginLeft, marginRight } = it.computedStyle();\n      this.btns2.push([it, rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10)]);\n    }\n  });\n}\n\nfunction moreResize() {\n  const {\n    el, btns, moreEl, btns2,\n  } = this;\n  const { moreBtns, contentEl } = moreEl.dd;\n  el.css('width', `${this.widthFn()}px`);\n  const elBox = el.box();\n\n  let sumWidth = 160;\n  let sumWidth2 = 12;\n  const list1 = [];\n  const list2 = [];\n  btns2.forEach(([it, w], index) => {\n    sumWidth += w;\n    if (index === btns2.length - 1 || sumWidth < elBox.width) {\n      list1.push(it);\n    } else {\n      sumWidth2 += w;\n      list2.push(it);\n    }\n  });\n  btns.html('').children(...list1);\n  moreBtns.html('').children(...list2);\n  contentEl.css('width', `${sumWidth2}px`);\n  if (list2.length > 0) {\n    moreEl.show();\n  } else {\n    moreEl.hide();\n  }\n}\n\nfunction genBtn(it) {\n  const btn = new Item();\n  btn.el.on('click', () => {\n    if (it.onClick) it.onClick(this.data.getData(), this.data);\n  });\n  btn.tip = it.tip || '';\n\n  let { el } = it;\n\n  if (it.icon) {\n    el = h('img').attr('src', it.icon);\n  }\n\n  if (el) {\n    const icon = h('div', `${cssPrefix}-icon`);\n    icon.child(el);\n    btn.el.child(icon);\n  }\n\n  return btn;\n}\n\nexport default class Toolbar {\n  constructor(data, widthFn, isHide = false) {\n    this.data = data;\n    this.change = () => {};\n    this.widthFn = widthFn;\n    this.isHide = isHide;\n    const style = data.defaultStyle();\n    this.items = [\n      [\n        this.undoEl = new Undo(),\n        this.redoEl = new Redo(),\n        this.data.settings.showPrint && new Print(),\n        this.paintformatEl = new Paintformat(),\n        this.clearformatEl = new Clearformat(),\n      ].filter(e=>!!e),\n      buildDivider(),\n      [\n        this.formatEl = new Format(),\n      ],\n      buildDivider(),\n      [\n        this.fontEl = new Font(),\n        this.fontSizeEl = new FontSize(),\n      ],\n      buildDivider(),\n      [\n        this.boldEl = new Bold(),\n        this.italicEl = new Italic(),\n        this.underlineEl = new Underline(),\n        this.strikeEl = new Strike(),\n        this.textColorEl = new TextColor(style.color),\n      ],\n      buildDivider(),\n      [\n        this.fillColorEl = new FillColor(style.bgcolor),\n        this.borderEl = new Border(),\n        this.mergeEl = new Merge(),\n      ],\n      buildDivider(),\n      [\n        this.alignEl = new Align(style.align),\n        this.valignEl = new Valign(style.valign),\n        this.textwrapEl = new Textwrap(),\n      ],\n      buildDivider(),\n      [\n        this.freezeEl = new Freeze(),\n        this.autofilterEl = new Autofilter(),\n        this.formulaEl = new Formula(),\n      ],\n    ];\n\n    const { extendToolbar = {} } = data.settings;\n\n    if (extendToolbar.left && extendToolbar.left.length > 0) {\n      this.items.unshift(buildDivider());\n      const btns = extendToolbar.left.map(genBtn.bind(this));\n\n      this.items.unshift(btns);\n    }\n    if (extendToolbar.right && extendToolbar.right.length > 0) {\n      this.items.push(buildDivider());\n      const btns = extendToolbar.right.map(genBtn.bind(this));\n      this.items.push(btns);\n    }\n\n    this.items.push([this.moreEl = new More()]);\n\n    this.el = h('div', `${cssPrefix}-toolbar`);\n    this.btns = h('div', `${cssPrefix}-toolbar-btns`);\n\n    this.items.forEach((it) => {\n      if (Array.isArray(it)) {\n        it.forEach((i) => {\n          this.btns.child(i.el);\n          i.change = (...args) => {\n            this.change(...args);\n          };\n        });\n      } else {\n        this.btns.child(it.el);\n      }\n    });\n\n    this.el.child(this.btns);\n    if (isHide) {\n      this.el.hide();\n    } else {\n      this.reset();\n      setTimeout(() => {\n        initBtns2.call(this);\n        moreResize.call(this);\n      }, 0);\n      bind(window, 'resize', () => {\n        moreResize.call(this);\n      });\n    }\n  }\n\n  paintformatActive() {\n    return this.paintformatEl.active();\n  }\n\n  paintformatToggle() {\n    this.paintformatEl.toggle();\n  }\n\n  trigger(type) {\n    this[`${type}El`].click();\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.reset();\n  }\n\n  reset() {\n    if (this.isHide) return;\n    const { data } = this;\n    const style = data.getSelectedCellStyle();\n    // console.log('canUndo:', data.canUndo());\n    this.undoEl.setState(!data.canUndo());\n    this.redoEl.setState(!data.canRedo());\n    this.mergeEl.setState(data.canUnmerge(), !data.selector.multiple());\n    this.autofilterEl.setState(!data.canAutofilter());\n    // this.mergeEl.disabled();\n    // console.log('selectedCell:', style, cell);\n    const { font, format } = style;\n    this.formatEl.setState(format);\n    this.fontEl.setState(font.name);\n    this.fontSizeEl.setState(font.size);\n    this.boldEl.setState(font.bold);\n    this.italicEl.setState(font.italic);\n    this.underlineEl.setState(style.underline);\n    this.strikeEl.setState(style.strike);\n    this.textColorEl.setState(style.color);\n    this.fillColorEl.setState(style.bgcolor);\n    this.alignEl.setState(style.align);\n    this.valignEl.setState(style.valign);\n    this.textwrapEl.setState(style.textwrap);\n    // console.log('freeze is Active:', data.freezeIsActive());\n    this.freezeEl.setState(data.freezeIsActive());\n  }\n}\n","/* global document */\n/* global window */\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\nimport { bind, unbind } from './event';\n\nexport default class Modal {\n  constructor(title, content, width = '600px') {\n    this.title = title;\n    this.el = h('div', `${cssPrefix}-modal`).css('width', width).children(\n      h('div', `${cssPrefix}-modal-header`).children(\n        new Icon('close').on('click.stop', () => this.hide()),\n        this.title,\n      ),\n      h('div', `${cssPrefix}-modal-content`).children(...content),\n    ).hide();\n  }\n\n  show() {\n    // dimmer\n    this.dimmer = h('div', `${cssPrefix}-dimmer active`);\n    document.body.appendChild(this.dimmer.el);\n    const { width, height } = this.el.show().box();\n    const { clientHeight, clientWidth } = document.documentElement;\n    this.el.offset({\n      left: (clientWidth - width) / 2,\n      top: (clientHeight - height) / 3,\n    });\n    window.xkeydownEsc = (evt) => {\n      if (evt.keyCode === 27) {\n        this.hide();\n      }\n    };\n    bind(window, 'keydown', window.xkeydownEsc);\n  }\n\n  hide() {\n    this.el.hide();\n    document.body.removeChild(this.dimmer.el);\n    unbind(window, 'keydown', window.xkeydownEsc);\n    delete window.xkeydownEsc;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class FormInput {\n  constructor(width, hint) {\n    this.vchange = () => {};\n    this.el = h('div', `${cssPrefix}-form-input`);\n    this.input = h('input', '').css('width', width)\n      .on('input', evt => this.vchange(evt))\n      .attr('placeholder', hint);\n    this.el.child(this.input);\n  }\n\n  focus() {\n    setTimeout(() => {\n      this.input.el.focus();\n    }, 10);\n  }\n\n  hint(v) {\n    this.input.attr('placeholder', v);\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n}\n","import { h } from './element';\nimport Suggest from './suggest';\nimport { cssPrefix } from '../config';\n\nexport default class FormSelect {\n  constructor(key, items, width, getTitle = it => it, change = () => {}) {\n    this.key = key;\n    this.getTitle = getTitle;\n    this.vchange = () => {};\n    this.el = h('div', `${cssPrefix}-form-select`);\n    this.suggest = new Suggest(items.map(it => ({ key: it, title: this.getTitle(it) })), (it) => {\n      this.itemClick(it.key);\n      change(it.key);\n      this.vchange(it.key);\n    }, width, this.el);\n    this.el.children(\n      this.itemEl = h('div', 'input-text').html(this.getTitle(key)),\n      this.suggest.el,\n    ).on('click', () => this.show());\n  }\n\n  show() {\n    this.suggest.search('');\n  }\n\n  itemClick(it) {\n    this.key = it;\n    this.itemEl.html(this.getTitle(it));\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.key = v;\n      this.itemEl.html(this.getTitle(v));\n      return this;\n    }\n    return this.key;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nconst patterns = {\n  number: /(^\\d+$)|(^\\d+(\\.\\d{0,4})?$)/,\n  date: /^\\d{4}-\\d{1,2}-\\d{1,2}$/,\n};\n\n// rule: { required: false, type, pattern: // }\nexport default class FormField {\n  constructor(input, rule, label, labelWidth) {\n    this.label = '';\n    this.rule = rule;\n    if (label) {\n      this.label = h('label', 'label').css('width', `${labelWidth}px`).html(label);\n    }\n    this.tip = h('div', 'tip').child('tip').hide();\n    this.input = input;\n    this.input.vchange = () => this.validate();\n    this.el = h('div', `${cssPrefix}-form-field`)\n      .children(this.label, input.el, this.tip);\n  }\n\n  isShow() {\n    return this.el.css('display') !== 'none';\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n\n  hint(hint) {\n    this.input.hint(hint);\n  }\n\n  validate() {\n    const {\n      input, rule, tip, el,\n    } = this;\n    const v = input.val();\n    if (rule.required) {\n      if (/^\\s*$/.test(v)) {\n        tip.html(t('validation.required'));\n        el.addClass('error');\n        return false;\n      }\n    }\n    if (rule.type || rule.pattern) {\n      const pattern = rule.pattern || patterns[rule.type];\n      if (!pattern.test(v)) {\n        tip.html(t('validation.notMatch'));\n        el.addClass('error');\n        return false;\n      }\n    }\n    el.removeClass('error');\n    return true;\n  }\n}\n","import Modal from './modal';\nimport FormInput from './form_input';\nimport FormSelect from './form_select';\nimport FormField from './form_field';\nimport Button from './button';\nimport { t } from '../locale/locale';\nimport { h } from './element';\nimport { cssPrefix } from '../config';\n\nconst fieldLabelWidth = 100;\n\nexport default class ModalValidation extends Modal {\n  constructor() {\n    const mf = new FormField(\n      new FormSelect('cell',\n        ['cell'], // cell|row|column\n        '100%',\n        it => t(`dataValidation.modeType.${it}`)),\n      { required: true },\n      `${t('dataValidation.range')}:`,\n      fieldLabelWidth,\n    );\n    const rf = new FormField(\n      new FormInput('120px', 'E3 or E3:F12'),\n      { required: true, pattern: /^([A-Z]{1,2}[1-9]\\d*)(:[A-Z]{1,2}[1-9]\\d*)?$/ },\n    );\n    const cf = new FormField(\n      new FormSelect('list',\n        ['list', 'number', 'date', 'phone', 'email'],\n        '100%',\n        it => t(`dataValidation.type.${it}`),\n        it => this.criteriaSelected(it)),\n      { required: true },\n      `${t('dataValidation.criteria')}:`,\n      fieldLabelWidth,\n    );\n\n    // operator\n    const of = new FormField(\n      new FormSelect('be',\n        ['be', 'nbe', 'eq', 'neq', 'lt', 'lte', 'gt', 'gte'],\n        '160px',\n        it => t(`dataValidation.operator.${it}`),\n        it => this.criteriaOperatorSelected(it)),\n      { required: true },\n    ).hide();\n    // min, max\n    const minvf = new FormField(\n      new FormInput('70px', '10'),\n      { required: true },\n    ).hide();\n    const maxvf = new FormField(\n      new FormInput('70px', '100'),\n      { required: true, type: 'number' },\n    ).hide();\n    // value\n    const svf = new FormField(\n      new FormInput('120px', 'a,b,c'),\n      { required: true },\n    );\n    const vf = new FormField(\n      new FormInput('70px', '10'),\n      { required: true, type: 'number' },\n    ).hide();\n\n    super(t('contextmenu.validation'), [\n      h('div', `${cssPrefix}-form-fields`).children(\n        mf.el,\n        rf.el,\n      ),\n      h('div', `${cssPrefix}-form-fields`).children(\n        cf.el,\n        of.el,\n        minvf.el,\n        maxvf.el,\n        vf.el,\n        svf.el,\n      ),\n      h('div', `${cssPrefix}-buttons`).children(\n        new Button('cancel').on('click', () => this.btnClick('cancel')),\n        new Button('remove').on('click', () => this.btnClick('remove')),\n        new Button('save', 'primary').on('click', () => this.btnClick('save')),\n      ),\n    ]);\n    this.mf = mf;\n    this.rf = rf;\n    this.cf = cf;\n    this.of = of;\n    this.minvf = minvf;\n    this.maxvf = maxvf;\n    this.vf = vf;\n    this.svf = svf;\n    this.change = () => {};\n  }\n\n  showVf(it) {\n    const hint = it === 'date' ? '2018-11-12' : '10';\n    const { vf } = this;\n    vf.input.hint(hint);\n    vf.show();\n  }\n\n  criteriaSelected(it) {\n    const {\n      of, minvf, maxvf, vf, svf,\n    } = this;\n    if (it === 'date' || it === 'number') {\n      of.show();\n      minvf.rule.type = it;\n      maxvf.rule.type = it;\n      if (it === 'date') {\n        minvf.hint('2018-11-12');\n        maxvf.hint('2019-11-12');\n      } else {\n        minvf.hint('10');\n        maxvf.hint('100');\n      }\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n      svf.hide();\n    } else {\n      if (it === 'list') {\n        svf.show();\n      } else {\n        svf.hide();\n      }\n      vf.hide();\n      of.hide();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  criteriaOperatorSelected(it) {\n    if (!it) return;\n    const {\n      minvf, maxvf, vf,\n    } = this;\n    if (it === 'be' || it === 'nbe') {\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n    } else {\n      const type = this.cf.val();\n      vf.rule.type = type;\n      if (type === 'date') {\n        vf.hint('2018-11-12');\n      } else {\n        vf.hint('10');\n      }\n      vf.show();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  btnClick(action) {\n    if (action === 'cancel') {\n      this.hide();\n    } else if (action === 'remove') {\n      this.change('remove');\n      this.hide();\n    } else if (action === 'save') {\n      // validate\n      const attrs = ['mf', 'rf', 'cf', 'of', 'svf', 'vf', 'minvf', 'maxvf'];\n      for (let i = 0; i < attrs.length; i += 1) {\n        const field = this[attrs[i]];\n        // console.log('field:', field);\n        if (field.isShow()) {\n          // console.log('it:', it);\n          if (!field.validate()) return;\n        }\n      }\n\n      const mode = this.mf.val();\n      const ref = this.rf.val();\n      const type = this.cf.val();\n      const operator = this.of.val();\n      let value = this.svf.val();\n      if (type === 'number' || type === 'date') {\n        if (operator === 'be' || operator === 'nbe') {\n          value = [this.minvf.val(), this.maxvf.val()];\n        } else {\n          value = this.vf.val();\n        }\n      }\n      // console.log(mode, ref, type, operator, value);\n      this.change('save',\n        mode,\n        ref,\n        {\n          type, operator, required: false, value,\n        });\n      this.hide();\n    }\n  }\n\n  // validation: { mode, ref, validator }\n  setValue(v) {\n    if (v) {\n      const {\n        mf, rf, cf, of, svf, vf, minvf, maxvf,\n      } = this;\n      const {\n        mode, ref, validator,\n      } = v;\n      const {\n        type, operator, value,\n      } = validator || { type: 'list' };\n      mf.val(mode || 'cell');\n      rf.val(ref);\n      cf.val(type);\n      of.val(operator);\n      if (Array.isArray(value)) {\n        minvf.val(value[0]);\n        maxvf.val(value[1]);\n      } else {\n        svf.val(value || '');\n        vf.val(value || '');\n      }\n      this.criteriaSelected(type);\n      this.criteriaOperatorSelected(operator);\n    }\n    this.show();\n  }\n}\n","import { h } from './element';\nimport Button from './button';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nfunction buildMenu(clsName) {\n  return h('div', `${cssPrefix}-item ${clsName}`);\n}\n\nfunction buildSortItem(it) {\n  return buildMenu('state').child(t(`sort.${it}`))\n    .on('click.stop', () => this.itemClick(it));\n}\n\nfunction buildFilterBody(items) {\n  const { filterbEl, filterValues } = this;\n  filterbEl.html('');\n  const itemKeys = Object.keys(items);\n  itemKeys.forEach((it, index) => {\n    const cnt = items[it];\n    const active = filterValues.includes(it) ? 'checked' : '';\n    filterbEl.child(h('div', `${cssPrefix}-item state ${active}`)\n      .on('click.stop', () => this.filterClick(index, it))\n      .children(it === '' ? t('filter.empty') : it, h('div', 'label').html(`(${cnt})`)));\n  });\n}\n\nfunction resetFilterHeader() {\n  const { filterhEl, filterValues, values } = this;\n  filterhEl.html(`${filterValues.length} / ${values.length}`);\n  filterhEl.checked(filterValues.length === values.length);\n}\n\nexport default class SortFilter {\n  constructor() {\n    this.filterbEl = h('div', `${cssPrefix}-body`);\n    this.filterhEl = h('div', `${cssPrefix}-header state`).on('click.stop', () => this.filterClick(0, 'all'));\n    this.el = h('div', `${cssPrefix}-sort-filter`).children(\n      this.sortAscEl = buildSortItem.call(this, 'asc'),\n      this.sortDescEl = buildSortItem.call(this, 'desc'),\n      buildMenu('divider'),\n      h('div', `${cssPrefix}-filter`).children(\n        this.filterhEl,\n        this.filterbEl,\n      ),\n      h('div', `${cssPrefix}-buttons`).children(\n        new Button('cancel').on('click', () => this.btnClick('cancel')),\n        new Button('ok', 'primary').on('click', () => this.btnClick('ok')),\n      ),\n    ).hide();\n    // this.setFilters(['test1', 'test2', 'text3']);\n    this.ci = null;\n    this.sortDesc = null;\n    this.values = null;\n    this.filterValues = [];\n  }\n\n  btnClick(it) {\n    if (it === 'ok') {\n      const { ci, sort, filterValues } = this;\n      if (this.ok) {\n        this.ok(ci, sort, 'in', filterValues);\n      }\n    }\n    this.hide();\n  }\n\n  itemClick(it) {\n    // console.log('it:', it);\n    this.sort = it;\n    const { sortAscEl, sortDescEl } = this;\n    sortAscEl.checked(it === 'asc');\n    sortDescEl.checked(it === 'desc');\n  }\n\n  filterClick(index, it) {\n    // console.log('index:', index, it);\n    const { filterbEl, filterValues, values } = this;\n    const children = filterbEl.children();\n    if (it === 'all') {\n      if (children.length === filterValues.length) {\n        this.filterValues = [];\n        children.forEach(i => h(i).checked(false));\n      } else {\n        this.filterValues = Array.from(values);\n        children.forEach(i => h(i).checked(true));\n      }\n    } else {\n      const checked = h(children[index]).toggle('checked');\n      if (checked) {\n        filterValues.push(it);\n      } else {\n        filterValues.splice(filterValues.findIndex(i => i === it), 1);\n      }\n    }\n    resetFilterHeader.call(this);\n  }\n\n  // v: autoFilter\n  // items: {value: cnt}\n  // sort { ci, order }\n  set(ci, items, filter, sort) {\n    this.ci = ci;\n    const { sortAscEl, sortDescEl } = this;\n    if (sort !== null) {\n      this.sort = sort.order;\n      sortAscEl.checked(sort.asc());\n      sortDescEl.checked(sort.desc());\n    } else {\n      this.sortDesc = null;\n      sortAscEl.checked(false);\n      sortDescEl.checked(false);\n    }\n    // this.setFilters(items, filter);\n    this.values = Object.keys(items);\n    this.filterValues = filter ? Array.from(filter.value) : Object.keys(items);\n    buildFilterBody.call(this, items, filter);\n    resetFilterHeader.call(this);\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    let tindex = 1;\n    bindClickoutside(this.el, () => {\n      if (tindex <= 0) {\n        this.hide();\n      }\n      tindex -= 1;\n    });\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    unbindClickoutside(this.el);\n  }\n}\n","/* global document */\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nexport function xtoast(title, content) {\n  const el = h('div', `${cssPrefix}-toast`);\n  const dimmer = h('div', `${cssPrefix}-dimmer active`);\n  const remove = () => {\n    document.body.removeChild(el.el);\n    document.body.removeChild(dimmer.el);\n  };\n\n  el.children(\n    h('div', `${cssPrefix}-toast-header`).children(\n      new Icon('close').on('click.stop', () => remove()),\n      title,\n    ),\n    h('div', `${cssPrefix}-toast-content`).html(content),\n  );\n  document.body.appendChild(el.el);\n  document.body.appendChild(dimmer.el);\n  // set offset\n  const { width, height } = el.box();\n  const { clientHeight, clientWidth } = document.documentElement;\n  el.offset({\n    left: (clientWidth - width) / 2,\n    top: (clientHeight - height) / 3,\n  });\n}\n\nexport default {};\n","/* global window */\nimport { h } from './element';\nimport {\n  bind,\n  mouseMoveUp,\n  bindTouch,\n  createEventEmitter,\n} from './event';\nimport Resizer from './resizer';\nimport Scrollbar from './scrollbar';\nimport Selector from './selector';\nimport Editor from './editor';\nimport Print from './print';\nimport ContextMenu from './contextmenu';\nimport Table from './table';\nimport Toolbar from './toolbar/index';\nimport ModalValidation from './modal_validation';\nimport SortFilter from './sort_filter';\nimport { xtoast } from './message';\nimport { cssPrefix } from '../config';\nimport { formulas } from '../core/formula';\n\n/**\n * @desc throttle fn\n * @param func function\n * @param wait Delay in milliseconds\n */\nfunction throttle(func, wait) {\n  let timeout;\n  return (...arg) => {\n    const that = this;\n    const args = arg;\n    if (!timeout) {\n      timeout = setTimeout(() => {\n        timeout = null;\n        func.apply(that, args);\n      }, wait);\n    }\n  };\n}\n\nfunction scrollbarMove() {\n  const {\n    data, verticalScrollbar, horizontalScrollbar,\n  } = this;\n  const {\n    l, t, left, top, width, height,\n  } = data.getSelectedRect();\n  const tableOffset = this.getTableOffset();\n  // console.log(',l:', l, ', left:', left, ', tOffset.left:', tableOffset.width);\n  if (Math.abs(left) + width > tableOffset.width) {\n    horizontalScrollbar.move({ left: l + width - tableOffset.width });\n  } else {\n    const fsw = data.freezeTotalWidth();\n    if (left < fsw) {\n      horizontalScrollbar.move({ left: l - 1 - fsw });\n    }\n  }\n  // console.log('top:', top, ', height:', height, ', tof.height:', tableOffset.height);\n  if (Math.abs(top) + height > tableOffset.height) {\n    verticalScrollbar.move({ top: t + height - tableOffset.height - 1 });\n  } else {\n    const fsh = data.freezeTotalHeight();\n    if (top < fsh) {\n      verticalScrollbar.move({ top: t - 1 - fsh });\n    }\n  }\n}\n\nfunction selectorSet(multiple, ri, ci, indexesUpdated = true, moving = false) {\n  if (ri === -1 && ci === -1) return;\n  const {\n    table, selector, toolbar, data,\n    contextMenu,\n  } = this;\n  const cell = data.getCell(ri, ci);\n  if (multiple) {\n    selector.setEnd(ri, ci, moving);\n    this.trigger('cells-selected', cell, selector.range);\n  } else {\n    // trigger click event\n    selector.set(ri, ci, indexesUpdated);\n    this.trigger('cell-selected', cell, ri, ci);\n  }\n  contextMenu.setMode((ri === -1 || ci === -1) ? 'row-col' : 'range');\n  toolbar.reset();\n  table.render();\n}\n\n// multiple: boolean\n// direction: left | right | up | down | row-first | row-last | col-first | col-last\nfunction selectorMove(multiple, direction) {\n  const {\n    selector, data,\n  } = this;\n  const { rows, cols } = data;\n  let [ri, ci] = selector.indexes;\n  const { eri, eci } = selector.range;\n  if (multiple) {\n    [ri, ci] = selector.moveIndexes;\n  }\n  // console.log('selector.move:', ri, ci);\n  if (direction === 'left') {\n    if (ci > 0) ci -= 1;\n  } else if (direction === 'right') {\n    if (eci !== ci) ci = eci;\n    if (ci < cols.len - 1) ci += 1;\n  } else if (direction === 'up') {\n    if (ri > 0) ri -= 1;\n  } else if (direction === 'down') {\n    if (eri !== ri) ri = eri;\n    if (ri < rows.len - 1) ri += 1;\n  } else if (direction === 'row-first') {\n    ci = 0;\n  } else if (direction === 'row-last') {\n    ci = cols.len - 1;\n  } else if (direction === 'col-first') {\n    ri = 0;\n  } else if (direction === 'col-last') {\n    ri = rows.len - 1;\n  }\n  if (multiple) {\n    selector.moveIndexes = [ri, ci];\n  }\n  selectorSet.call(this, multiple, ri, ci);\n  scrollbarMove.call(this);\n}\n\n// private methods\nfunction overlayerMousemove(evt) {\n  // console.log('x:', evt.offsetX, ', y:', evt.offsetY);\n  if (evt.buttons !== 0) return;\n  if (evt.target.className === `${cssPrefix}-resizer-hover`) return;\n  const { offsetX, offsetY } = evt;\n  const {\n    rowResizer, colResizer, tableEl, data,\n  } = this;\n  const { rows, cols } = data;\n  if (offsetX > cols.indexWidth && offsetY > rows.height) {\n    rowResizer.hide();\n    colResizer.hide();\n    return;\n  }\n  const tRect = tableEl.box();\n  const cRect = data.getCellRectByXY(evt.offsetX, evt.offsetY);\n  if (cRect.ri >= 0 && cRect.ci === -1) {\n    cRect.width = cols.indexWidth;\n    rowResizer.show(cRect, {\n      width: tRect.width,\n    });\n    if (rows.isHide(cRect.ri - 1)) {\n      rowResizer.showUnhide(cRect.ri);\n    } else {\n      rowResizer.hideUnhide();\n    }\n  } else {\n    rowResizer.hide();\n  }\n  if (cRect.ri === -1 && cRect.ci >= 0) {\n    cRect.height = rows.height;\n    colResizer.show(cRect, {\n      height: tRect.height,\n    });\n    if (cols.isHide(cRect.ci - 1)) {\n      colResizer.showUnhide(cRect.ci);\n    } else {\n      colResizer.hideUnhide();\n    }\n  } else {\n    colResizer.hide();\n  }\n}\n\n// let scrollThreshold = 15;\nfunction overlayerMousescroll(evt) {\n  // scrollThreshold -= 1;\n  // if (scrollThreshold > 0) return;\n  // scrollThreshold = 15;\n\n  const { verticalScrollbar, horizontalScrollbar, data } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n  // console.log('evt:::', evt.wheelDelta, evt.detail * 40);\n\n  const { rows, cols } = data;\n\n  // deltaY for vertical delta\n  const { deltaY, deltaX } = evt;\n  const loopValue = (ii, vFunc) => {\n    let i = ii;\n    let v = 0;\n    do {\n      v = vFunc(i);\n      i += 1;\n    } while (v <= 0);\n    return v;\n  };\n  // console.log('deltaX', deltaX, 'evt.detail', evt.detail);\n  // if (evt.detail) deltaY = evt.detail * 40;\n  const moveY = (vertical) => {\n    if (vertical > 0) {\n      // up\n      const ri = data.scroll.ri + 1;\n      if (ri < rows.len) {\n        const rh = loopValue(ri, i => rows.getHeight(i));\n        verticalScrollbar.move({ top: top + rh - 1 });\n      }\n    } else {\n      // down\n      const ri = data.scroll.ri - 1;\n      if (ri >= 0) {\n        const rh = loopValue(ri, i => rows.getHeight(i));\n        verticalScrollbar.move({ top: ri === 0 ? 0 : top - rh });\n      }\n    }\n  };\n\n  // deltaX for Mac horizontal scroll\n  const moveX = (horizontal) => {\n    if (horizontal > 0) {\n      // left\n      const ci = data.scroll.ci + 1;\n      if (ci < cols.len) {\n        const cw = loopValue(ci, i => cols.getWidth(i));\n        horizontalScrollbar.move({ left: left + cw - 1 });\n      }\n    } else {\n      // right\n      const ci = data.scroll.ci - 1;\n      if (ci >= 0) {\n        const cw = loopValue(ci, i => cols.getWidth(i));\n        horizontalScrollbar.move({ left: ci === 0 ? 0 : left - cw });\n      }\n    }\n  };\n  const tempY = Math.abs(deltaY);\n  const tempX = Math.abs(deltaX);\n  const temp = Math.max(tempY, tempX);\n  // console.log('event:', evt);\n  // detail for windows/mac firefox vertical scroll\n  if (/Firefox/i.test(window.navigator.userAgent)) throttle(moveY(evt.detail), 50);\n  if (temp === tempX) throttle(moveX(deltaX), 50);\n  if (temp === tempY) throttle(moveY(deltaY), 50);\n}\n\nfunction overlayerTouch(direction, distance) {\n  const { verticalScrollbar, horizontalScrollbar } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n\n  if (direction === 'left' || direction === 'right') {\n    horizontalScrollbar.move({ left: left - distance });\n  } else if (direction === 'up' || direction === 'down') {\n    verticalScrollbar.move({ top: top - distance });\n  }\n}\n\nfunction verticalScrollbarSet() {\n  const { data, verticalScrollbar } = this;\n  const { height } = this.getTableOffset();\n  const erth = data.exceptRowTotalHeight(0, -1);\n  // console.log('erth:', erth);\n  verticalScrollbar.set(height, data.rows.totalHeight() - erth);\n}\n\nfunction horizontalScrollbarSet() {\n  const { data, horizontalScrollbar } = this;\n  const { width } = this.getTableOffset();\n  if (data) {\n    horizontalScrollbar.set(width, data.cols.totalWidth());\n  }\n}\n\nfunction sheetFreeze() {\n  const {\n    selector, data, editor,\n  } = this;\n  const [ri, ci] = data.freeze;\n  if (ri > 0 || ci > 0) {\n    const fwidth = data.freezeTotalWidth();\n    const fheight = data.freezeTotalHeight();\n    editor.setFreezeLengths(fwidth, fheight);\n  }\n  selector.resetAreaOffset();\n}\n\nfunction sheetReset() {\n  const {\n    tableEl,\n    overlayerEl,\n    overlayerCEl,\n    table,\n    toolbar,\n    selector,\n    el,\n  } = this;\n  const tOffset = this.getTableOffset();\n  const vRect = this.getRect();\n  tableEl.attr(vRect);\n  overlayerEl.offset(vRect);\n  overlayerCEl.offset(tOffset);\n  el.css('width', `${vRect.width}px`);\n  verticalScrollbarSet.call(this);\n  horizontalScrollbarSet.call(this);\n  sheetFreeze.call(this);\n  table.render();\n  toolbar.reset();\n  selector.reset();\n}\n\nfunction clearClipboard() {\n  const { data, selector } = this;\n  data.clearClipboard();\n  selector.hideClipboard();\n}\n\nfunction copy(evt) {\n  const { data, selector } = this;\n  if (data.settings.mode === 'read') return;\n  data.copy();\n  data.copyToSystemClipboard(evt);\n  selector.showClipboard();\n}\n\nfunction cut() {\n  const { data, selector } = this;\n  if (data.settings.mode === 'read') return;\n  data.cut();\n  selector.showClipboard();\n}\n\nfunction paste(what, evt) {\n  const { data } = this;\n  if (data.settings.mode === 'read') return;\n  if (data.clipboard.isClear()) {\n    const resetSheet = () => sheetReset.call(this);\n    const eventTrigger = (rows) => {\n      this.trigger('pasted-clipboard', rows);\n    };\n    // pastFromSystemClipboard is async operation, need to tell it how to reset sheet and trigger event after it finishes\n    // pasting content from system clipboard\n    data.pasteFromSystemClipboard(resetSheet, eventTrigger);\n  } else if (data.paste(what, msg => xtoast('Tip', msg))) {\n    sheetReset.call(this);\n  } else if (evt) {\n    const cdata = evt.clipboardData.getData('text/plain');\n    this.data.pasteFromText(cdata);\n    sheetReset.call(this);\n  }\n}\n\nfunction hideRowsOrCols() {\n  this.data.hideRowsOrCols();\n  sheetReset.call(this);\n}\n\nfunction unhideRowsOrCols(type, index) {\n  this.data.unhideRowsOrCols(type, index);\n  sheetReset.call(this);\n}\n\nfunction autofilter() {\n  const { data } = this;\n  data.autofilter();\n  sheetReset.call(this);\n}\n\nfunction toolbarChangePaintformatPaste() {\n  const { toolbar } = this;\n  if (toolbar.paintformatActive()) {\n    paste.call(this, 'format');\n    clearClipboard.call(this);\n    toolbar.paintformatToggle();\n  }\n}\n\nfunction overlayerMousedown(evt) {\n  // console.log(':::::overlayer.mousedown:', evt.detail, evt.button, evt.buttons, evt.shiftKey);\n  // console.log('evt.target.className:', evt.target.className);\n  const {\n    selector, data, table, sortFilter,\n  } = this;\n  const { offsetX, offsetY } = evt;\n  const isAutofillEl = evt.target.className === `${cssPrefix}-selector-corner`;\n  const cellRect = data.getCellRectByXY(offsetX, offsetY);\n  const {\n    left, top, width, height,\n  } = cellRect;\n  let { ri, ci } = cellRect;\n  // sort or filter\n  const { autoFilter } = data;\n  if (autoFilter.includes(ri, ci)) {\n    if (left + width - 20 < offsetX && top + height - 20 < offsetY) {\n      const items = autoFilter.items(ci, (r, c) => data.rows.getCell(r, c));\n      sortFilter.hide();\n      sortFilter.set(ci, items, autoFilter.getFilter(ci), autoFilter.getSort(ci));\n      sortFilter.setOffset({ left, top: top + height + 2 });\n      return;\n    }\n  }\n\n  // console.log('ri:', ri, ', ci:', ci);\n  if (!evt.shiftKey) {\n    // console.log('selectorSetStart:::');\n    if (isAutofillEl) {\n      selector.showAutofill(ri, ci);\n    } else {\n      selectorSet.call(this, false, ri, ci);\n    }\n\n    // mouse move up\n    mouseMoveUp(window, (e) => {\n      // console.log('mouseMoveUp::::');\n      ({ ri, ci } = data.getCellRectByXY(e.offsetX, e.offsetY));\n      if (isAutofillEl) {\n        selector.showAutofill(ri, ci);\n      } else if (e.buttons === 1 && !e.shiftKey) {\n        selectorSet.call(this, true, ri, ci, true, true);\n      }\n    }, () => {\n      if (isAutofillEl && selector.arange && data.settings.mode !== 'read') {\n        if (data.autofill(selector.arange, 'all', msg => xtoast('Tip', msg))) {\n          table.render();\n        }\n      }\n      selector.hideAutofill();\n      toolbarChangePaintformatPaste.call(this);\n    });\n  }\n\n  if (!isAutofillEl && evt.buttons === 1) {\n    if (evt.shiftKey) {\n      // console.log('shiftKey::::');\n      selectorSet.call(this, true, ri, ci);\n    }\n  }\n}\n\nfunction editorSetOffset() {\n  const { editor, data } = this;\n  const sOffset = data.getSelectedRect();\n  const tOffset = this.getTableOffset();\n  let sPosition = 'top';\n  // console.log('sOffset:', sOffset, ':', tOffset);\n  if (sOffset.top > tOffset.height / 2) {\n    sPosition = 'bottom';\n  }\n  editor.setOffset(sOffset, sPosition);\n}\n\nfunction editorSet() {\n  const { editor, data } = this;\n  if (data.settings.mode === 'read') return;\n  editorSetOffset.call(this);\n  editor.setCell(data.getSelectedCell(), data.getSelectedValidator());\n  clearClipboard.call(this);\n}\n\nfunction verticalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrolly(distance, () => {\n    selector.resetBRLAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction horizontalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrollx(distance, () => {\n    selector.resetBRTAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction rowResizerFinished(cRect, distance) {\n  const { ri } = cRect;\n  const { table, selector, data } = this;\n  const { sri, eri } = selector.range;\n  if (ri >= sri && ri <= eri) {\n    for (let row = sri; row <= eri; row += 1) {\n      data.rows.setHeight(row, distance);\n    }\n  } else {\n    data.rows.setHeight(ri, distance);\n  }\n\n  table.render();\n  selector.resetAreaOffset();\n  verticalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction colResizerFinished(cRect, distance) {\n  const { ci } = cRect;\n  const { table, selector, data } = this;\n  const { sci, eci } = selector.range;\n  if (ci >= sci && ci <= eci) {\n    for (let col = sci; col <= eci; col += 1) {\n      data.cols.setWidth(col, distance);\n    }\n  } else {\n    data.cols.setWidth(ci, distance);\n  }\n\n  table.render();\n  selector.resetAreaOffset();\n  horizontalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction dataSetCellText(text, state = 'finished') {\n  const { data, table } = this;\n  // const [ri, ci] = selector.indexes;\n  if (data.settings.mode === 'read') return;\n  data.setSelectedCellText(text, state);\n  const { ri, ci } = data.selector;\n  if (state === 'finished') {\n    table.render();\n  } else {\n    this.trigger('cell-edited', text, ri, ci);\n  }\n}\n\nfunction insertDeleteRowColumn(type) {\n  const { data } = this;\n  if (data.settings.mode === 'read') return;\n  if (type === 'insert-row') {\n    data.insert('row');\n  } else if (type === 'delete-row') {\n    data.delete('row');\n  } else if (type === 'insert-column') {\n    data.insert('column');\n  } else if (type === 'delete-column') {\n    data.delete('column');\n  } else if (type === 'delete-cell') {\n    data.deleteCell();\n  } else if (type === 'delete-cell-format') {\n    data.deleteCell('format');\n  } else if (type === 'delete-cell-text') {\n    data.deleteCell('text');\n  } else if (type === 'cell-printable') {\n    data.setSelectedCellAttr('printable', true);\n  } else if (type === 'cell-non-printable') {\n    data.setSelectedCellAttr('printable', false);\n  } else if (type === 'cell-editable') {\n    data.setSelectedCellAttr('editable', true);\n  } else if (type === 'cell-non-editable') {\n    data.setSelectedCellAttr('editable', false);\n  }\n  clearClipboard.call(this);\n  sheetReset.call(this);\n}\n\nfunction toolbarChange(type, value) {\n  const { data } = this;\n  if (type === 'undo') {\n    this.undo();\n  } else if (type === 'redo') {\n    this.redo();\n  } else if (type === 'print') {\n    this.print.preview();\n  } else if (type === 'paintformat') {\n    if (value === true) copy.call(this);\n    else clearClipboard.call(this);\n  } else if (type === 'clearformat') {\n    insertDeleteRowColumn.call(this, 'delete-cell-format');\n  } else if (type === 'link') {\n    // link\n  } else if (type === 'chart') {\n    // chart\n  } else if (type === 'autofilter') {\n    // filter\n    autofilter.call(this);\n  } else if (type === 'freeze') {\n    if (value) {\n      const { ri, ci } = data.selector;\n      this.freeze(ri, ci);\n    } else {\n      this.freeze(0, 0);\n    }\n  } else {\n    data.setSelectedCellAttr(type, value);\n    if (type === 'formula' && !data.selector.multiple()) {\n      editorSet.call(this);\n    }\n    sheetReset.call(this);\n  }\n}\n\nfunction sortFilterChange(ci, order, operator, value) {\n  // console.log('sort:', sortDesc, operator, value);\n  this.data.setAutoFilter(ci, order, operator, value);\n  sheetReset.call(this);\n}\n\nfunction sheetInitEvents() {\n  const {\n    selector,\n    overlayerEl,\n    rowResizer,\n    colResizer,\n    verticalScrollbar,\n    horizontalScrollbar,\n    editor,\n    contextMenu,\n    toolbar,\n    modalValidation,\n    sortFilter,\n  } = this;\n  // overlayer\n  overlayerEl\n    .on('mousemove', (evt) => {\n      overlayerMousemove.call(this, evt);\n    })\n    .on('mousedown', (evt) => {\n      editor.clear();\n      contextMenu.hide();\n      // the left mouse button: mousedown  mouseup  click\n      // the right mouse button: mousedown  contenxtmenu  mouseup\n      if (evt.buttons === 2) {\n        if (this.data.xyInSelectedRect(evt.offsetX, evt.offsetY)) {\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        } else {\n          overlayerMousedown.call(this, evt);\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        }\n        evt.stopPropagation();\n      } else if (evt.detail === 2) {\n        editorSet.call(this);\n      } else {\n        overlayerMousedown.call(this, evt);\n      }\n    })\n    .on('mousewheel.stop', (evt) => {\n      overlayerMousescroll.call(this, evt);\n    })\n    .on('mouseout', (evt) => {\n      const { offsetX, offsetY } = evt;\n      if (offsetY <= 0) colResizer.hide();\n      if (offsetX <= 0) rowResizer.hide();\n    });\n\n  selector.inputChange = (v) => {\n    dataSetCellText.call(this, v, 'input');\n    editorSet.call(this);\n  };\n\n  // slide on mobile\n  bindTouch(overlayerEl.el, {\n    move: (direction, d) => {\n      overlayerTouch.call(this, direction, d);\n    },\n  });\n\n  // toolbar change\n  toolbar.change = (type, value) => toolbarChange.call(this, type, value);\n\n  // sort filter ok\n  sortFilter.ok = (ci, order, o, v) => sortFilterChange.call(this, ci, order, o, v);\n\n  // resizer finished callback\n  rowResizer.finishedFn = (cRect, distance) => {\n    rowResizerFinished.call(this, cRect, distance);\n  };\n  colResizer.finishedFn = (cRect, distance) => {\n    colResizerFinished.call(this, cRect, distance);\n  };\n  // resizer unhide callback\n  rowResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, 'row', index);\n  };\n  colResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, 'col', index);\n  };\n  // scrollbar move callback\n  verticalScrollbar.moveFn = (distance, evt) => {\n    verticalScrollbarMove.call(this, distance, evt);\n  };\n  horizontalScrollbar.moveFn = (distance, evt) => {\n    horizontalScrollbarMove.call(this, distance, evt);\n  };\n  // editor\n  editor.change = (state, itext) => {\n    dataSetCellText.call(this, itext, state);\n  };\n  // modal validation\n  modalValidation.change = (action, ...args) => {\n    if (action === 'save') {\n      this.data.addValidation(...args);\n    } else {\n      this.data.removeValidation();\n    }\n  };\n  // contextmenu\n  contextMenu.itemClick = (type) => {\n    // console.log('type:', type);\n    if (type === 'validation') {\n      modalValidation.setValue(this.data.getSelectedValidation());\n    } else if (type === 'copy') {\n      copy.call(this);\n    } else if (type === 'cut') {\n      cut.call(this);\n    } else if (type === 'paste') {\n      paste.call(this, 'all');\n    } else if (type === 'paste-value') {\n      paste.call(this, 'text');\n    } else if (type === 'paste-format') {\n      paste.call(this, 'format');\n    } else if (type === 'hide') {\n      hideRowsOrCols.call(this);\n    } else {\n      insertDeleteRowColumn.call(this, type);\n    }\n  };\n\n  bind(window, 'resize', () => {\n    this.reload();\n  });\n\n  bind(window, 'click', (evt) => {\n    this.focusing = overlayerEl.contains(evt.target);\n  });\n\n  bind(window, 'paste', (evt) => {\n    if (!this.focusing) return;\n    paste.call(this, 'all', evt);\n    evt.preventDefault();\n  });\n\n  bind(window, 'copy', (evt) => {\n    if (!this.focusing) return;\n    copy.call(this, evt);\n    evt.preventDefault();\n  });\n\n  // for selector\n  bind(window, 'keydown', (evt) => {\n    if (!this.focusing) return;\n    const keyCode = evt.keyCode || evt.which;\n    const {\n      key, ctrlKey, shiftKey, metaKey,\n    } = evt;\n    // console.log('keydown.evt: ', keyCode);\n    if (ctrlKey || metaKey) {\n      // const { sIndexes, eIndexes } = selector;\n      // let what = 'all';\n      // if (shiftKey) what = 'text';\n      // if (altKey) what = 'format';\n      switch (keyCode) {\n        case 90:\n          // undo: ctrl + z\n          this.undo();\n          evt.preventDefault();\n          break;\n        case 89:\n          // redo: ctrl + y\n          this.redo();\n          evt.preventDefault();\n          break;\n        case 67:\n          // ctrl + c\n          // => copy\n          // copy.call(this);\n          // evt.preventDefault();\n          break;\n        case 88:\n          // ctrl + x\n          cut.call(this);\n          evt.preventDefault();\n          break;\n        case 85:\n          // ctrl + u\n          toolbar.trigger('underline');\n          evt.preventDefault();\n          break;\n        case 86:\n          // ctrl + v\n          // => paste\n          // evt.preventDefault();\n          break;\n        case 37:\n          // ctrl + left\n          selectorMove.call(this, shiftKey, 'row-first');\n          evt.preventDefault();\n          break;\n        case 38:\n          // ctrl + up\n          selectorMove.call(this, shiftKey, 'col-first');\n          evt.preventDefault();\n          break;\n        case 39:\n          // ctrl + right\n          selectorMove.call(this, shiftKey, 'row-last');\n          evt.preventDefault();\n          break;\n        case 40:\n          // ctrl + down\n          selectorMove.call(this, shiftKey, 'col-last');\n          evt.preventDefault();\n          break;\n        case 32:\n          // ctrl + space, all cells in col\n          selectorSet.call(this, false, -1, this.data.selector.ci, false);\n          evt.preventDefault();\n          break;\n        case 66:\n          // ctrl + B\n          toolbar.trigger('bold');\n          break;\n        case 73:\n          // ctrl + I\n          toolbar.trigger('italic');\n          break;\n        default:\n          break;\n      }\n    } else {\n      // console.log('evt.keyCode:', evt.keyCode);\n      switch (keyCode) {\n        case 32:\n          if (shiftKey) {\n            // shift + space, all cells in row\n            selectorSet.call(this, false, this.data.selector.ri, -1, false);\n          }\n          break;\n        case 27: // esc\n          contextMenu.hide();\n          clearClipboard.call(this);\n          break;\n        case 37: // left\n          selectorMove.call(this, shiftKey, 'left');\n          evt.preventDefault();\n          break;\n        case 38: // up\n          selectorMove.call(this, shiftKey, 'up');\n          evt.preventDefault();\n          break;\n        case 39: // right\n          selectorMove.call(this, shiftKey, 'right');\n          evt.preventDefault();\n          break;\n        case 40: // down\n          selectorMove.call(this, shiftKey, 'down');\n          evt.preventDefault();\n          break;\n        case 9: // tab\n          editor.clear();\n          // shift + tab => move left\n          // tab => move right\n          selectorMove.call(this, false, shiftKey ? 'left' : 'right');\n          evt.preventDefault();\n          break;\n        case 13: // enter\n          editor.clear();\n          // shift + enter => move up\n          // enter => move down\n          selectorMove.call(this, false, shiftKey ? 'up' : 'down');\n          evt.preventDefault();\n          break;\n        case 8: // backspace\n          insertDeleteRowColumn.call(this, 'delete-cell-text');\n          evt.preventDefault();\n          break;\n        default:\n          break;\n      }\n\n      if (key === 'Delete') {\n        insertDeleteRowColumn.call(this, 'delete-cell-text');\n        evt.preventDefault();\n      } else if ((keyCode >= 65 && keyCode <= 90)\n        || (keyCode >= 48 && keyCode <= 57)\n        || (keyCode >= 96 && keyCode <= 105)\n        || evt.key === '='\n      ) {\n        dataSetCellText.call(this, evt.key, 'input');\n        editorSet.call(this);\n      } else if (keyCode === 113) {\n        // F2\n        editorSet.call(this);\n      }\n    }\n  });\n}\n\nexport default class Sheet {\n  constructor(targetEl, data) {\n    this.eventMap = createEventEmitter();\n    const { view, showToolbar, showContextmenu } = data.settings;\n    this.el = h('div', `${cssPrefix}-sheet`);\n    this.toolbar = new Toolbar(data, view.width, !showToolbar);\n    this.print = new Print(data);\n    targetEl.children(this.toolbar.el, this.el, this.print.el);\n    this.data = data;\n    // table\n    this.tableEl = h('canvas', `${cssPrefix}-table`);\n    // resizer\n    this.rowResizer = new Resizer(false, data.rows.height);\n    this.colResizer = new Resizer(true, data.cols.minWidth);\n    // scrollbar\n    this.verticalScrollbar = new Scrollbar(true);\n    this.horizontalScrollbar = new Scrollbar(false);\n    // editor\n    this.editor = new Editor(\n      formulas,\n      () => this.getTableOffset(),\n      data.rows.height,\n    );\n    // data validation\n    this.modalValidation = new ModalValidation();\n    // contextMenu\n    this.contextMenu = new ContextMenu(() => this.getRect(), !showContextmenu);\n    // selector\n    this.selector = new Selector(data);\n    this.overlayerCEl = h('div', `${cssPrefix}-overlayer-content`)\n      .children(\n        this.editor.el,\n        this.selector.el,\n      );\n    this.overlayerEl = h('div', `${cssPrefix}-overlayer`)\n      .child(this.overlayerCEl);\n    // sortFilter\n    this.sortFilter = new SortFilter();\n    // root element\n    this.el.children(\n      this.tableEl,\n      this.overlayerEl.el,\n      this.rowResizer.el,\n      this.colResizer.el,\n      this.verticalScrollbar.el,\n      this.horizontalScrollbar.el,\n      this.contextMenu.el,\n      this.modalValidation.el,\n      this.sortFilter.el,\n    );\n    // table\n    this.table = new Table(this.tableEl.el, data);\n    sheetInitEvents.call(this);\n    sheetReset.call(this);\n    // init selector [0, 0]\n    selectorSet.call(this, false, 0, 0);\n  }\n\n  on(eventName, func) {\n    this.eventMap.on(eventName, func);\n    return this;\n  }\n\n  trigger(eventName, ...args) {\n    const { eventMap } = this;\n    eventMap.fire(eventName, args);\n  }\n\n  resetData(data) {\n    // before\n    this.editor.clear();\n    // after\n    this.data = data;\n    verticalScrollbarSet.call(this);\n    horizontalScrollbarSet.call(this);\n    this.toolbar.resetData(data);\n    this.print.resetData(data);\n    this.selector.resetData(data);\n    this.table.resetData(data);\n  }\n\n  loadData(data) {\n    this.data.setData(data);\n    sheetReset.call(this);\n    return this;\n  }\n\n  // freeze rows or cols\n  freeze(ri, ci) {\n    const { data } = this;\n    data.setFreeze(ri, ci);\n    sheetReset.call(this);\n    return this;\n  }\n\n  undo() {\n    this.data.undo();\n    sheetReset.call(this);\n  }\n\n  redo() {\n    this.data.redo();\n    sheetReset.call(this);\n  }\n\n  reload() {\n    sheetReset.call(this);\n    return this;\n  }\n\n  getRect() {\n    const { data } = this;\n    return { width: data.viewWidth(), height: data.viewHeight() };\n  }\n\n  getTableOffset() {\n    const { rows, cols } = this.data;\n    const { width, height } = this.getRect();\n    return {\n      width: width - cols.indexWidth,\n      height: height - rows.height,\n      left: cols.indexWidth,\n      top: rows.height,\n    };\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport Icon from './icon';\nimport FormInput from './form_input';\nimport Dropdown from './dropdown';\n// Record: temp not used\n// import { xtoast } from './message';\nimport { tf } from '../locale/locale';\n\nclass DropdownMore extends Dropdown {\n  constructor(click) {\n    const icon = new Icon('ellipsis');\n    super(icon, 'auto', false, 'top-left', 'dd-more');\n    this.contentClick = click;\n  }\n\n  reset(items) {\n    const eles = items.map((it, i) => h('div', `${cssPrefix}-item`)\n      .css('width', '150px')\n      .css('font-weight', 'normal')\n      .on('click', () => {\n        this.contentClick(i);\n        this.hide();\n      })\n      .child(it));\n    this.setContentChildren(...eles);\n  }\n\n  setTitle() {}\n}\n\nconst menuItems = [\n  { key: 'delete', title: tf('contextmenu.deleteSheet') },\n];\n\nfunction buildMenuItem(item) {\n  return h('div', `${cssPrefix}-item`)\n    .child(item.title())\n    .on('click', () => {\n      this.itemClick(item.key);\n      this.hide();\n    });\n}\n\nfunction buildMenu() {\n  return menuItems.map(it => buildMenuItem.call(this, it));\n}\n\nclass ContextMenu {\n  constructor() {\n    this.el = h('div', `${cssPrefix}-contextmenu`)\n      .css('width', '160px')\n      .children(...buildMenu.call(this))\n      .hide();\n    this.itemClick = () => {};\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setOffset(offset) {\n    const { el } = this;\n    el.offset(offset);\n    el.show();\n    bindClickoutside(el);\n  }\n}\n\nexport default class Bottombar {\n  constructor(addFunc = () => {},\n    swapFunc = () => {},\n    deleteFunc = () => {},\n    updateFunc = () => {}) {\n    this.swapFunc = swapFunc;\n    this.updateFunc = updateFunc;\n    this.dataNames = [];\n    this.activeEl = null;\n    this.deleteEl = null;\n    this.items = [];\n    this.moreEl = new DropdownMore((i) => {\n      this.clickSwap2(this.items[i]);\n    });\n    this.contextMenu = new ContextMenu();\n    this.contextMenu.itemClick = deleteFunc;\n    this.el = h('div', `${cssPrefix}-bottombar`).children(\n      this.contextMenu.el,\n      this.menuEl = h('ul', `${cssPrefix}-menu`).child(\n        h('li', '').children(\n          new Icon('add').on('click', () => {\n            addFunc();\n          }),\n          h('span', '').child(this.moreEl),\n        ),\n      ),\n    );\n  }\n\n  addItem(name, active, options) {\n    this.dataNames.push(name);\n    const item = h('li', active ? 'active' : '').child(name);\n    item.on('click', () => {\n      this.clickSwap2(item);\n    }).on('contextmenu', (evt) => {\n      if (options.mode === 'read') return;\n      const { offsetLeft, offsetHeight } = evt.target;\n      this.contextMenu.setOffset({ left: offsetLeft, bottom: offsetHeight + 1 });\n      this.deleteEl = item;\n    }).on('dblclick', () => {\n      if (options.mode === 'read') return;\n      const v = item.html();\n      const input = new FormInput('auto', '');\n      input.val(v);\n      // TODO: support ENTER key\n      input.input.on('blur', ({ target }) => {\n        const { value } = target;\n        const nindex = this.dataNames.findIndex(it => it === v);\n        this.renameItem(nindex, value);\n        /*\n        this.dataNames.splice(nindex, 1, value);\n        this.moreEl.reset(this.dataNames);\n        item.html('').child(value);\n        this.updateFunc(nindex, value);\n        */\n      });\n      item.html('').child(input.el);\n      input.focus();\n    });\n    if (active) {\n      this.clickSwap(item);\n    }\n    this.items.push(item);\n    this.menuEl.child(item);\n    this.moreEl.reset(this.dataNames);\n  }\n\n  renameItem(index, value) {\n    this.dataNames.splice(index, 1, value);\n    this.moreEl.reset(this.dataNames);\n    this.items[index].html('').child(value);\n    this.updateFunc(index, value);\n  }\n\n  clear() {\n    this.items.forEach((it) => {\n      this.menuEl.removeChild(it.el);\n    });\n    this.items = [];\n    this.dataNames = [];\n    this.moreEl.reset(this.dataNames);\n  }\n\n  deleteItem() {\n    const { activeEl, deleteEl } = this;\n    if (this.items.length > 1) {\n      const index = this.items.findIndex(it => it === deleteEl);\n      this.items.splice(index, 1);\n      this.dataNames.splice(index, 1);\n      this.menuEl.removeChild(deleteEl.el);\n      this.moreEl.reset(this.dataNames);\n      if (activeEl === deleteEl) {\n        const [f] = this.items;\n        this.activeEl = f;\n        this.activeEl.toggle();\n        return [index, 0];\n      }\n      return [index, -1];\n    }\n    return [-1];\n  }\n\n  clickSwap2(item) {\n    const index = this.items.findIndex(it => it === item);\n    this.clickSwap(item);\n    this.activeEl.toggle();\n    this.swapFunc(index);\n  }\n\n  clickSwap(item) {\n    if (this.activeEl !== null) {\n      this.activeEl.toggle();\n    }\n    this.activeEl = item;\n  }\n}\n","/* global window, document */\nimport { h } from './component/element';\nimport DataProxy from './core/data_proxy';\nimport Sheet from './component/sheet';\nimport Bottombar from './component/bottombar';\nimport { cssPrefix } from './config';\nimport { locale } from './locale/locale';\nimport './index.less';\n\n\nexport default class Spreadsheet {\n  constructor(selectors, options = {}) {\n    let targetEl = selectors;\n    this.options = {\n      showBottomBar: true, showPrint: true, showValidation: true, ...options,\n    };\n    this.sheetIndex = 1;\n    this.datas = [];\n    if (typeof selectors === 'string') {\n      targetEl = document.querySelector(selectors);\n    }\n    this.bottombar = this.options.showBottomBar ? new Bottombar(() => {\n      if (this.options.mode === 'read') return;\n      const d = this.addSheet();\n      this.sheet.resetData(d);\n    }, (index) => {\n      const d = this.datas[index];\n      this.sheet.resetData(d);\n    }, () => {\n      this.deleteSheet();\n    }, (index, value) => {\n      this.datas[index].name = value;\n      this.sheet.trigger('change');\n    }) : null;\n    this.data = this.addSheet();\n    const rootEl = h('div', `${cssPrefix}`)\n      .on('contextmenu', evt => evt.preventDefault());\n    // create canvas element\n    targetEl.appendChild(rootEl.el);\n    this.sheet = new Sheet(rootEl, this.data);\n    if (this.bottombar !== null) {\n      rootEl.child(this.bottombar.el);\n    }\n  }\n\n  addSheet(name, active = true) {\n    const n = name || `sheet${this.sheetIndex}`;\n    const d = new DataProxy(n, this.options);\n    d.change = (...args) => {\n      this.sheet.trigger('change', ...args);\n    };\n    this.datas.push(d);\n    // console.log('d:', n, d, this.datas);\n    if (this.bottombar !== null) {\n      this.bottombar.addItem(n, active, this.options);\n    }\n    this.sheetIndex += 1;\n    return d;\n  }\n\n  deleteSheet() {\n    if (this.bottombar === null) return;\n\n    const [oldIndex, nindex] = this.bottombar.deleteItem();\n    if (oldIndex >= 0) {\n      this.datas.splice(oldIndex, 1);\n      if (nindex >= 0) this.sheet.resetData(this.datas[nindex]);\n      this.sheet.trigger('change');\n    }\n  }\n\n  loadData(data) {\n    const ds = Array.isArray(data) ? data : [data];\n    if (this.bottombar !== null) {\n      this.bottombar.clear();\n    }\n    this.sheetIndex = 1;\n    this.datas = [];\n    if (ds.length > 0) {\n      for (let i = 0; i < ds.length; i += 1) {\n        const it = ds[i];\n        const nd = this.addSheet(it.name, i === 0);\n        nd.setData(it);\n        if (i === 0) {\n          this.sheet.resetData(nd);\n        }\n      }\n    }\n    return this;\n  }\n\n  getData() {\n    return this.datas.map(it => it.getData());\n  }\n\n  cellText(ri, ci, text, sheetIndex = 0) {\n    this.datas[sheetIndex].setCellText(ri, ci, text, 'finished');\n    return this;\n  }\n\n  cell(ri, ci, sheetIndex = 0) {\n    return this.datas[sheetIndex].getCell(ri, ci);\n  }\n\n  cellStyle(ri, ci, sheetIndex = 0) {\n    return this.datas[sheetIndex].getCellStyle(ri, ci);\n  }\n\n  reRender() {\n    this.sheet.table.render();\n    return this;\n  }\n\n  on(eventName, func) {\n    this.sheet.on(eventName, func);\n    return this;\n  }\n\n  validate() {\n    const { validations } = this.data;\n    return validations.errors.size <= 0;\n  }\n\n  change(cb) {\n    this.sheet.on('change', cb);\n    return this;\n  }\n\n  static locale(lang, message) {\n    locale(lang, message);\n  }\n}\n\nconst spreadsheet = (el, options = {}) => new Spreadsheet(el, options);\n\nif (window) {\n  window.x_spreadsheet = spreadsheet;\n  window.x_spreadsheet.locale = (lang, message) => locale(lang, message);\n}\n\n// export default Spreadsheet;\n// export {\n//   spreadsheet,\n// };\n// exports.Spreadsheet = Spreadsheet;\nexports.Spreadsheet = Spreadsheet;\n"],"sourceRoot":""}